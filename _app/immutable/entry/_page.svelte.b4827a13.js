import{S as So,i as Do,s as Io,e as ps,b as ne,g as pt,v as fu,d as Ht,f as mu,h as U,o as jd,C as zd,D as Yd,E as Bd,F as qd,a as He,c as Ge,J as zi,K as Wd,L as xo,k as ge,l as ye,m as De,n as Fe,q as Te,r as Ee,G as te,u as yn,M as $d,p as Co,y as pu,z as gu,A as yu,B as wu,H as vu}from"../chunks/index.95fb31b0.js";const Fs=["which","there","their","about","would","these","other","words","could","write","first","water","after","where","right","think","three","years","place","sound","great","again","still","every","small","found","those","never","under","might","while","house","world","below","asked","going","large","until","along","shall","being","often","earth","began","since","study","night","light","above","paper","parts","young","story","point","times","heard","whole","white","given","means","music","miles","thing","today","later","using","money","lines","order","group","among","learn","known","space","table","early","trees","short","hands","state","black","shown","stood","front","voice","kinds","makes","comes","close","power","lived","vowel","taken","built","heart","ready","quite","class","bring","round","horse","shows","piece","green","stand","birds","start","river","tried","least","field","whose","girls","leave","added","color","third","hours","moved","plant","doing","names","forms","heavy","ideas","cried","check","floor","begin","woman","alone","plane","spell","watch","carry","wrote","clear","named","books","child","glass","human","takes","party","build","seems","blood","sides","seven","mouth","solve","north","value","death","maybe","happy","tells","gives","looks","shape","lives","steps","areas","sense","speak","force","ocean","speed","women","metal","south","grass","scale","cells","lower","sleep","wrong","pages","ships","needs","rocks","eight","major","level","total","ahead","reach","stars","store","sight","terms","catch","works","board","cover","songs","equal","stone","waves","guess","dance","spoke","break","cause","radio","weeks","lands","basic","liked","trade","fresh","final","fight","meant","drive","spent","local","waxes","knows","train","bread","homes","teeth","coast","thick","brown","clean","quiet","sugar","facts","steel","forth","rules","notes","units","peace","month","verbs","seeds","helps","sharp","visit","woods","chief","walls","cross","wings","grown","cases","foods","crops","fruit","stick","wants","stage","sheep","nouns","plain","drink","bones","apart","turns","moves","touch","angle","based","range","marks","tired","older","farms","spend","shoes","goods","chair","twice","cents","empty","alike","style","broke","pairs","count","enjoy","score","shore","roots","paint","heads","shook","serve","angry","crowd","wheel","quick","dress","share","alive","noise","solid","cloth","signs","hills","types","drawn","worth","truck","piano","upper","loved","usual","faces","drove","cabin","boats","towns","proud","court","model","prime","fifty","plans","yards","prove","tools","price","sheet","smell","boxes","raise","match","truth","roads","threw","enemy","lunch","chart","scene","graph","doubt","guide","winds","block","grain","smoke","mixed","games","wagon","sweet","topic","extra","plate","title","knife","fence","falls","cloud","wheat","plays","enter","broad","steam","atoms","press","lying","basis","clock","taste","grows","thank","storm","agree","brain","track","smile","funny","beach","stock","hurry","saved","sorry","giant","trail","offer","ought","rough","daily","avoid","keeps","throw","allow","cream","laugh","edges","teach","frame","bells","dream","magic","occur","ended","chord","false","skill","holes","dozen","brave","apple","climb","outer","pitch","ruler","holds","fixed","costs","calls","blank","staff","labor","eaten","youth","tones","honor","globe","gases","doors","poles","loose","apply","tears","exact","brush","chest","layer","whale","minor","faith","tests","judge","items","worry","waste","hoped","strip","begun","aside","lakes","bound","depth","candy","event","worse","aware","shell","rooms","ranch","image","snake","aloud","dried","likes","motor","pound","knees","refer","fully","chain","shirt","flour","drops","spite","orbit","banks","shoot","curve","tribe","tight","blind","slept","shade","claim","flies","theme","queen","fifth","union","hence","straw","entry","issue","birth","feels","anger","brief","rhyme","glory","guard","flows","flesh","owned","trick","yours","sizes","noted","width","burst","route","lungs","uncle","bears","royal","kings","forty","trial","cards","brass","opera","chose","owner","vapor","beats","mouse","tough","wires","meter","tower","finds","inner","stuck","arrow","poems","label","swing","solar","truly","tense","beans","split","rises","weigh","hotel","stems","pride","swung","grade","digit","badly","boots","pilot","sales","swept","lucky","prize","stove","tubes","acres","wound","steep","slide","trunk","error","porch","slave","exist","faced","mines","marry","juice","raced","waved","goose","trust","fewer","favor","mills","views","joint","eager","spots","blend","rings","adult","index","nails","horns","balls","flame","rates","drill","trace","skins","waxed","seats","stuff","ratio","minds","dirty","silly","coins","hello","trips","leads","rifle","hopes","bases","shine","bench","moral","fires","meals","shake","shops","cycle","movie","slope","canoe","teams","folks","fired","bands","thumb","shout","canal","habit","reply","ruled","fever","crust","shelf","walks","midst","crack","print","tales","coach","stiff","flood","verse","awake","rocky","march","fault","swift","faint","civil","ghost","feast","blade","limit","germs","reads","ducks","dairy","worst","gifts","lists","stops","rapid","brick","claws","beads","beast","skirt","cakes","lions","frogs","tries","nerve","grand","armed","treat","honey","moist","legal","penny","crown","shock","taxes","sixty","altar","pulls","sport","drums","talks","dying","dates","drank","blows","lever","wages","proof","drugs","tanks","sings","tails","pause","herds","arose","hated","clues","novel","shame","burnt","races","flash","weary","heels","token","coats","spare","shiny","alarm","dimes","sixth","clerk","mercy","sunny","guest","float","shone","pipes","worms","bills","sweat","suits","smart","upset","rains","sandy","rainy","parks","sadly","fancy","rider","unity","bunch","rolls","crash","craft","newly","gates","hatch","paths","funds","wider","grace","grave","tides","admit","shift","sails","pupil","tiger","angel","cruel","agent","drama","urged","patch","nests","vital","sword","blame","weeds","screw","vocal","bacon","chalk","cargo","crazy","acted","goats","arise","witch","loves","queer","dwell","backs","ropes","shots","merry","phone","cheek","peaks","ideal","beard","eagle","creek","cries","ashes","stall","yield","mayor","opens","input","fleet","tooth","cubic","wives","burns","poets","apron","spear","organ","cliff","stamp","paste","rural","baked","chase","slice","slant","knock","noisy","sorts","stays","wiped","blown","piled","clubs","cheer","widow","twist","tenth","hides","comma","sweep","spoon","stern","crept","maple","deeds","rides","muddy","crime","jelly","ridge","drift","dusty","devil","tempo","humor","sends","steal","tents","waist","roses","reign","noble","cheap","dense","linen","geese","woven","posts","hired","wrath","salad","bowed","tires","shark","belts","grasp","blast","polar","fungi","tends","pearl","loads","jokes","veins","frost","hears","loses","hosts","diver","phase","toads","alert","tasks","seams","coral","focus","naked","puppy","jumps","spoil","quart","macro","fears","flung","spark","vivid","brook","steer","spray","decay","ports","socks","urban","goals","grant","minus","films","tunes","shaft","firms","skies","bride","wreck","flock","stare","hobby","bonds","dared","faded","thief","crude","pants","flute","votes","tonal","radar","wells","skull","hairs","argue","wears","dolls","voted","caves","cared","broom","scent","panel","fairy","olive","bends","prism","lamps","cable","peach","ruins","rally","schwa","lambs","sells","cools","draft","charm","limbs","brake","gazed","cubes","delay","beams","fetch","ranks","array","harsh","camel","vines","picks","naval","purse","rigid","crawl","toast","soils","sauce","basin","ponds","twins","wrist","fluid","pools","brand","stalk","robot","reeds","hoofs","buses","sheer","grief","bloom","dwelt","melts","risen","flags","knelt","fiber","roofs","freed","armor","piles","aimed","algae","twigs","lemon","ditch","drunk","rests","chill","slain","panic","cords","tuned","crisp","ledge","dived","swamp","clung","stole","molds","yarns","liver","gauge","breed","stool","gulls","awoke","gross","diary","rails","belly","trend","flask","stake","fried","draws","actor","handy","bowls","haste","scope","deals","knots","moons","essay","thump","hangs","bliss","dealt","gains","bombs","clown","palms","cones","roast","tidal","bored","chant","acids","dough","camps","swore","lover","hooks","males","cocoa","punch","award","reins","ninth","noses","links","drain","fills","nylon","lunar","pulse","flown","elbow","fatal","sites","moths","meats","foxes","mined","attic","fiery","mount","usage","swear","snowy","rusty","scare","traps","relax","react","valid","robin","cease","gills","prior","safer","polio","loyal","swell","salty","marsh","vague","weave","mound","seals","mules","virus","scout","acute","windy","stout","folds","seize","hilly","joins","pluck","stack","lords","dunes","burro","hawks","trout","feeds","scarf","halls","coals","towel","souls","elect","buggy","pumps","loans","spins","files","oxide","pains","photo","rival","flats","syrup","rodeo","sands","moose","pints","curly","comic","cloak","onion","clams","scrap","didst","couch","codes","fails","ounce","lodge","greet","gypsy","utter","paved","zones","fours","alley","tiles","bless","crest","elder","kills","yeast","erect","bugle","medal","roles","hound","snail","alter","ankle","relay","loops","zeros","bites","modes","debts","realm","glove","rayon","swims","poked","stray","lifts","maker","lumps","graze","dread","barns","docks","masts","pours","wharf","curse","plump","robes","seeks","cedar","curls","jolly","myths","cages","gloom","locks","pedal","beets","crows","anode","slash","creep","rowed","chips","fists","wines","cares","valve","newer","motel","ivory","necks","clamp","barge","blues","alien","frown","strap","crews","shack","gonna","saves","stump","ferry","idols","cooks","juicy","glare","carts","alloy","bulbs","lawns","lasts","fuels","oddly","crane","filed","weird","shawl","slips","troop","bolts","suite","sleek","quilt","tramp","blaze","atlas","odors","scrub","crabs","probe","logic","adobe","exile","rebel","grind","sting","spine","cling","desks","grove","leaps","prose","lofty","agony","snare","tusks","bulls","moods","humid","finer","dimly","plank","china","pines","guilt","sacks","brace","quote","lathe","gaily","fonts","scalp","adopt","foggy","ferns","grams","clump","perch","tumor","teens","crank","fable","hedge","genes","sober","boast","tract","cigar","unite","owing","thigh","haiku","swish","dikes","wedge","booth","eased","frail","cough","tombs","darts","forts","choir","pouch","pinch","hairy","buyer","torch","vigor","waltz","heats","herbs","users","flint","click","madam","bleak","blunt","aided","lacks","masks","waded","risks","nurse","chaos","sewed","cured","ample","lease","steak","sinks","merit","bluff","bathe","gleam","bonus","colts","shear","gland","silky","skate","birch","anvil","sleds","groan","maids","meets","speck","hymns","hints","drown","bosom","slick","quest","coils","spied","snows","stead","snack","plows","blond","tamed","thorn","waits","glued","banjo","tease","arena","bulky","carve","stunt","warms","shady","razor","folly","leafy","notch","fools","otter","pears","flush","genus","ached","fives","flaps","spout","smote","fumes","adapt","cuffs","tasty","stoop","clips","disks","sniff","lanes","brisk","imply","demon","super","furry","raged","growl","texts","hardy","stung","typed","hates","wiser","timid","serum","beaks","rotor","casts","baths","glide","plots","trait","resin","slums","lyric","puffs","decks","brood","mourn","aloft","abuse","whirl","edged","ovary","quack","heaps","slang","await","civic","saint","bevel","sonar","aunts","packs","froze","tonic","corps","swarm","frank","repay","gaunt","wired","niece","cello","needy","chuck","stony","media","surge","hurts","repel","husky","dated","hunts","mists","exert","dries","mates","sworn","baker","spice","oasis","boils","spurs","doves","sneak","paces","colon","siege","strum","drier","cacao","humus","bales","piped","nasty","rinse","boxer","shrub","amuse","tacks","cited","slung","delta","laden","larva","rents","yells","spool","spill","crush","jewel","snaps","stain","kicks","tying","slits","rated","eerie","smash","plums","zebra","earns","bushy","scary","squad","tutor","silks","slabs","bumps","evils","fangs","snout","peril","pivot","yacht","lobby","jeans","grins","viola","liner","comet","scars","chops","raids","eater","slate","skips","soles","misty","urine","knobs","sleet","holly","pests","forks","grill","trays","pails","borne","tenor","wares","carol","woody","canon","wakes","kitty","miner","polls","shaky","nasal","scorn","chess","taxis","crate","shyly","tulip","forge","nymph","budge","lowly","abide","depot","oases","asses","sheds","fudge","pills","rivet","thine","groom","lanky","boost","broth","heave","gravy","beech","timed","quail","inert","gears","chick","hinge","trash","clash","sighs","renew","bough","dwarf","slows","quill","shave","spore","sixes","chunk","madly","paced","braid","fuzzy","motto","spies","slack","mucus","magma","awful","discs","erase","posed","asset","cider","taper","theft","churn","satin","slots","taxed","bully","sloth","shale","tread","raked","curds","manor","aisle","bulge","loins","stair","tapes","leans","bunks","squat","towed","lance","panes","sakes","heirs","caste","dummy","pores","fauna","crook","poise","epoch","risky","warns","fling","berry","grape","flank","drags","squid","pelts","icing","irony","irons","barks","whoop","choke","diets","whips","tally","dozed","twine","kites","bikes","ticks","riots","roars","vault","looms","scold","blink","dandy","pupae","sieve","spike","ducts","lends","pizza","brink","widen","plumb","pagan","feats","bison","soggy","scoop","argon","nudge","skiff","amber","sexes","rouse","salts","hitch","exalt","leash","dined","chute","snort","gusts","melon","cheat","reefs","llama","lasso","debut","quota","oaths","prone","mixes","rafts","dives","stale","inlet","flick","pinto","brows","untie","batch","greed","chore","stirs","blush","onset","barbs","volts","beige","swoop","paddy","laced","shove","jerky","poppy","leaks","fares","dodge","godly","squaw","affix","brute","nicer","undue","snarl","merge","doses","showy","daddy","roost","vases","swirl","petty","colds","curry","cobra","genie","flare","messy","cores","soaks","ripen","whine","amino","plaid","spiny","mowed","baton","peers","vowed","pious","swans","exits","afoot","plugs","idiom","chili","rites","serfs","cleft","berth","grubs","annex","dizzy","hasty","latch","wasps","mirth","baron","plead","aloof","aging","pixel","bared","mummy","hotly","auger","buddy","chaps","badge","stark","fairs","gully","mumps","emery","filly","ovens","drone","gauze","idiot","fussy","annoy","shank","gouge","bleed","elves","roped","unfit","baggy","mower","scant","grabs","fleas","lousy","album","sawed","cooky","murky","infer","burly","waged","dingy","brine","kneel","creak","vanes","smoky","spurt","combs","easel","laces","humps","rumor","aroma","horde","swiss","leapt","opium","slime","afire","pansy","mares","soaps","husks","snips","hazel","lined","cafes","naive","wraps","sized","piers","beset","agile","tongs","steed","fraud","booty","valor","downy","witty","mossy","psalm","scuba","tours","polka","milky","gaudy","shrug","tufts","wilds","laser","truss","hares","creed","lilac","siren","tarry","bribe","swine","muted","flips","cures","sinew","boxed","hoops","gasps","hoods","niche","yucca","glows","sewer","whack","fuses","gowns","droop","bucks","pangs","mails","whisk","haven","clasp","sling","stint","urges","champ","piety","chirp","pleat","posse","sunup","menus","howls","quake","knack","plaza","fiend","caked","bangs","erupt","poker","olden","cramp","voter","poses","manly","slump","fined","grips","gaped","purge","hiked","maize","fluff","strut","sloop","prowl","roach","cocks","bland","dials","plume","slaps","soups","dully","wills","foams","solos","skier","eaves","totem","fused","latex","veils","mused","mains","myrrh","racks","galls","gnats","bouts","sisal","shuts","hoses","dryly","hover","gloss","seeps","denim","putty","guppy","leaky","dusky","filth","oboes","spans","fowls","adorn","glaze","haunt","dares","obeys","bakes","abyss","smelt","gangs","aches","trawl","claps","undid","spicy","hoist","fades","vicar","acorn","pussy","gruff","musty","tarts","snuff","hunch","truce","tweed","dryer","loser","sheaf","moles","lapse","tawny","vexed","autos","wager","domes","sheen","clang","spade","sowed","broil","slyly","studs","grunt","donor","slugs","aspen","homer","croak","tithe","halts","avert","havoc","hogan","glint","ruddy","jeeps","flaky","ladle","taunt","snore","fines","props","prune","pesos","radii","pokes","tiled","daisy","heron","villa","farce","binds","cites","fixes","jerks","livid","waked","inked","booms","chews","licks","hyena","scoff","lusty","sonic","smith","usher","tucks","vigil","molts","sects","spars","dumps","scaly","wisps","sores","mince","panda","flier","axles","plied","booby","patio","rabbi","petal","polyp","tints","grate","troll","tolls","relic","phony","bleat","flaws","flake","snags","aptly","drawl","ulcer","soapy","bossy","monks","crags","caged","twang","diner","taped","cadet","grids","spawn","guile","noose","mores","girth","slimy","aides","spasm","burrs","alibi","lymph","saucy","muggy","liter","joked","goofy","exams","enact","stork","lured","toxic","omens","nears","covet","wrung","forum","venom","moody","alder","sassy","flair","guild","prays","wrens","hauls","stave","tilts","pecks","stomp","gales","tempt","capes","mesas","omits","tepee","harry","wring","evoke","limes","cluck","lunge","highs","canes","giddy","lithe","verge","khaki","queue","loath","foyer","outdo","fared","deter","crumb","astir","spire","jumpy","extol","buoys","stubs","lucid","thong","afore","whiff","maxim","hulls","clogs","slats","jiffy","arbor","cinch","igloo","goody","gazes","dowel","calms","bitch","scowl","gulps","coded","waver","mason","lobes","ebony","flail","isles","clods","dazed","adept","oozed","sedan","clays","warts","ketch","skunk","manes","adore","sneer","mango","fiord","flora","roomy","minks","thaws","watts","freer","exult","plush","paled","twain","clink","scamp","pawed","grope","bravo","gable","stink","sever","waned","rarer","regal","wards","fawns","babes","unify","amend","oaken","glade","visor","hefty","nines","throb","pecan","butts","pence","sills","jails","flyer","saber","nomad","miter","beeps","domed","gulfs","curbs","heath","moors","aorta","larks","tangy","wryly","cheep","rages","evade","lures","freak","vogue","tunic","slams","knits","dumpy","mania","spits","firth","hikes","trots","nosed","clank","dogma","bloat","balsa","graft","middy","stile","keyed","finch","sperm","chaff","wiles","amigo","copra","amiss","eying","twirl","lurch","popes","chins","smock","tines","guise","grits","junks","shoal","cache","tapir","atoll","deity","toils","spree","mocks","scans","shorn","revel","raven","hoary","reels","scuff","mimic","weedy","corny","truer","rouge","ember","floes","torso","wipes","edict","sulky","recur","groin","baste","kinks","surer","piggy","moldy","franc","liars","inept","gusty","facet","jetty","equip","leper","slink","soars","cater","dowry","sided","yearn","decoy","taboo","ovals","heals","pleas","beret","spilt","gayly","rover","endow","pygmy","carat","abbey","vents","waken","chimp","fumed","sodas","vinyl","clout","wades","mites","smirk","bores","bunny","surly","frock","foray","purer","milks","query","mired","blare","froth","gruel","navel","paler","puffy","casks","grime","derby","mamma","gavel","teddy","vomit","moans","allot","defer","wield","viper","louse","erred","hewed","abhor","wrest","waxen","adage","ardor","stabs","pored","rondo","loped","fishy","bible","hires","foals","feuds","jambs","thuds","jeers","knead","quirk","rugby","expel","greys","rigor","ester","lyres","aback","glues","lotus","lurid","rungs","hutch","thyme","valet","tommy","yokes","epics","trill","pikes","ozone","caper","chime","frees","famed","leech","smite","neigh","erode","robed","hoard","salve","conic","gawky","craze","jacks","gloat","mushy","rumps","fetus","wince","pinks","shalt","toots","glens","cooed","rusts","stews","shred","parka","chugs","winks","clots","shrew","booed","filmy","juror","dents","gummy","grays","hooky","butte","dogie","poled","reams","fifes","spank","gayer","tepid","spook","taint","flirt","rogue","spiky","opals","miser","cocky","coyly","balmy","slosh","brawl","aphid","faked","hydra","brags","chide","yanks","allay","video","altos","eases","meted","chasm","longs","excel","taffy","impel","savor","koala","quays","dawns","proxy","clove","duets","dregs","tardy","briar","grimy","ultra","meaty","halve","wails","suede","mauve","envoy","arson","coves","gooey","brews","sofas","chums","amaze","zooms","abbot","halos","scour","suing","cribs","sagas","enema","wordy","harps","coupe","molar","flops","weeps","mints","ashen","felts","askew","munch","mewed","divan","vices","jumbo","blobs","blots","spunk","acrid","topaz","cubed","clans","flees","slurs","gnaws","welds","fords","emits","agate","pumas","mends","darks","dukes","plies","canny","hoots","oozes","lamed","fouls","clefs","nicks","mated","skims","brunt","tuber","tinge","fates","ditty","thins","frets","eider","bayou","mulch","fasts","amass","damps","morns","friar","palsy","vista","croon","conch","udder","tacos","skits","mikes","quits","preen","aster","adder","elegy","pulpy","scows","baled","hovel","lavas","crave","optic","welts","busts","knave","razed","shins","totes","scoot","dears","crock","mutes","trims","skein","doted","shuns","veers","fakes","yoked","wooed","hacks","sprig","wands","lulls","seers","snobs","nooks","pined","perky","mooed","frill","dines","booze","tripe","prong","drips","odder","levee","antic","sidle","pithy","corks","yelps","joker","fleck","buffs","scram","tiers","bogey","doled","irate","vales","coped","hails","elude","bulks","aired","vying","stags","strew","cocci","pacts","scabs","silos","dusts","yodel","terse","jaded","baser","jibes","foils","sways","forgo","slays","preys","treks","quell","peeks","assay","lurks","eject","boars","trite","belch","gnash","wanes","lutes","whims","dosed","chewy","snipe","umbra","teems","dozes","kelps","upped","brawn","doped","shush","rinds","slush","moron","voile","woken","fjord","sheik","jests","kayak","slews","toted","saner","drape","patty","raves","sulfa","grist","skied","vixen","civet","vouch","tiara","homey","moped","runts","serge","kinky","rills","corns","brats","pries","amble","fries","loons","tsars","datum","musky","pigmy","gnome","ravel","ovule","icily","liken","lemur","frays","silts","sifts","plods","ramps","tress","earls","dudes","waive","karat","jolts","peons","beers","horny","pales","wreak","lairs","lynch","stank","swoon","idler","abort","blitz","ensue","atone","bingo","roves","kilts","scald","adios","cynic","dulls","memos","elfin","dales","peels","peals","bares","sinus","crone","sable","hinds","shirk","enrol","wilts","roams","duped","cysts","mitts","safes","spats","coops","filet","knell","refit","covey","punks","kilns","fitly","abate","talcs","heeds","duels","wanly","ruffs","gauss","lapel","jaunt","whelp","cleat","gauzy","dirge","edits","wormy","moats","smear","prods","bowel","frisk","vests","bayed","rasps","tames","delve","embed","befit","wafer","ceded","novas","feign","spews","larch","huffs","doles","mamas","hulks","pried","brims","irked","aspic","swipe","mealy","skimp","bluer","slake","dowdy","penis","brays","pupas","egret","flunk","phlox","gripe","peony","douse","blurs","darns","slunk","lefts","chats","inane","vials","stilt","rinks","woofs","wowed","bongs","frond","ingot","evict","singe","shyer","flied","slops","dolts","drool","dells","whelk","hippy","feted","ether","cocos","hives","jibed","mazes","trios","sirup","squab","laths","leers","pasta","rifts","lopes","alias","whirs","diced","slags","lodes","foxed","idled","prows","plait","malts","chafe","cower","toyed","chefs","keels","sties","racer","etude","sucks","sulks","micas","czars","copse","ailed","abler","rabid","golds","croup","snaky","visas","palls","mopes","boned","wispy","raved","swaps","junky","doily","pawns","tamer","poach","baits","damns","gumbo","daunt","prank","hunks","buxom","heres","honks","stows","unbar","idles","routs","sages","goads","remit","copes","deign","culls","girds","haves","lucks","stunk","dodos","shams","snubs","icons","usurp","dooms","hells","soled","comas","paves","maths","perks","limps","wombs","blurb","daubs","cokes","sours","stuns","cased","musts","coeds","cowed","aping","zoned","rummy","fetes","skulk","quaff","rajah","deans","reaps","galas","tills","roved","kudos","toned","pared","scull","vexes","punts","snoop","bails","dames","hazes","lores","marts","voids","ameba","rakes","adzes","harms","rears","satyr","swill","hexes","colic","leeks","hurls","yowls","ivies","plops","musks","papaw","jells","bused","cruet","bided","filch","zests","rooks","laxly","rends","loams","basks","sires","carps","pokey","flits","muses","bawls","shuck","viler","lisps","peeps","sorer","lolls","prude","diked","floss","flogs","scums","dopes","bogie","pinky","leafs","tubas","scads","lowed","yeses","biked","qualm","evens","caned","gawks","whits","wooly","gluts","romps","bests","dunce","crony","joist","tunas","boner","malls","parch","avers","crams","pares","dally","bigot","kales","flays","leach","gushy","pooch","huger","slyer","golfs","mires","flues","loafs","arced","acnes","neons","fiefs","dints","dazes","pouts","cored","yules","lilts","beefs","mutts","fells","cowls","spuds","lames","jawed","dupes","deads","bylaw","noons","nifty","clued","vireo","gapes","metes","cuter","maims","droll","cupid","mauls","sedge","papas","wheys","eking","loots","hilts","meows","beaus","dices","peppy","riper","fogey","gists","yogas","gilts","skews","cedes","zeals","alums","okays","elope","grump","wafts","soots","blimp","hefts","mulls","hosed","cress","doffs","ruder","pixie","waifs","ousts","pucks","biers","gulch","suets","hobos","lints","brans","teals","garbs","pewee","helms","turfs","quips","wends","banes","napes","icier","swats","bagel","hexed","ogres","goner","gilds","pyres","lards","bides","paged","talon","flout","medic","veals","putts","dirks","dotes","tippy","blurt","piths","acing","barer","whets","gaits","wools","dunks","heros","swabs","dirts","jutes","hemps","surfs","okapi","chows","shoos","dusks","parry","decal","furls","cilia","sears","novae","murks","warps","slues","lamer","saris","weans","purrs","dills","togas","newts","meany","bunts","razes","goons","wicks","ruses","vends","geode","drake","judos","lofts","pulps","lauds","mucks","vises","mocha","oiled","roman","ethyl","gotta","fugue","smack","gourd","bumpy","radix","fatty","borax","cubit","cacti","gamma","focal","avail","papal","golly","elite","versa","billy","adieu","annum","howdy","rhino","norms","bobby","axiom","setup","yolks","terns","mixer","genre","knoll","abode","junta","gorge","combo","alpha","overt","kinda","spelt","prick","nobly","ephod","audio","modal","veldt","warty","fluke","bonny","bream","rosin","bolls","doers","downs","beady","motif","humph","fella","mould","crepe","kerns","aloha","glyph","azure","riser","blest","locus","lumpy","beryl","wanna","brier","tuner","rowdy","mural","timer","canst","krill","quoth","lemme","triad","tenon","amply","deeps","padre","leant","pacer","octal","dolly","trans","sumac","foamy","lolly","giver","quipu","codex","manna","unwed","vodka","ferny","salon","duple","boron","revue","crier","alack","inter","dilly","whist","cults","spake","reset","loess","decor","mover","verve","ethic","gamut","lingo","dunno","align","sissy","incur","reedy","avant","piper","waxer","calyx","basil","coons","seine","piney","lemma","trams","winch","whirr","saith","ionic","heady","harem","tummy","sally","shied","dross","farad","saver","tilde","jingo","bower","serif","facto","belle","inset","bogus","caved","forte","sooty","bongo","toves","credo","basal","yella","aglow","glean","gusto","hymen","ethos","terra","brash","scrip","swash","aleph","tinny","itchy","wanta","trice","jowls","gongs","garde","boric","twill","sower","henry","awash","libel","spurn","sabre","rebut","penal","obese","sonny","quirt","mebbe","tacit","greek","xenon","hullo","pique","roger","negro","hadst","gecko","beget","uncut","aloes","louis","quint","clunk","raped","salvo","diode","matey","hertz","xylem","kiosk","apace","cawed","peter","wench","cohos","sorta","gamba","bytes","tango","nutty","axial","aleck","natal","clomp","gored","siree","bandy","gunny","runic","whizz","rupee","fated","wiper","bards","briny","staid","hocks","ochre","yummy","gents","soupy","roper","swath","cameo","edger","spate","gimme","ebbed","breve","theta","deems","dykes","servo","telly","tabby","tares","blocs","welch","ghoul","vitae","cumin","dinky","bronc","tabor","teeny","comer","borer","sired","privy","mammy","deary","gyros","sprit","conga","quire","thugs","furor","bloke","runes","bawdy","cadre","toxin","annul","egged","anion","nodes","picky","stein","jello","audit","echos","fagot","letup","eyrie","fount","caped","axons","amuck","banal","riled","petit","umber","miler","fibre","agave","bated","bilge","vitro","feint","pudgy","mater","manic","umped","pesky","strep","slurp","pylon","puree","caret","temps","newel","yawns","seedy","treed","coups","rangy","brads","mangy","loner","circa","tibia","afoul","mommy","titer","carne","kooky","motes","amity","suave","hippo","curvy","samba","newsy","anise","imams","tulle","aways","liven","hallo","wales","opted","canto","idyll","bodes","curio","wrack","hiker","chive","yokel","dotty","demur","cusps","specs","quads","laity","toner","decry","writs","saute","clack","aught","logos","tipsy","natty","ducal","bidet","bulgy","metre","lusts","unary","goeth","baler","sited","shies","hasps","brung","holed","swank","looky","melee","huffy","loamy","pimps","titan","binge","shunt","femur","libra","seder","honed","annas","coypu","shims","zowie","jihad","savvy","nadir","basso","monic","maned","mousy","omega","laver","prima","picas","folio","mecca","reals","troth","testy","balky","crimp","chink","abets","splat","abaci","vaunt","cutie","pasty","moray","levis","ratty","islet","joust","motet","viral","nukes","grads","comfy","voila","woozy","blued","whomp","sward","metro","skeet","chine","aerie","bowie","tubby","emirs","coati","unzip","slobs","trike","funky","ducat","dewey","skoal","wadis","oomph","taker","minim","getup","stoic","synod","runty","flyby","braze","inlay","venue","louts","peaty","orlon","humpy","radon","beaut","raspy","unfed","crick","nappy","vizor","yipes","rebus","divot","kiwis","vetch","squib","sitar","kiddo","dyers","cotta","matzo","lager","zebus","crass","dacha","kneed","dicta","fakir","knurl","runny","unpin","julep","globs","nudes","sushi","tacky","stoke","kaput","butch","hulas","croft","achoo","genii","nodal","outgo","spiel","viols","fetid","cagey","fudgy","epoxy","leggy","hanky","lapis","felon","beefy","coots","melba","caddy","segue","betel","frizz","drear","kooks","turbo","hoagy","moult","helix","zonal","arias","nosey","paean","lacey","banns","swain","fryer","retch","tenet","gigas","whiny","ogled","rumen","begot","cruse","abuts","riven","balks","sines","sigma","abase","ennui","gores","unset","augur","sated","odium","latin","dings","moire","scion","henna","kraut","dicks","lifer","prigs","bebop","gages","gazer","fanny","gibes","aural","tempi","hooch","rapes","snuck","harts","techs","emend","ninny","guava","scarp","liege","tufty","sepia","tomes","carob","emcee","prams","poser","verso","hubba","joule","baize","blips","scrim","cubby","clave","winos","rearm","liens","lumen","chump","nanny","trump","fichu","chomp","homos","purty","maser","woosh","patsy","shill","rusks","avast","swami","boded","ahhhh","lobed","natch","shish","tansy","snoot","payer","altho","sappy","laxer","hubby","aegis","riles","ditto","jazzy","dingo","quasi","septa","peaky","lorry","heerd","bitty","payee","seamy","apses","imbue","belie","chary","spoof","phyla","clime","babel","wacky","sumps","skids","khans","crypt","inure","nonce","outen","faire","hooey","anole","kazoo","calve","limbo","argot","ducky","faker","vibes","gassy","unlit","nervy","femme","biter","fiche","boors","gaffe","saxes","recap","synch","facie","dicey","ouija","hewer","legit","gurus","edify","tweak","caron","typos","rerun","polly","surds","hamza","nulls","hater","lefty","mogul","mafia","debug","pates","blabs","splay","talus","porno","moola","nixed","kilos","snide","horsy","gesso","jaggy","trove","nixes","creel","pater","iotas","cadge","skyed","hokum","furze","ankhs","curie","nutsy","hilum","remix","angst","burls","jimmy","veiny","tryst","codon","befog","gamed","flume","axman","doozy","lubes","rheas","bozos","butyl","kelly","mynah","jocks","donut","avian","wurst","chock","quash","quals","hayed","bombe","cushy","spacy","puked","leery","thews","prink","amens","tesla","intro","fiver","frump","capos","opine","coder","namer","jowly","pukes","haled","chard","duffs","bruin","reuse","whang","toons","frats","silty","telex","cutup","nisei","neato","decaf","softy","bimbo","adlib","loony","shoed","agues","peeve","noway","gamey","sarge","reran","epact","potty","coned","upend","narco","ikats","whorl","jinks","tizzy","weepy","posit","marge","vegan","clops","numbs","reeks","rubes","rower","biped","tiffs","hocus","hammy","bunco","fixit","tykes","chaws","yucky","hokey","resew","maven","adman","scuzz","slogs","souse","nacho","mimed","melds","boffo","debit","pinup","vagus","gulag","randy","bosun","educe","faxes","auras","pesto","antsy","betas","fizzy","dorky","snits","moxie","thane","mylar","nobby","gamin","gouty","esses","goyim","paned","druid","jades","rehab","gofer","tzars","octet","homed","socko","dorks","eared","anted","elide","fazes","oxbow","dowse","situs","macaw","scone","drily","hyper","salsa","mooch","gated","unjam","lipid","mitre","venal","knish","ritzy","divas","torus","mange","dimer","recut","meson","wined","fends","phage","fiats","caulk","cavil","panty","roans","bilks","hones","botch","estop","sully","sooth","gelds","ahold","raper","pager","fixer","infix","hicks","tuxes","plebe","twits","abash","twixt","wacko","primp","nabla","girts","miffs","emote","xerox","rebid","shahs","rutty","grout","grift","deify","biddy","kopek","semis","bries","acmes","piton","hussy","torts","disco","whore","boozy","gibed","vamps","amour","soppy","gonzo","durst","wader","tutus","perms","catty","glitz","brigs","nerds","barmy","gizmo","owlet","sayer","molls","shard","whops","comps","corer","colas","matte","droid","ploys","vapid","cairn","deism","mixup","yikes","prosy","raker","flubs","whish","reify","craps","shags","clone","hazed","macho","recto","refix","drams","biker","aquas","porky","doyen","exude","goofs","divvy","noels","jived","hulky","cager","harpy","oldie","vivas","admix","codas","zilch","deist","orcas","retro","pilaf","parse","rants","zingy","toddy","chiff","micro","veeps","girly","nexus","demos","bibbs","antes","lulus","gnarl","zippy","ivied","epees","wimps","tromp","grail","yoyos","poufs","hales","roust","cabal","rawer","pampa","mosey","kefir","burgs","unmet","cuspy","boobs","boons","hypes","dynes","nards","lanai","yogis","sepal","quark","toked","prate","ayins","hawed","swigs","vitas","toker","doper","bossa","linty","foist","mondo","stash","kayos","twerp","zesty","capon","wimpy","rewed","fungo","tarot","frosh","kabob","pinko","redid","mimeo","heist","tarps","lamas","sutra","dinar","whams","busty","spays","mambo","nabob","preps","odour","cabby","conks","sluff","dados","houri","swart","balms","gutsy","faxed","egads","pushy","retry","agora","drubs","daffy","chits","mufti","karma","lotto","toffs","burps","deuce","zings","kappa","clads","doggy","duper","scams","ogler","mimes","throe","zetas","waled","promo","blats","muffs","oinks","viand","coset","finks","faddy","minis","snafu","sauna","usury","muxes","craws","stats","condo","coxes","loopy","dorms","ascot","dippy","execs","dopey","envoi","umpty","gismo","fazed","strop","jives","slims","batik","pings","sonly","leggo","pekoe","prawn","luaus","campy","oodle","prexy","proms","touts","ogles","tweet","toady","naiad","hider","nuked","fatso","sluts","obits","narcs","tyros","delis","wooer","hyped","poset","byway","texas","scrod","avows","futon","torte","tuple","carom","kebab","tamps","jilts","duals","artsy","repro","modem","toped","psych","sicko","klutz","tarns","coxed","drays","cloys","anded","piker","aimer","suras","limos","flack","hapax","dutch","mucky","shire","klieg","staph","layup","tokes","axing","toper","duvet","cowry","profs","blahs","addle","sudsy","batty","coifs","suety","gabby","hafta","pitas","gouda","deice","taupe","topes","duchy","nitro","carny","limey","orals","hirer","taxer","roils","ruble","elate","dolor","wryer","snots","quais","coked","gimel","gorse","minas","goest","agape","manta","jings","iliac","admen","offen","cills","offal","lotta","bolas","thwap","alway","boggy","donna","locos","belay","gluey","bitsy","mimsy","hilar","outta","vroom","fetal","raths","renal","dyads","crocs","vires","culpa","kivas","feist","teats","thats","yawls","whens","abaca","ohhhh","aphis","fusty","eclat","perdu","mayst","exeat","molly","supra","wetly","plasm","buffa","semen","pukka","tagua","paras","stoat","secco","carte","haute","molal","shads","forma","ovoid","pions","modus","bueno","rheum","scurf","parer","ephah","doest","sprue","flams","molto","dieth","choos","miked","bronx","goopy","bally","plumy","moony","morts","yourn","bipod","spume","algal","ambit","mucho","spued","dozer","harum","groat","skint","laude","thrum","pappy","oncet","rimed","gigue","limed","plein","redly","humpf","lites","seest","grebe","absit","thanx","pshaw","yawps","plats","payed","areal","tilth","youse","gwine","thees","watsa","lento","spitz","yawed","gipsy","sprat","cornu","amahs","blowy","wahoo","lubra","mecum","whooo","coqui","sabra","edema","mrads","dicot","astro","kited","ouzel","didos","grata","bonne","axmen","klunk","summa","laves","purls","yawny","teary","masse","largo","bazar","pssst","sylph","lulab","toque","fugit","plunk","ortho","lucre","cooch","whipt","folky","tyres","wheee","corky","injun","solon","didot","kerfs","rayed","wassa","chile","begat","nippy","litre","magna","rebox","hydro","milch","brent","gyves","lazed","feued","mavis","inapt","baulk","casus","scrum","wised","fossa","dower","kyrie","bhoys","scuse","feuar","ohmic","juste","ukase","beaux","tusky","orate","musta","lardy","intra","quiff","epsom","neath","ocher","tared","homme","mezzo","corms","psoas","beaky","terry","infra","spivs","tuans","belli","bergs","anima","weirs","mahua","scops","manse","titre","curia","kebob","cycad","talky","fucks","tapis","amide","dolce","sloes","jakes","russe","blash","tutti","pruta","panga","blebs","tench","swarf","herem","missy","merse","pawky","limen","vivre","chert","unsee","tiros","brack","foots","welsh","fosse","knops","ileum","noire","firma","podgy","laird","thunk","shute","rowan","shoji","poesy","uncap","fames","glees","costa","turps","fores","solum","imago","byres","fondu","coney","polis","dictu","kraal","sherd","mumbo","wroth","chars","unbox","vacuo","slued","weest","hades","wiled","syncs","muser","excon","hoars","sibyl","passe","joeys","lotsa","lepta","shays","bocks","endue","darer","nones","ileus","plash","busby","wheal","buffo","yobbo","biles","poxes","rooty","licit","terce","bromo","hayey","dweeb","imbed","saran","bruit","punky","softs","biffs","loppy","agars","aquae","livre","biome","bunds","shews","diems","ginny","degum","polos","desex","unman","dungy","vitam","wedgy","glebe","apers","ridgy","roids","wifey","vapes","whoas","bunko","yolky","ulnas","reeky","bodge","brant","davit","deque","liker","jenny","tacts","fulls","treap","ligne","acked","refry","vower","aargh","churl","momma","gaols","whump","arras","marls","tiler","grogs","memes","midis","tided","haler","duces","twiny","poste","unrig","prise","drabs","quids","facer","spier","baric","geoid","remap","trier","gunks","steno","stoma","airer","ovate","torah","apian","smuts","pocks","yurts","exurb","defog","nuder","bosky","nimbi","mothy","joyed","labia","pards","jammy","bigly","faxer","hoppy","nurbs","cotes","dishy","vised","celeb","pismo","casas","withs","dodgy","scudi","mungs","muons","ureas","ioctl","unhip","krone","sager","verst","expat","gronk","uvula","shawm","bilgy","braes","cento","webby","lippy","gamic","lordy","mazed","tings","shoat","faery","wirer","diazo","carer","rater","greps","rente","zloty","viers","unapt","poops","fecal","kepis","taxon","eyers","wonts","spina","stoae","yenta","pooey","buret","japan","bedew","hafts","selfs","oared","herby","pryer","oakum","dinks","titty","sepoy","penes","fusee","winey","gimps","nihil","rille","giber","ousel","umiak","cuppy","hames","shits","azine","glads","tacet","bumph","coyer","honky","gamer","gooky","waspy","sedgy","bents","varia","djinn","junco","pubic","wilco","lazes","idyls","lupus","rives","snood","schmo","spazz","finis","noter","pavan","orbed","bates","pipet","baddy","goers","shako","stets","sebum","seeth","lobar","raver","ajuga","riced","velds","dribs","ville","dhows","unsew","halma","krona","limby","jiffs","treys","bauds","pffft","mimer","plebs","caner","jiber","cuppa","washy","chuff","unarm","yukky","styes","waker","flaks","maces","rimes","gimpy","guano","liras","kapok","scuds","bwana","oring","aider","prier","klugy","monte","golem","velar","firer","pieta","umbel","campo","unpeg","fovea","abeam","boson","asker","goths","vocab","vined","trows","tikis","loper","indie","boffs","spang","grapy","tater","ichor","kilty","lochs","supes","degas","flics","torsi","beths","weber","resaw","lawny","coven","mujik","relet","therm","heigh","shnor","trued","zayin","liest","barfs","bassi","qophs","roily","flabs","punny","okras","hanks","dipso","nerfs","fauns","calla","pseud","lurer","magus","obeah","atria","twink","palmy","pocky","pends","recta","plonk","slaws","keens","nicad","pones","inker","whews","groks","mosts","trews","ulnar","gyppy","cocas","expos","eruct","oiler","vacua","dreck","dater","arums","tubal","voxel","dixit","beery","assai","lades","actin","ghoti","buzzy","meads","grody","ribby","clews","creme","email","pyxie","kulak","bocci","rived","duddy","hoper","lapin","wonks","petri","phial","fugal","holon","boomy","duomo","musos","shier","hayer","porgy","hived","litho","fisty","stagy","luvya","maria","smogs","asana","yogic","slomo","fawny","amine","wefts","gonad","twirp","brava","plyer","fermi","loges","niter","revet","unate","gyved","totty","zappy","honer","giros","dicer","calks","luxes","monad","cruft","quoin","fumer","amped","shlep","vinca","yahoo","vulva","zooey","dryad","nixie","moper","iambs","lunes","nudie","limns","weals","nohow","miaow","gouts","mynas","mazer","kikes","oxeye","stoup","jujus","debar","pubes","taels","defun","rands","blear","paver","goosy","sprog","oleos","toffy","pawer","maced","crits","kluge","tubed","sahib","ganef","scats","sputa","vaned","acned","taxol","plink","oweth","tribs","resay","boule","thous","haply","glans","maxis","bezel","antis","porks","quoit","alkyd","glary","beamy","hexad","bonks","tecum","kerbs","filar","frier","redux","abuzz","fader","shoer","couth","trues","guyed","goony","booky","fuzes","hurly","genet","hodad","calix","filer","pawls","iodic","utero","henge","unsay","liers","piing","weald","sexed","folic","poxed","cunts","anile","kiths","becks","tatty","plena","rebar","abled","toyer","attar","teaks","aioli","awing","anent","feces","redip","wists","prats","mesne","muter","smurf","owest","bahts","lossy","ftped","hunky","hoers","slier","sicks","fatly","delft","hiver","himbo","pengo","busks","loxes","zonks","ilium","aport","ikons","mulct","reeve","civvy","canna","barfy","kaiak","scudo","knout","gaper","bhang","pease","uteri","lases","paten","rasae","axels","stoas","ombre","styli","gunky","hazer","kenaf","ahoys","ammos","weeny","urger","kudzu","paren","bolos","fetor","nitty","techy","lieth","somas","darky","villi","gluon","janes","cants","farts","socle","jinns","ruing","slily","ricer","hadda","wowee","rices","nerts","cauls","swive","lilty","micks","arity","pasha","finif","oinky","gutty","tetra","wises","wolds","balds","picot","whats","shiki","bungs","snarf","legos","dungs","stogy","berms","tangs","vails","roods","morel","sware","elans","latus","gules","razer","doxie","buena","overs","gutta","zincs","nates","kirks","tikes","donee","jerry","mohel","ceder","doges","unmap","folia","rawly","snark","topoi","ceils","immix","yores","diest","bubba","pomps","forky","turdy","lawzy","poohs","worts","gloms","beano","muley","barky","tunny","auric","funks","gaffs","cordy","curdy","lisle","toric","soyas","reman","mungy","carpy","apish","oaten","gappy","aurae","bract","rooky","axled","burry","sizer","proem","turfy","impro","mashy","miens","nonny","olios","grook","sates","agley","corgi","dashy","doser","dildo","apsos","xored","laker","playa","selah","malty","dulse","frigs","demit","whoso","rials","sawer","spics","bedim","snugs","fanin","azoic","icers","suers","wizen","koine","topos","shirr","rifer","feral","laded","lased","turds","swede","easts","cozen","unhit","pally","aitch","sedum","coper","ruche","geeks","swags","etext","algin","offed","ninja","holer","doter","toter","besot","dicut","macer","peens","pewit","redox","poler","yecch","fluky","doeth","twats","cruds","bebug","bider","stele","hexer","wests","gluer","pilau","abaft","whelm","lacer","inode","tabus","gator","cuing","refly","luted","cukes","bairn","bight","arses","crump","loggy","blini","spoor","toyon","harks","wazoo","fenny","naves","keyer","tufas","morph","rajas","typal","spiff","oxlip","unban","mussy","finny","rimer","login","molas","cirri","huzza","agone","unsex","unwon","peats","toile","zombi","dewed","nooky","alkyl","ixnay","dovey","holey","cuber","amyls","podia","chino","apnea","prims","lycra","johns","primo","fatwa","egger","hempy","snook","hying","fuzed","barms","crink","moots","yerba","rhumb","unarc","direr","munge","eland","nares","wrier","noddy","atilt","jukes","ender","thens","unfix","doggo","zooks","diddy","shmoo","brusk","prest","curer","pasts","kelpy","bocce","kicky","taros","lings","dicky","nerdy","abend","stela","biggy","laved","baldy","pubis","gooks","wonky","stied","hypos","assed","spumy","osier","roble","rumba","biffy","pupal"];var Hd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Gd(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var s=function n(){if(this instanceof n){var r=[null];r.push.apply(r,arguments);var i=Function.bind.apply(e,r);return new i}return e.apply(this,arguments)};s.prototype=e.prototype}else s={};return Object.defineProperty(s,"__esModule",{value:!0}),Object.keys(t).forEach(function(n){var r=Object.getOwnPropertyDescriptor(t,n);Object.defineProperty(s,n,r.get?r:{enumerable:!0,get:function(){return t[n]}})}),s}var rr={},Kd={get exports(){return rr},set exports(t){rr=t}};(function(t,e){(function(s,n){var r="0.7.34",i="",o="?",a="function",l="undefined",u="object",c="string",p="major",h="model",m="name",f="type",d="vendor",g="version",b="architecture",M="console",S="mobile",x="tablet",Q="smarttv",We="wearable",St="embedded",fi=350,mi="Amazon",Os="Apple",Ba="ASUS",qa="BlackBerry",ts="Browser",Fn="Chrome",Pd="Edge",Un="Firefox",Vn="Google",Wa="Huawei",pi="LG",gi="Microsoft",$a="Motorola",jn="Opera",yi="Samsung",Ha="Sharp",zn="Sony",wi="Xiaomi",vi="Zebra",Ga="Facebook",Ka="Chromium OS",Qa="Mac OS",Fd=function(z,G){var F={};for(var Z in z)G[Z]&&G[Z].length%2===0?F[Z]=G[Z].concat(z[Z]):F[Z]=z[Z];return F},Yn=function(z){for(var G={},F=0;F<z.length;F++)G[z[F].toUpperCase()]=z[F];return G},Xa=function(z,G){return typeof z===c?Rs(G).indexOf(Rs(z))!==-1:!1},Rs=function(z){return z.toLowerCase()},Ud=function(z){return typeof z===c?z.replace(/[^\d\.]/g,i).split(".")[0]:n},bi=function(z,G){if(typeof z===c)return z=z.replace(/^\s\s*/,i),typeof G===l?z:z.substring(0,fi)},Ls=function(z,G){for(var F=0,Z,Dt,et,T,Ps,tt;F<G.length&&!Ps;){var _i=G[F],el=G[F+1];for(Z=Dt=0;Z<_i.length&&!Ps&&_i[Z];)if(Ps=_i[Z++].exec(z),Ps)for(et=0;et<el.length;et++)tt=Ps[++Dt],T=el[et],typeof T===u&&T.length>0?T.length===2?typeof T[1]==a?this[T[0]]=T[1].call(this,tt):this[T[0]]=T[1]:T.length===3?typeof T[1]===a&&!(T[1].exec&&T[1].test)?this[T[0]]=tt?T[1].call(this,tt,T[2]):n:this[T[0]]=tt?tt.replace(T[1],T[2]):n:T.length===4&&(this[T[0]]=tt?T[3].call(this,tt.replace(T[1],T[2])):n):this[T]=tt||n;F+=2}},ki=function(z,G){for(var F in G)if(typeof G[F]===u&&G[F].length>0){for(var Z=0;Z<G[F].length;Z++)if(Xa(G[F][Z],z))return F===o?n:F}else if(Xa(G[F],z))return F===o?n:F;return z},Vd={"1.0":"/8","1.2":"/1","1.3":"/3","2.0":"/412","2.0.2":"/416","2.0.3":"/417","2.0.4":"/419","?":"/"},Za={ME:"4.90","NT 3.11":"NT3.51","NT 4.0":"NT4.0",2e3:"NT 5.0",XP:["NT 5.1","NT 5.2"],Vista:"NT 6.0",7:"NT 6.1",8:"NT 6.2","8.1":"NT 6.3",10:["NT 6.4","NT 10.0"],RT:"ARM"},Ja={browser:[[/\b(?:crmo|crios)\/([\w\.]+)/i],[g,[m,"Chrome"]],[/edg(?:e|ios|a)?\/([\w\.]+)/i],[g,[m,"Edge"]],[/(opera mini)\/([-\w\.]+)/i,/(opera [mobiletab]{3,6})\b.+version\/([-\w\.]+)/i,/(opera)(?:.+version\/|[\/ ]+)([\w\.]+)/i],[m,g],[/opios[\/ ]+([\w\.]+)/i],[g,[m,jn+" Mini"]],[/\bopr\/([\w\.]+)/i],[g,[m,jn]],[/(kindle)\/([\w\.]+)/i,/(lunascape|maxthon|netfront|jasmine|blazer)[\/ ]?([\w\.]*)/i,/(avant |iemobile|slim)(?:browser)?[\/ ]?([\w\.]*)/i,/(ba?idubrowser)[\/ ]?([\w\.]+)/i,/(?:ms|\()(ie) ([\w\.]+)/i,/(flock|rockmelt|midori|epiphany|silk|skyfire|ovibrowser|bolt|iron|vivaldi|iridium|phantomjs|bowser|quark|qupzilla|falkon|rekonq|puffin|brave|whale(?!.+naver)|qqbrowserlite|qq|duckduckgo)\/([-\w\.]+)/i,/(weibo)__([\d\.]+)/i],[m,g],[/(?:\buc? ?browser|(?:juc.+)ucweb)[\/ ]?([\w\.]+)/i],[g,[m,"UC"+ts]],[/microm.+\bqbcore\/([\w\.]+)/i,/\bqbcore\/([\w\.]+).+microm/i],[g,[m,"WeChat(Win) Desktop"]],[/micromessenger\/([\w\.]+)/i],[g,[m,"WeChat"]],[/konqueror\/([\w\.]+)/i],[g,[m,"Konqueror"]],[/trident.+rv[: ]([\w\.]{1,9})\b.+like gecko/i],[g,[m,"IE"]],[/yabrowser\/([\w\.]+)/i],[g,[m,"Yandex"]],[/(avast|avg)\/([\w\.]+)/i],[[m,/(.+)/,"$1 Secure "+ts],g],[/\bfocus\/([\w\.]+)/i],[g,[m,Un+" Focus"]],[/\bopt\/([\w\.]+)/i],[g,[m,jn+" Touch"]],[/coc_coc\w+\/([\w\.]+)/i],[g,[m,"Coc Coc"]],[/dolfin\/([\w\.]+)/i],[g,[m,"Dolphin"]],[/coast\/([\w\.]+)/i],[g,[m,jn+" Coast"]],[/miuibrowser\/([\w\.]+)/i],[g,[m,"MIUI "+ts]],[/fxios\/([-\w\.]+)/i],[g,[m,Un]],[/\bqihu|(qi?ho?o?|360)browser/i],[[m,"360 "+ts]],[/(oculus|samsung|sailfish|huawei)browser\/([\w\.]+)/i],[[m,/(.+)/,"$1 "+ts],g],[/(comodo_dragon)\/([\w\.]+)/i],[[m,/_/g," "],g],[/(electron)\/([\w\.]+) safari/i,/(tesla)(?: qtcarbrowser|\/(20\d\d\.[-\w\.]+))/i,/m?(qqbrowser|baiduboxapp|2345Explorer)[\/ ]?([\w\.]+)/i],[m,g],[/(metasr)[\/ ]?([\w\.]+)/i,/(lbbrowser)/i,/\[(linkedin)app\]/i],[m],[/((?:fban\/fbios|fb_iab\/fb4a)(?!.+fbav)|;fbav\/([\w\.]+);)/i],[[m,Ga],g],[/(kakao(?:talk|story))[\/ ]([\w\.]+)/i,/(naver)\(.*?(\d+\.[\w\.]+).*\)/i,/safari (line)\/([\w\.]+)/i,/\b(line)\/([\w\.]+)\/iab/i,/(chromium|instagram)[\/ ]([-\w\.]+)/i],[m,g],[/\bgsa\/([\w\.]+) .*safari\//i],[g,[m,"GSA"]],[/headlesschrome(?:\/([\w\.]+)| )/i],[g,[m,Fn+" Headless"]],[/ wv\).+(chrome)\/([\w\.]+)/i],[[m,Fn+" WebView"],g],[/droid.+ version\/([\w\.]+)\b.+(?:mobile safari|safari)/i],[g,[m,"Android "+ts]],[/(chrome|omniweb|arora|[tizenoka]{5} ?browser)\/v?([\w\.]+)/i],[m,g],[/version\/([\w\.\,]+) .*mobile\/\w+ (safari)/i],[g,[m,"Mobile Safari"]],[/version\/([\w(\.|\,)]+) .*(mobile ?safari|safari)/i],[g,m],[/webkit.+?(mobile ?safari|safari)(\/[\w\.]+)/i],[m,[g,ki,Vd]],[/(webkit|khtml)\/([\w\.]+)/i],[m,g],[/(navigator|netscape\d?)\/([-\w\.]+)/i],[[m,"Netscape"],g],[/mobile vr; rv:([\w\.]+)\).+firefox/i],[g,[m,Un+" Reality"]],[/ekiohf.+(flow)\/([\w\.]+)/i,/(swiftfox)/i,/(icedragon|iceweasel|camino|chimera|fennec|maemo browser|minimo|conkeror|klar)[\/ ]?([\w\.\+]+)/i,/(seamonkey|k-meleon|icecat|iceape|firebird|phoenix|palemoon|basilisk|waterfox)\/([-\w\.]+)$/i,/(firefox)\/([\w\.]+)/i,/(mozilla)\/([\w\.]+) .+rv\:.+gecko\/\d+/i,/(polaris|lynx|dillo|icab|doris|amaya|w3m|netsurf|sleipnir|obigo|mosaic|(?:go|ice|up)[\. ]?browser)[-\/ ]?v?([\w\.]+)/i,/(links) \(([\w\.]+)/i,/panasonic;(viera)/i],[m,g],[/(cobalt)\/([\w\.]+)/i],[m,[g,/master.|lts./,""]]],cpu:[[/(?:(amd|x(?:(?:86|64)[-_])?|wow|win)64)[;\)]/i],[[b,"amd64"]],[/(ia32(?=;))/i],[[b,Rs]],[/((?:i[346]|x)86)[;\)]/i],[[b,"ia32"]],[/\b(aarch64|arm(v?8e?l?|_?64))\b/i],[[b,"arm64"]],[/\b(arm(?:v[67])?ht?n?[fl]p?)\b/i],[[b,"armhf"]],[/windows (ce|mobile); ppc;/i],[[b,"arm"]],[/((?:ppc|powerpc)(?:64)?)(?: mac|;|\))/i],[[b,/ower/,i,Rs]],[/(sun4\w)[;\)]/i],[[b,"sparc"]],[/((?:avr32|ia64(?=;))|68k(?=\))|\barm(?=v(?:[1-7]|[5-7]1)l?|;|eabi)|(?=atmel )avr|(?:irix|mips|sparc)(?:64)?\b|pa-risc)/i],[[b,Rs]]],device:[[/\b(sch-i[89]0\d|shw-m380s|sm-[ptx]\w{2,4}|gt-[pn]\d{2,4}|sgh-t8[56]9|nexus 10)/i],[h,[d,yi],[f,x]],[/\b((?:s[cgp]h|gt|sm)-\w+|sc[g-]?[\d]+a?|galaxy nexus)/i,/samsung[- ]([-\w]+)/i,/sec-(sgh\w+)/i],[h,[d,yi],[f,S]],[/\((ip(?:hone|od)[\w ]*);/i],[h,[d,Os],[f,S]],[/\((ipad);[-\w\),; ]+apple/i,/applecoremedia\/[\w\.]+ \((ipad)/i,/\b(ipad)\d\d?,\d\d?[;\]].+ios/i],[h,[d,Os],[f,x]],[/(macintosh);/i],[h,[d,Os]],[/\b(sh-?[altvz]?\d\d[a-ekm]?)/i],[h,[d,Ha],[f,S]],[/\b((?:ag[rs][23]?|bah2?|sht?|btv)-a?[lw]\d{2})\b(?!.+d\/s)/i],[h,[d,Wa],[f,x]],[/(?:huawei|honor)([-\w ]+)[;\)]/i,/\b(nexus 6p|\w{2,4}e?-[atu]?[ln][\dx][012359c][adn]?)\b(?!.+d\/s)/i],[h,[d,Wa],[f,S]],[/\b(poco[\w ]+)(?: bui|\))/i,/\b; (\w+) build\/hm\1/i,/\b(hm[-_ ]?note?[_ ]?(?:\d\w)?) bui/i,/\b(redmi[\-_ ]?(?:note|k)?[\w_ ]+)(?: bui|\))/i,/\b(mi[-_ ]?(?:a\d|one|one[_ ]plus|note lte|max|cc)?[_ ]?(?:\d?\w?)[_ ]?(?:plus|se|lite)?)(?: bui|\))/i],[[h,/_/g," "],[d,wi],[f,S]],[/\b(mi[-_ ]?(?:pad)(?:[\w_ ]+))(?: bui|\))/i],[[h,/_/g," "],[d,wi],[f,x]],[/; (\w+) bui.+ oppo/i,/\b(cph[12]\d{3}|p(?:af|c[al]|d\w|e[ar])[mt]\d0|x9007|a101op)\b/i],[h,[d,"OPPO"],[f,S]],[/vivo (\w+)(?: bui|\))/i,/\b(v[12]\d{3}\w?[at])(?: bui|;)/i],[h,[d,"Vivo"],[f,S]],[/\b(rmx[12]\d{3})(?: bui|;|\))/i],[h,[d,"Realme"],[f,S]],[/\b(milestone|droid(?:[2-4x]| (?:bionic|x2|pro|razr))?:?( 4g)?)\b[\w ]+build\//i,/\bmot(?:orola)?[- ](\w*)/i,/((?:moto[\w\(\) ]+|xt\d{3,4}|nexus 6)(?= bui|\)))/i],[h,[d,$a],[f,S]],[/\b(mz60\d|xoom[2 ]{0,2}) build\//i],[h,[d,$a],[f,x]],[/((?=lg)?[vl]k\-?\d{3}) bui| 3\.[-\w; ]{10}lg?-([06cv9]{3,4})/i],[h,[d,pi],[f,x]],[/(lm(?:-?f100[nv]?|-[\w\.]+)(?= bui|\))|nexus [45])/i,/\blg[-e;\/ ]+((?!browser|netcast|android tv)\w+)/i,/\blg-?([\d\w]+) bui/i],[h,[d,pi],[f,S]],[/(ideatab[-\w ]+)/i,/lenovo ?(s[56]000[-\w]+|tab(?:[\w ]+)|yt[-\d\w]{6}|tb[-\d\w]{6})/i],[h,[d,"Lenovo"],[f,x]],[/(?:maemo|nokia).*(n900|lumia \d+)/i,/nokia[-_ ]?([-\w\.]*)/i],[[h,/_/g," "],[d,"Nokia"],[f,S]],[/(pixel c)\b/i],[h,[d,Vn],[f,x]],[/droid.+; (pixel[\daxl ]{0,6})(?: bui|\))/i],[h,[d,Vn],[f,S]],[/droid.+ (a?\d[0-2]{2}so|[c-g]\d{4}|so[-gl]\w+|xq-a\w[4-7][12])(?= bui|\).+chrome\/(?![1-6]{0,1}\d\.))/i],[h,[d,zn],[f,S]],[/sony tablet [ps]/i,/\b(?:sony)?sgp\w+(?: bui|\))/i],[[h,"Xperia Tablet"],[d,zn],[f,x]],[/ (kb2005|in20[12]5|be20[12][59])\b/i,/(?:one)?(?:plus)? (a\d0\d\d)(?: b|\))/i],[h,[d,"OnePlus"],[f,S]],[/(alexa)webm/i,/(kf[a-z]{2}wi)( bui|\))/i,/(kf[a-z]+)( bui|\)).+silk\//i],[h,[d,mi],[f,x]],[/((?:sd|kf)[0349hijorstuw]+)( bui|\)).+silk\//i],[[h,/(.+)/g,"Fire Phone $1"],[d,mi],[f,S]],[/(playbook);[-\w\),; ]+(rim)/i],[h,d,[f,x]],[/\b((?:bb[a-f]|st[hv])100-\d)/i,/\(bb10; (\w+)/i],[h,[d,qa],[f,S]],[/(?:\b|asus_)(transfo[prime ]{4,10} \w+|eeepc|slider \w+|nexus 7|padfone|p00[cj])/i],[h,[d,Ba],[f,x]],[/ (z[bes]6[027][012][km][ls]|zenfone \d\w?)\b/i],[h,[d,Ba],[f,S]],[/(nexus 9)/i],[h,[d,"HTC"],[f,x]],[/(htc)[-;_ ]{1,2}([\w ]+(?=\)| bui)|\w+)/i,/(zte)[- ]([\w ]+?)(?: bui|\/|\))/i,/(alcatel|geeksphone|nexian|panasonic(?!(?:;|\.))|sony(?!-bra))[-_ ]?([-\w]*)/i],[d,[h,/_/g," "],[f,S]],[/droid.+; ([ab][1-7]-?[0178a]\d\d?)/i],[h,[d,"Acer"],[f,x]],[/droid.+; (m[1-5] note) bui/i,/\bmz-([-\w]{2,})/i],[h,[d,"Meizu"],[f,S]],[/(blackberry|benq|palm(?=\-)|sonyericsson|acer|asus|dell|meizu|motorola|polytron)[-_ ]?([-\w]*)/i,/(hp) ([\w ]+\w)/i,/(asus)-?(\w+)/i,/(microsoft); (lumia[\w ]+)/i,/(lenovo)[-_ ]?([-\w]+)/i,/(jolla)/i,/(oppo) ?([\w ]+) bui/i],[d,h,[f,S]],[/(kobo)\s(ereader|touch)/i,/(archos) (gamepad2?)/i,/(hp).+(touchpad(?!.+tablet)|tablet)/i,/(kindle)\/([\w\.]+)/i,/(nook)[\w ]+build\/(\w+)/i,/(dell) (strea[kpr\d ]*[\dko])/i,/(le[- ]+pan)[- ]+(\w{1,9}) bui/i,/(trinity)[- ]*(t\d{3}) bui/i,/(gigaset)[- ]+(q\w{1,9}) bui/i,/(vodafone) ([\w ]+)(?:\)| bui)/i],[d,h,[f,x]],[/(surface duo)/i],[h,[d,gi],[f,x]],[/droid [\d\.]+; (fp\du?)(?: b|\))/i],[h,[d,"Fairphone"],[f,S]],[/(u304aa)/i],[h,[d,"AT&T"],[f,S]],[/\bsie-(\w*)/i],[h,[d,"Siemens"],[f,S]],[/\b(rct\w+) b/i],[h,[d,"RCA"],[f,x]],[/\b(venue[\d ]{2,7}) b/i],[h,[d,"Dell"],[f,x]],[/\b(q(?:mv|ta)\w+) b/i],[h,[d,"Verizon"],[f,x]],[/\b(?:barnes[& ]+noble |bn[rt])([\w\+ ]*) b/i],[h,[d,"Barnes & Noble"],[f,x]],[/\b(tm\d{3}\w+) b/i],[h,[d,"NuVision"],[f,x]],[/\b(k88) b/i],[h,[d,"ZTE"],[f,x]],[/\b(nx\d{3}j) b/i],[h,[d,"ZTE"],[f,S]],[/\b(gen\d{3}) b.+49h/i],[h,[d,"Swiss"],[f,S]],[/\b(zur\d{3}) b/i],[h,[d,"Swiss"],[f,x]],[/\b((zeki)?tb.*\b) b/i],[h,[d,"Zeki"],[f,x]],[/\b([yr]\d{2}) b/i,/\b(dragon[- ]+touch |dt)(\w{5}) b/i],[[d,"Dragon Touch"],h,[f,x]],[/\b(ns-?\w{0,9}) b/i],[h,[d,"Insignia"],[f,x]],[/\b((nxa|next)-?\w{0,9}) b/i],[h,[d,"NextBook"],[f,x]],[/\b(xtreme\_)?(v(1[045]|2[015]|[3469]0|7[05])) b/i],[[d,"Voice"],h,[f,S]],[/\b(lvtel\-)?(v1[12]) b/i],[[d,"LvTel"],h,[f,S]],[/\b(ph-1) /i],[h,[d,"Essential"],[f,S]],[/\b(v(100md|700na|7011|917g).*\b) b/i],[h,[d,"Envizen"],[f,x]],[/\b(trio[-\w\. ]+) b/i],[h,[d,"MachSpeed"],[f,x]],[/\btu_(1491) b/i],[h,[d,"Rotor"],[f,x]],[/(shield[\w ]+) b/i],[h,[d,"Nvidia"],[f,x]],[/(sprint) (\w+)/i],[d,h,[f,S]],[/(kin\.[onetw]{3})/i],[[h,/\./g," "],[d,gi],[f,S]],[/droid.+; (cc6666?|et5[16]|mc[239][23]x?|vc8[03]x?)\)/i],[h,[d,vi],[f,x]],[/droid.+; (ec30|ps20|tc[2-8]\d[kx])\)/i],[h,[d,vi],[f,S]],[/smart-tv.+(samsung)/i],[d,[f,Q]],[/hbbtv.+maple;(\d+)/i],[[h,/^/,"SmartTV"],[d,yi],[f,Q]],[/(nux; netcast.+smarttv|lg (netcast\.tv-201\d|android tv))/i],[[d,pi],[f,Q]],[/(apple) ?tv/i],[d,[h,Os+" TV"],[f,Q]],[/crkey/i],[[h,Fn+"cast"],[d,Vn],[f,Q]],[/droid.+aft(\w)( bui|\))/i],[h,[d,mi],[f,Q]],[/\(dtv[\);].+(aquos)/i,/(aquos-tv[\w ]+)\)/i],[h,[d,Ha],[f,Q]],[/(bravia[\w ]+)( bui|\))/i],[h,[d,zn],[f,Q]],[/(mitv-\w{5}) bui/i],[h,[d,wi],[f,Q]],[/Hbbtv.*(technisat) (.*);/i],[d,h,[f,Q]],[/\b(roku)[\dx]*[\)\/]((?:dvp-)?[\d\.]*)/i,/hbbtv\/\d+\.\d+\.\d+ +\([\w\+ ]*; *([\w\d][^;]*);([^;]*)/i],[[d,bi],[h,bi],[f,Q]],[/\b(android tv|smart[- ]?tv|opera tv|tv; rv:)\b/i],[[f,Q]],[/(ouya)/i,/(nintendo) ([wids3utch]+)/i],[d,h,[f,M]],[/droid.+; (shield) bui/i],[h,[d,"Nvidia"],[f,M]],[/(playstation [345portablevi]+)/i],[h,[d,zn],[f,M]],[/\b(xbox(?: one)?(?!; xbox))[\); ]/i],[h,[d,gi],[f,M]],[/((pebble))app/i],[d,h,[f,We]],[/(watch)(?: ?os[,\/]|\d,\d\/)[\d\.]+/i],[h,[d,Os],[f,We]],[/droid.+; (glass) \d/i],[h,[d,Vn],[f,We]],[/droid.+; (wt63?0{2,3})\)/i],[h,[d,vi],[f,We]],[/(quest( 2| pro)?)/i],[h,[d,Ga],[f,We]],[/(tesla)(?: qtcarbrowser|\/[-\w\.]+)/i],[d,[f,St]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+? mobile safari/i],[h,[f,S]],[/droid .+?; ([^;]+?)(?: bui|\) applew).+?(?! mobile) safari/i],[h,[f,x]],[/\b((tablet|tab)[;\/]|focus\/\d(?!.+mobile))/i],[[f,x]],[/(phone|mobile(?:[;\/]| [ \w\/\.]*safari)|pda(?=.+windows ce))/i],[[f,S]],[/(android[-\w\. ]{0,9});.+buil/i],[h,[d,"Generic"]]],engine:[[/windows.+ edge\/([\w\.]+)/i],[g,[m,Pd+"HTML"]],[/webkit\/537\.36.+chrome\/(?!27)([\w\.]+)/i],[g,[m,"Blink"]],[/(presto)\/([\w\.]+)/i,/(webkit|trident|netfront|netsurf|amaya|lynx|w3m|goanna)\/([\w\.]+)/i,/ekioh(flow)\/([\w\.]+)/i,/(khtml|tasman|links)[\/ ]\(?([\w\.]+)/i,/(icab)[\/ ]([23]\.[\d\.]+)/i],[m,g],[/rv\:([\w\.]{1,9})\b.+(gecko)/i],[g,m]],os:[[/microsoft (windows) (vista|xp)/i],[m,g],[/(windows) nt 6\.2; (arm)/i,/(windows (?:phone(?: os)?|mobile))[\/ ]?([\d\.\w ]*)/i,/(windows)[\/ ]?([ntce\d\. ]+\w)(?!.+xbox)/i],[m,[g,ki,Za]],[/(win(?=3|9|n)|win 9x )([nt\d\.]+)/i],[[m,"Windows"],[g,ki,Za]],[/ip[honead]{2,4}\b(?:.*os ([\w]+) like mac|; opera)/i,/cfnetwork\/.+darwin/i],[[g,/_/g,"."],[m,"iOS"]],[/(mac os x) ?([\w\. ]*)/i,/(macintosh|mac_powerpc\b)(?!.+haiku)/i],[[m,Qa],[g,/_/g,"."]],[/droid ([\w\.]+)\b.+(android[- ]x86|harmonyos)/i],[g,m],[/(android|webos|qnx|bada|rim tablet os|maemo|meego|sailfish)[-\/ ]?([\w\.]*)/i,/(blackberry)\w*\/([\w\.]*)/i,/(tizen|kaios)[\/ ]([\w\.]+)/i,/\((series40);/i],[m,g],[/\(bb(10);/i],[g,[m,qa]],[/(?:symbian ?os|symbos|s60(?=;)|series60)[-\/ ]?([\w\.]*)/i],[g,[m,"Symbian"]],[/mozilla\/[\d\.]+ \((?:mobile|tablet|tv|mobile; [\w ]+); rv:.+ gecko\/([\w\.]+)/i],[g,[m,Un+" OS"]],[/web0s;.+rt(tv)/i,/\b(?:hp)?wos(?:browser)?\/([\w\.]+)/i],[g,[m,"webOS"]],[/watch(?: ?os[,\/]|\d,\d\/)([\d\.]+)/i],[g,[m,"watchOS"]],[/crkey\/([\d\.]+)/i],[g,[m,Fn+"cast"]],[/(cros) [\w]+(?:\)| ([\w\.]+)\b)/i],[[m,Ka],g],[/panasonic;(viera)/i,/(netrange)mmh/i,/(nettv)\/(\d+\.[\w\.]+)/i,/(nintendo|playstation) ([wids345portablevuch]+)/i,/(xbox); +xbox ([^\);]+)/i,/\b(joli|palm)\b ?(?:os)?\/?([\w\.]*)/i,/(mint)[\/\(\) ]?(\w*)/i,/(mageia|vectorlinux)[; ]/i,/([kxln]?ubuntu|debian|suse|opensuse|gentoo|arch(?= linux)|slackware|fedora|mandriva|centos|pclinuxos|red ?hat|zenwalk|linpus|raspbian|plan 9|minix|risc os|contiki|deepin|manjaro|elementary os|sabayon|linspire)(?: gnu\/linux)?(?: enterprise)?(?:[- ]linux)?(?:-gnu)?[-\/ ]?(?!chrom|package)([-\w\.]*)/i,/(hurd|linux) ?([\w\.]*)/i,/(gnu) ?([\w\.]*)/i,/\b([-frentopcghs]{0,5}bsd|dragonfly)[\/ ]?(?!amd|[ix346]{1,2}86)([\w\.]*)/i,/(haiku) (\w+)/i],[m,g],[/(sunos) ?([\w\.\d]*)/i],[[m,"Solaris"],g],[/((?:open)?solaris)[-\/ ]?([\w\.]*)/i,/(aix) ((\d)(?=\.|\)| )[\w\.])*/i,/\b(beos|os\/2|amigaos|morphos|openvms|fuchsia|hp-ux)/i,/(unix) ?([\w\.]*)/i],[m,g]]},$e=function(z,G){if(typeof z===u&&(G=z,z=n),!(this instanceof $e))return new $e(z,G).getResult();var F=typeof s!==l&&s.navigator?s.navigator:n,Z=z||(F&&F.userAgent?F.userAgent:i),Dt=F&&F.userAgentData?F.userAgentData:n,et=G?Fd(Ja,G):Ja;return this.getBrowser=function(){var T={};return T[m]=n,T[g]=n,Ls.call(T,Z,et.browser),T[p]=Ud(T[g]),F&&F.brave&&typeof F.brave.isBrave==a&&(T[m]="Brave"),T},this.getCPU=function(){var T={};return T[b]=n,Ls.call(T,Z,et.cpu),T},this.getDevice=function(){var T={};return T[d]=n,T[h]=n,T[f]=n,Ls.call(T,Z,et.device),!T[f]&&Dt&&Dt.mobile&&(T[f]=S),T[h]=="Macintosh"&&F&&typeof F.standalone!==l&&F.maxTouchPoints&&F.maxTouchPoints>2&&(T[h]="iPad",T[f]=x),T},this.getEngine=function(){var T={};return T[m]=n,T[g]=n,Ls.call(T,Z,et.engine),T},this.getOS=function(){var T={};return T[m]=n,T[g]=n,Ls.call(T,Z,et.os),!T[m]&&Dt&&Dt.platform!="Unknown"&&(T[m]=Dt.platform.replace(/chrome os/i,Ka).replace(/macos/i,Qa)),T},this.getResult=function(){return{ua:this.getUA(),browser:this.getBrowser(),engine:this.getEngine(),os:this.getOS(),device:this.getDevice(),cpu:this.getCPU()}},this.getUA=function(){return Z},this.setUA=function(T){return Z=typeof T===c&&T.length>fi?bi(T,fi):T,this},this.setUA(Z),this};$e.VERSION=r,$e.BROWSER=Yn([m,g,p]),$e.CPU=Yn([b]),$e.DEVICE=Yn([h,d,f,M,S,Q,x,We,St]),$e.ENGINE=$e.OS=Yn([m,g]),t.exports&&(e=t.exports=$e),e.UAParser=$e;var ss=typeof s!==l&&(s.jQuery||s.Zepto);if(ss&&!ss.ua){var Bn=new $e;ss.ua=Bn.getResult(),ss.ua.get=function(){return Bn.getUA()},ss.ua.set=function(z){Bn.setUA(z);var G=Bn.getResult();for(var F in G)ss.ua[F]=G[F]}}})(typeof window=="object"?window:Hd)})(Kd,rr);const Qd=rr;function tl(t){let e;const s=t[5].default,n=zd(s,t,t[4],null);return{c(){n&&n.c()},l(r){n&&n.l(r)},m(r,i){n&&n.m(r,i),e=!0},p(r,i){n&&n.p&&(!e||i&16)&&Yd(n,s,r,r[4],e?qd(s,r[4],i,null):Bd(r[4]),null)},i(r){e||(pt(n,r),e=!0)},o(r){Ht(n,r),e=!1},d(r){n&&n.d(r)}}}function Xd(t){let e,s,n=t[0]&&tl(t);return{c(){n&&n.c(),e=ps()},l(r){n&&n.l(r),e=ps()},m(r,i){n&&n.m(r,i),ne(r,e,i),s=!0},p(r,[i]){r[0]?n?(n.p(r,i),i&1&&pt(n,1)):(n=tl(r),n.c(),pt(n,1),n.m(e.parentNode,e)):n&&(fu(),Ht(n,1,1,()=>{n=null}),mu())},i(r){s||(pt(n),s=!0)},o(r){Ht(n),s=!1},d(r){n&&n.d(r),r&&U(e)}}}function Zd(t,e,s){let{$$slots:n={},$$scope:r}=e,{showInDevice:i=void 0}=e,{showInBrowser:o=void 0}=e,{showInOs:a=void 0}=e,l=!1;jd(()=>{const h=new Qd;let m=h.getBrowser(),f=h.getDevice(),d=h.getOS(),g=!0;i&&!p(u(f),i)&&(g=!1),o&&!p(c(m.name),o)&&(g=!1),a&&!p(c(d.name),a)&&(g=!1),s(0,l=g)});const u=h=>h.type?c(h.type):"desktop",c=h=>h.toLowerCase().normalize("NFD").replace(/ /g,"").replace(/[^\w\s]/gi,"").replace(/[\u0300-\u036f]/g,""),p=(h,m)=>Array.isArray(m)?m.some(f=>h===c(f)):h===c(m);return t.$$set=h=>{"showInDevice"in h&&s(1,i=h.showInDevice),"showInBrowser"in h&&s(2,o=h.showInBrowser),"showInOs"in h&&s(3,a=h.showInOs),"$$scope"in h&&s(4,r=h.$$scope)},[l,i,o,a,r,n]}class Jd extends So{constructor(e){super(),Do(this,e,Zd,Xd,Io,{showInDevice:1,showInBrowser:2,showInOs:3})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bu=function(t){const e=[];let s=0;for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);r<128?e[s++]=r:r<2048?(e[s++]=r>>6|192,e[s++]=r&63|128):(r&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(r=65536+((r&1023)<<10)+(t.charCodeAt(++n)&1023),e[s++]=r>>18|240,e[s++]=r>>12&63|128,e[s++]=r>>6&63|128,e[s++]=r&63|128):(e[s++]=r>>12|224,e[s++]=r>>6&63|128,e[s++]=r&63|128)}return e},ef=function(t){const e=[];let s=0,n=0;for(;s<t.length;){const r=t[s++];if(r<128)e[n++]=String.fromCharCode(r);else if(r>191&&r<224){const i=t[s++];e[n++]=String.fromCharCode((r&31)<<6|i&63)}else if(r>239&&r<365){const i=t[s++],o=t[s++],a=t[s++],l=((r&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[n++]=String.fromCharCode(55296+(l>>10)),e[n++]=String.fromCharCode(56320+(l&1023))}else{const i=t[s++],o=t[s++];e[n++]=String.fromCharCode((r&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ku={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const s=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let r=0;r<t.length;r+=3){const i=t[r],o=r+1<t.length,a=o?t[r+1]:0,l=r+2<t.length,u=l?t[r+2]:0,c=i>>2,p=(i&3)<<4|a>>4;let h=(a&15)<<2|u>>6,m=u&63;l||(m=64,o||(h=64)),n.push(s[c],s[p],s[h],s[m])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(bu(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):ef(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const s=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let r=0;r<t.length;){const i=s[t.charAt(r++)],a=r<t.length?s[t.charAt(r)]:0;++r;const u=r<t.length?s[t.charAt(r)]:64;++r;const p=r<t.length?s[t.charAt(r)]:64;if(++r,i==null||a==null||u==null||p==null)throw new tf;const h=i<<2|a>>4;if(n.push(h),u!==64){const m=a<<4&240|u>>2;if(n.push(m),p!==64){const f=u<<6&192|p;n.push(f)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class tf extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const sf=function(t){const e=bu(t);return ku.encodeByteArray(e,!0)},ir=function(t){return sf(t).replace(/\./g,"")},nf=function(t){try{return ku.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rf(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const of=()=>rf().__FIREBASE_DEFAULTS__,af=()=>{if(typeof process>"u"||typeof process.env>"u")return;const t={}.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},lf=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&nf(t[1]);return e&&JSON.parse(e)},_u=()=>{try{return of()||af()||lf()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},uf=t=>{var e,s;return(s=(e=_u())===null||e===void 0?void 0:e.emulatorHosts)===null||s===void 0?void 0:s[t]},cf=t=>{const e=uf(t);if(!e)return;const s=e.lastIndexOf(":");if(s<=0||s+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(s+1),10);return e[0]==="["?[e.substring(1,s-1),n]:[e.substring(0,s),n]},hf=()=>{var t;return(t=_u())===null||t===void 0?void 0:t.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}wrapCallback(e){return(s,n)=>{s?this.reject(s):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(s):e(s,n))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ff(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const s={alg:"none",type:"JWT"},n=e||"demo-project",r=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${n}`,aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},t),a="";return[ir(JSON.stringify(s)),ir(JSON.stringify(o)),a].join(".")}function mf(){try{return typeof indexedDB=="object"}catch{return!1}}function pf(){return new Promise((t,e)=>{try{let s=!0;const n="validate-browser-context-for-indexeddb-analytics-module",r=self.indexedDB.open(n);r.onsuccess=()=>{r.result.close(),s||self.indexedDB.deleteDatabase(n),t(!0)},r.onupgradeneeded=()=>{s=!1},r.onerror=()=>{var i;e(((i=r.error)===null||i===void 0?void 0:i.message)||"")}}catch(s){e(s)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gf="FirebaseError";class Es extends Error{constructor(e,s,n){super(s),this.code=e,this.customData=n,this.name=gf,Object.setPrototypeOf(this,Es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Tu.prototype.create)}}class Tu{constructor(e,s,n){this.service=e,this.serviceName=s,this.errors=n}create(e,...s){const n=s[0]||{},r=`${this.service}/${e}`,i=this.errors[e],o=i?yf(i,n):"Error",a=`${this.serviceName}: ${o} (${r}).`;return new Es(r,a,n)}}function yf(t,e){return t.replace(wf,(s,n)=>{const r=e[n];return r!=null?String(r):`<${n}?>`})}const wf=/\{\$([^}]+)}/g;function Yi(t,e){if(t===e)return!0;const s=Object.keys(t),n=Object.keys(e);for(const r of s){if(!n.includes(r))return!1;const i=t[r],o=e[r];if(sl(i)&&sl(o)){if(!Yi(i,o))return!1}else if(i!==o)return!1}for(const r of n)if(!s.includes(r))return!1;return!0}function sl(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function or(t){return t&&t._delegate?t._delegate:t}class Zs{constructor(e,s,n){this.name=e,this.instanceFactory=s,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vt="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf{constructor(e,s){this.name=e,this.container=s,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const s=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(s)){const n=new df;if(this.instancesDeferred.set(s,n),this.isInitialized(s)||this.shouldAutoInitialize())try{const r=this.getOrInitializeService({instanceIdentifier:s});r&&n.resolve(r)}catch{}}return this.instancesDeferred.get(s).promise}getImmediate(e){var s;const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(s=e==null?void 0:e.optional)!==null&&s!==void 0?s:!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(kf(e))try{this.getOrInitializeService({instanceIdentifier:Vt})}catch{}for(const[s,n]of this.instancesDeferred.entries()){const r=this.normalizeInstanceIdentifier(s);try{const i=this.getOrInitializeService({instanceIdentifier:r});n.resolve(i)}catch{}}}}clearInstance(e=Vt){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(s=>"INTERNAL"in s).map(s=>s.INTERNAL.delete()),...e.filter(s=>"_delete"in s).map(s=>s._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vt){return this.instances.has(e)}getOptions(e=Vt){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:s={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const r=this.getOrInitializeService({instanceIdentifier:n,options:s});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);n===a&&o.resolve(r)}return r}onInit(e,s){var n;const r=this.normalizeInstanceIdentifier(s),i=(n=this.onInitCallbacks.get(r))!==null&&n!==void 0?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const o=this.instances.get(r);return o&&e(o,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,s){const n=this.onInitCallbacks.get(s);if(n)for(const r of n)try{r(e,s)}catch{}}getOrInitializeService({instanceIdentifier:e,options:s={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:bf(e),options:s}),this.instances.set(e,n),this.instancesOptions.set(e,s),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Vt){return this.component?this.component.multipleInstances?e:Vt:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function bf(t){return t===Vt?void 0:t}function kf(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _f{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const s=this.getProvider(e.name);if(s.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);s.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const s=new vf(e,this);return this.providers.set(e,s),s}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})($||($={}));const Tf={debug:$.DEBUG,verbose:$.VERBOSE,info:$.INFO,warn:$.WARN,error:$.ERROR,silent:$.SILENT},Ef=$.INFO,Sf={[$.DEBUG]:"log",[$.VERBOSE]:"log",[$.INFO]:"info",[$.WARN]:"warn",[$.ERROR]:"error"},Df=(t,e,...s)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),r=Sf[e];if(r)console[r](`[${n}]  ${t.name}:`,...s);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Eu{constructor(e){this.name=e,this._logLevel=Ef,this._logHandler=Df,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in $))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Tf[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,$.DEBUG,...e),this._logHandler(this,$.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,$.VERBOSE,...e),this._logHandler(this,$.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,$.INFO,...e),this._logHandler(this,$.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,$.WARN,...e),this._logHandler(this,$.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,$.ERROR,...e),this._logHandler(this,$.ERROR,...e)}}const If=(t,e)=>e.some(s=>t instanceof s);let nl,rl;function xf(){return nl||(nl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function Cf(){return rl||(rl=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const Su=new WeakMap,Bi=new WeakMap,Du=new WeakMap,Ti=new WeakMap,Ao=new WeakMap;function Af(t){const e=new Promise((s,n)=>{const r=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{s(Ct(t.result)),r()},o=()=>{n(t.error),r()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(s=>{s instanceof IDBCursor&&Su.set(s,t)}).catch(()=>{}),Ao.set(e,t),e}function Mf(t){if(Bi.has(t))return;const e=new Promise((s,n)=>{const r=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{s(),r()},o=()=>{n(t.error||new DOMException("AbortError","AbortError")),r()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Bi.set(t,e)}let qi={get(t,e,s){if(t instanceof IDBTransaction){if(e==="done")return Bi.get(t);if(e==="objectStoreNames")return t.objectStoreNames||Du.get(t);if(e==="store")return s.objectStoreNames[1]?void 0:s.objectStore(s.objectStoreNames[0])}return Ct(t[e])},set(t,e,s){return t[e]=s,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function Nf(t){qi=t(qi)}function Of(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...s){const n=t.call(Ei(this),e,...s);return Du.set(n,e.sort?e.sort():[e]),Ct(n)}:Cf().includes(t)?function(...e){return t.apply(Ei(this),e),Ct(Su.get(this))}:function(...e){return Ct(t.apply(Ei(this),e))}}function Rf(t){return typeof t=="function"?Of(t):(t instanceof IDBTransaction&&Mf(t),If(t,xf())?new Proxy(t,qi):t)}function Ct(t){if(t instanceof IDBRequest)return Af(t);if(Ti.has(t))return Ti.get(t);const e=Rf(t);return e!==t&&(Ti.set(t,e),Ao.set(e,t)),e}const Ei=t=>Ao.get(t);function Lf(t,e,{blocked:s,upgrade:n,blocking:r,terminated:i}={}){const o=indexedDB.open(t,e),a=Ct(o);return n&&o.addEventListener("upgradeneeded",l=>{n(Ct(o.result),l.oldVersion,l.newVersion,Ct(o.transaction))}),s&&o.addEventListener("blocked",()=>s()),a.then(l=>{i&&l.addEventListener("close",()=>i()),r&&l.addEventListener("versionchange",()=>r())}).catch(()=>{}),a}const Pf=["get","getKey","getAll","getAllKeys","count"],Ff=["put","add","delete","clear"],Si=new Map;function il(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Si.get(e))return Si.get(e);const s=e.replace(/FromIndex$/,""),n=e!==s,r=Ff.includes(s);if(!(s in(n?IDBIndex:IDBObjectStore).prototype)||!(r||Pf.includes(s)))return;const i=async function(o,...a){const l=this.transaction(o,r?"readwrite":"readonly");let u=l.store;return n&&(u=u.index(a.shift())),(await Promise.all([u[s](...a),r&&l.done]))[0]};return Si.set(e,i),i}Nf(t=>({...t,get:(e,s,n)=>il(e,s)||t.get(e,s,n),has:(e,s)=>!!il(e,s)||t.has(e,s)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uf{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(s=>{if(Vf(s)){const n=s.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(s=>s).join(" ")}}function Vf(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Wi="@firebase/app",ol="0.9.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gt=new Eu("@firebase/app"),jf="@firebase/app-compat",zf="@firebase/analytics-compat",Yf="@firebase/analytics",Bf="@firebase/app-check-compat",qf="@firebase/app-check",Wf="@firebase/auth",$f="@firebase/auth-compat",Hf="@firebase/database",Gf="@firebase/database-compat",Kf="@firebase/functions",Qf="@firebase/functions-compat",Xf="@firebase/installations",Zf="@firebase/installations-compat",Jf="@firebase/messaging",em="@firebase/messaging-compat",tm="@firebase/performance",sm="@firebase/performance-compat",nm="@firebase/remote-config",rm="@firebase/remote-config-compat",im="@firebase/storage",om="@firebase/storage-compat",am="@firebase/firestore",lm="@firebase/firestore-compat",um="firebase",cm="9.17.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $i="[DEFAULT]",hm={[Wi]:"fire-core",[jf]:"fire-core-compat",[Yf]:"fire-analytics",[zf]:"fire-analytics-compat",[qf]:"fire-app-check",[Bf]:"fire-app-check-compat",[Wf]:"fire-auth",[$f]:"fire-auth-compat",[Hf]:"fire-rtdb",[Gf]:"fire-rtdb-compat",[Kf]:"fire-fn",[Qf]:"fire-fn-compat",[Xf]:"fire-iid",[Zf]:"fire-iid-compat",[Jf]:"fire-fcm",[em]:"fire-fcm-compat",[tm]:"fire-perf",[sm]:"fire-perf-compat",[nm]:"fire-rc",[rm]:"fire-rc-compat",[im]:"fire-gcs",[om]:"fire-gcs-compat",[am]:"fire-fst",[lm]:"fire-fst-compat","fire-js":"fire-js",[um]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ar=new Map,Hi=new Map;function dm(t,e){try{t.container.addComponent(e)}catch(s){Gt.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,s)}}function lr(t){const e=t.name;if(Hi.has(e))return Gt.debug(`There were multiple attempts to register component ${e}.`),!1;Hi.set(e,t);for(const s of ar.values())dm(s,t);return!0}function fm(t,e){const s=t.container.getProvider("heartbeat").getImmediate({optional:!0});return s&&s.triggerHeartbeat(),t.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm={["no-app"]:"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},At=new Tu("app","Firebase",mm);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pm{constructor(e,s,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},s),this._name=s.name,this._automaticDataCollectionEnabled=s.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Zs("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw At.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gm=cm;function Iu(t,e={}){let s=t;typeof e!="object"&&(e={name:e});const n=Object.assign({name:$i,automaticDataCollectionEnabled:!1},e),r=n.name;if(typeof r!="string"||!r)throw At.create("bad-app-name",{appName:String(r)});if(s||(s=hf()),!s)throw At.create("no-options");const i=ar.get(r);if(i){if(Yi(s,i.options)&&Yi(n,i.config))return i;throw At.create("duplicate-app",{appName:r})}const o=new _f(r);for(const l of Hi.values())o.addComponent(l);const a=new pm(s,n,o);return ar.set(r,a),a}function ym(t=$i){const e=ar.get(t);if(!e&&t===$i)return Iu();if(!e)throw At.create("no-app",{appName:t});return e}function us(t,e,s){var n;let r=(n=hm[t])!==null&&n!==void 0?n:t;s&&(r+=`-${s}`);const i=r.match(/\s|\//),o=e.match(/\s|\//);if(i||o){const a=[`Unable to register library "${r}" with version "${e}":`];i&&a.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Gt.warn(a.join(" "));return}lr(new Zs(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wm="firebase-heartbeat-database",vm=1,Js="firebase-heartbeat-store";let Di=null;function xu(){return Di||(Di=Lf(wm,vm,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Js)}}}).catch(t=>{throw At.create("idb-open",{originalErrorMessage:t.message})})),Di}async function bm(t){try{return(await xu()).transaction(Js).objectStore(Js).get(Cu(t))}catch(e){if(e instanceof Es)Gt.warn(e.message);else{const s=At.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Gt.warn(s.message)}}}async function al(t,e){try{const n=(await xu()).transaction(Js,"readwrite");return await n.objectStore(Js).put(e,Cu(t)),n.done}catch(s){if(s instanceof Es)Gt.warn(s.message);else{const n=At.create("idb-set",{originalErrorMessage:s==null?void 0:s.message});Gt.warn(n.message)}}}function Cu(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const km=1024,_m=30*24*60*60*1e3;class Tm{constructor(e){this.container=e,this._heartbeatsCache=null;const s=this.container.getProvider("app").getImmediate();this._storage=new Sm(s),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=ll();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(r=>r.date===n)))return this._heartbeatsCache.heartbeats.push({date:n,agent:s}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(r=>{const i=new Date(r.date).valueOf();return Date.now()-i<=_m}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const e=ll(),{heartbeatsToSend:s,unsentEntries:n}=Em(this._heartbeatsCache.heartbeats),r=ir(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),r}}function ll(){return new Date().toISOString().substring(0,10)}function Em(t,e=km){const s=[];let n=t.slice();for(const r of t){const i=s.find(o=>o.agent===r.agent);if(i){if(i.dates.push(r.date),ul(s)>e){i.dates.pop();break}}else if(s.push({agent:r.agent,dates:[r.date]}),ul(s)>e){s.pop();break}n=n.slice(1)}return{heartbeatsToSend:s,unsentEntries:n}}class Sm{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return mf()?pf().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await bm(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(e){var s;if(await this._canUseIndexedDBPromise){const r=await this.read();return al(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var s;if(await this._canUseIndexedDBPromise){const r=await this.read();return al(this.app,{lastSentHeartbeatDate:(s=e.lastSentHeartbeatDate)!==null&&s!==void 0?s:r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function ul(t){return ir(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dm(t){lr(new Zs("platform-logger",e=>new Uf(e),"PRIVATE")),lr(new Zs("heartbeat",e=>new Tm(e),"PRIVATE")),us(Wi,ol,t),us(Wi,ol,"esm2017"),us("fire-js","")}Dm("");var Im="firebase",xm="9.17.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */us(Im,xm,"app");var Cm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},E,Mo=Mo||{},N=Cm||self;function ur(){}function Ar(t){var e=typeof t;return e=e!="object"?e:t?Array.isArray(t)?"array":e:"null",e=="array"||e=="object"&&typeof t.length=="number"}function wn(t){var e=typeof t;return e=="object"&&t!=null||e=="function"}function Am(t){return Object.prototype.hasOwnProperty.call(t,Ii)&&t[Ii]||(t[Ii]=++Mm)}var Ii="closure_uid_"+(1e9*Math.random()>>>0),Mm=0;function Nm(t,e,s){return t.call.apply(t.bind,arguments)}function Om(t,e,s){if(!t)throw Error();if(2<arguments.length){var n=Array.prototype.slice.call(arguments,2);return function(){var r=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(r,n),t.apply(e,r)}}return function(){return t.apply(e,arguments)}}function xe(t,e,s){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?xe=Nm:xe=Om,xe.apply(null,arguments)}function qn(t,e){var s=Array.prototype.slice.call(arguments,1);return function(){var n=s.slice();return n.push.apply(n,arguments),t.apply(this,n)}}function ke(t,e){function s(){}s.prototype=e.prototype,t.X=e.prototype,t.prototype=new s,t.prototype.constructor=t,t.Wb=function(n,r,i){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return e.prototype[r].apply(n,o)}}function Pt(){this.s=this.s,this.o=this.o}var Rm=0;Pt.prototype.s=!1;Pt.prototype.na=function(){!this.s&&(this.s=!0,this.M(),Rm!=0)&&Am(this)};Pt.prototype.M=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const Au=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(typeof t=="string")return typeof e!="string"||e.length!=1?-1:t.indexOf(e,0);for(let s=0;s<t.length;s++)if(s in t&&t[s]===e)return s;return-1};function No(t){const e=t.length;if(0<e){const s=Array(e);for(let n=0;n<e;n++)s[n]=t[n];return s}return[]}function cl(t,e){for(let s=1;s<arguments.length;s++){const n=arguments[s];if(Ar(n)){const r=t.length||0,i=n.length||0;t.length=r+i;for(let o=0;o<i;o++)t[r+o]=n[o]}else t.push(n)}}function Ce(t,e){this.type=t,this.g=this.target=e,this.defaultPrevented=!1}Ce.prototype.h=function(){this.defaultPrevented=!0};var Lm=function(){if(!N.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});try{N.addEventListener("test",ur,e),N.removeEventListener("test",ur,e)}catch{}return t}();function cr(t){return/^[\s\xa0]*$/.test(t)}var hl=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function xi(t,e){return t<e?-1:t>e?1:0}function Mr(){var t=N.navigator;return t&&(t=t.userAgent)?t:""}function st(t){return Mr().indexOf(t)!=-1}function Oo(t){return Oo[" "](t),t}Oo[" "]=ur;function Pm(t){var e=Vm;return Object.prototype.hasOwnProperty.call(e,9)?e[9]:e[9]=t(9)}var Fm=st("Opera"),gs=st("Trident")||st("MSIE"),Mu=st("Edge"),Gi=Mu||gs,Nu=st("Gecko")&&!(Mr().toLowerCase().indexOf("webkit")!=-1&&!st("Edge"))&&!(st("Trident")||st("MSIE"))&&!st("Edge"),Um=Mr().toLowerCase().indexOf("webkit")!=-1&&!st("Edge");function Ou(){var t=N.document;return t?t.documentMode:void 0}var hr;e:{var Ci="",Ai=function(){var t=Mr();if(Nu)return/rv:([^\);]+)(\)|;)/.exec(t);if(Mu)return/Edge\/([\d\.]+)/.exec(t);if(gs)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t);if(Um)return/WebKit\/(\S+)/.exec(t);if(Fm)return/(?:Version)[ \/]?(\S+)/.exec(t)}();if(Ai&&(Ci=Ai?Ai[1]:""),gs){var Mi=Ou();if(Mi!=null&&Mi>parseFloat(Ci)){hr=String(Mi);break e}}hr=Ci}var Vm={};function jm(){return Pm(function(){let t=0;const e=hl(String(hr)).split("."),s=hl("9").split("."),n=Math.max(e.length,s.length);for(let o=0;t==0&&o<n;o++){var r=e[o]||"",i=s[o]||"";do{if(r=/(\d*)(\D*)(.*)/.exec(r)||["","","",""],i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],r[0].length==0&&i[0].length==0)break;t=xi(r[1].length==0?0:parseInt(r[1],10),i[1].length==0?0:parseInt(i[1],10))||xi(r[2].length==0,i[2].length==0)||xi(r[2],i[2]),r=r[3],i=i[3]}while(t==0)}return 0<=t})}var Ki;if(N.document&&gs){var dl=Ou();Ki=dl||parseInt(hr,10)||void 0}else Ki=void 0;var zm=Ki;function en(t,e){if(Ce.call(this,t?t.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,t){var s=this.type=t.type,n=t.changedTouches&&t.changedTouches.length?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.g=e,e=t.relatedTarget){if(Nu){e:{try{Oo(e.nodeName);var r=!0;break e}catch{}r=!1}r||(e=null)}}else s=="mouseover"?e=t.fromElement:s=="mouseout"&&(e=t.toElement);this.relatedTarget=e,n?(this.clientX=n.clientX!==void 0?n.clientX:n.pageX,this.clientY=n.clientY!==void 0?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0):(this.clientX=t.clientX!==void 0?t.clientX:t.pageX,this.clientY=t.clientY!==void 0?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=typeof t.pointerType=="string"?t.pointerType:Ym[t.pointerType]||"",this.state=t.state,this.i=t,t.defaultPrevented&&en.X.h.call(this)}}ke(en,Ce);var Ym={2:"touch",3:"pen",4:"mouse"};en.prototype.h=function(){en.X.h.call(this);var t=this.i;t.preventDefault?t.preventDefault():t.returnValue=!1};var vn="closure_listenable_"+(1e6*Math.random()|0),Bm=0;function qm(t,e,s,n,r){this.listener=t,this.proxy=null,this.src=e,this.type=s,this.capture=!!n,this.ha=r,this.key=++Bm,this.ba=this.ea=!1}function Nr(t){t.ba=!0,t.listener=null,t.proxy=null,t.src=null,t.ha=null}function Ro(t,e,s){for(const n in t)e.call(s,t[n],n,t)}function Ru(t){const e={};for(const s in t)e[s]=t[s];return e}const fl="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function Lu(t,e){let s,n;for(let r=1;r<arguments.length;r++){n=arguments[r];for(s in n)t[s]=n[s];for(let i=0;i<fl.length;i++)s=fl[i],Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}}function Or(t){this.src=t,this.g={},this.h=0}Or.prototype.add=function(t,e,s,n,r){var i=t.toString();t=this.g[i],t||(t=this.g[i]=[],this.h++);var o=Xi(t,e,n,r);return-1<o?(e=t[o],s||(e.ea=!1)):(e=new qm(e,this.src,i,!!n,r),e.ea=s,t.push(e)),e};function Qi(t,e){var s=e.type;if(s in t.g){var n=t.g[s],r=Au(n,e),i;(i=0<=r)&&Array.prototype.splice.call(n,r,1),i&&(Nr(e),t.g[s].length==0&&(delete t.g[s],t.h--))}}function Xi(t,e,s,n){for(var r=0;r<t.length;++r){var i=t[r];if(!i.ba&&i.listener==e&&i.capture==!!s&&i.ha==n)return r}return-1}var Lo="closure_lm_"+(1e6*Math.random()|0),Ni={};function Pu(t,e,s,n,r){if(n&&n.once)return Uu(t,e,s,n,r);if(Array.isArray(e)){for(var i=0;i<e.length;i++)Pu(t,e[i],s,n,r);return null}return s=Uo(s),t&&t[vn]?t.N(e,s,wn(n)?!!n.capture:!!n,r):Fu(t,e,s,!1,n,r)}function Fu(t,e,s,n,r,i){if(!e)throw Error("Invalid event type");var o=wn(r)?!!r.capture:!!r,a=Fo(t);if(a||(t[Lo]=a=new Or(t)),s=a.add(e,s,n,o,i),s.proxy)return s;if(n=Wm(),s.proxy=n,n.src=t,n.listener=s,t.addEventListener)Lm||(r=o),r===void 0&&(r=!1),t.addEventListener(e.toString(),n,r);else if(t.attachEvent)t.attachEvent(ju(e.toString()),n);else if(t.addListener&&t.removeListener)t.addListener(n);else throw Error("addEventListener and attachEvent are unavailable.");return s}function Wm(){function t(s){return e.call(t.src,t.listener,s)}const e=$m;return t}function Uu(t,e,s,n,r){if(Array.isArray(e)){for(var i=0;i<e.length;i++)Uu(t,e[i],s,n,r);return null}return s=Uo(s),t&&t[vn]?t.O(e,s,wn(n)?!!n.capture:!!n,r):Fu(t,e,s,!0,n,r)}function Vu(t,e,s,n,r){if(Array.isArray(e))for(var i=0;i<e.length;i++)Vu(t,e[i],s,n,r);else n=wn(n)?!!n.capture:!!n,s=Uo(s),t&&t[vn]?(t=t.i,e=String(e).toString(),e in t.g&&(i=t.g[e],s=Xi(i,s,n,r),-1<s&&(Nr(i[s]),Array.prototype.splice.call(i,s,1),i.length==0&&(delete t.g[e],t.h--)))):t&&(t=Fo(t))&&(e=t.g[e.toString()],t=-1,e&&(t=Xi(e,s,n,r)),(s=-1<t?e[t]:null)&&Po(s))}function Po(t){if(typeof t!="number"&&t&&!t.ba){var e=t.src;if(e&&e[vn])Qi(e.i,t);else{var s=t.type,n=t.proxy;e.removeEventListener?e.removeEventListener(s,n,t.capture):e.detachEvent?e.detachEvent(ju(s),n):e.addListener&&e.removeListener&&e.removeListener(n),(s=Fo(e))?(Qi(s,t),s.h==0&&(s.src=null,e[Lo]=null)):Nr(t)}}}function ju(t){return t in Ni?Ni[t]:Ni[t]="on"+t}function $m(t,e){if(t.ba)t=!0;else{e=new en(e,this);var s=t.listener,n=t.ha||t.src;t.ea&&Po(t),t=s.call(n,e)}return t}function Fo(t){return t=t[Lo],t instanceof Or?t:null}var Oi="__closure_events_fn_"+(1e9*Math.random()>>>0);function Uo(t){return typeof t=="function"?t:(t[Oi]||(t[Oi]=function(e){return t.handleEvent(e)}),t[Oi])}function we(){Pt.call(this),this.i=new Or(this),this.P=this,this.I=null}ke(we,Pt);we.prototype[vn]=!0;we.prototype.removeEventListener=function(t,e,s,n){Vu(this,t,e,s,n)};function be(t,e){var s,n=t.I;if(n)for(s=[];n;n=n.I)s.push(n);if(t=t.P,n=e.type||e,typeof e=="string")e=new Ce(e,t);else if(e instanceof Ce)e.target=e.target||t;else{var r=e;e=new Ce(n,t),Lu(e,r)}if(r=!0,s)for(var i=s.length-1;0<=i;i--){var o=e.g=s[i];r=Wn(o,n,!0,e)&&r}if(o=e.g=t,r=Wn(o,n,!0,e)&&r,r=Wn(o,n,!1,e)&&r,s)for(i=0;i<s.length;i++)o=e.g=s[i],r=Wn(o,n,!1,e)&&r}we.prototype.M=function(){if(we.X.M.call(this),this.i){var t=this.i,e;for(e in t.g){for(var s=t.g[e],n=0;n<s.length;n++)Nr(s[n]);delete t.g[e],t.h--}}this.I=null};we.prototype.N=function(t,e,s,n){return this.i.add(String(t),e,!1,s,n)};we.prototype.O=function(t,e,s,n){return this.i.add(String(t),e,!0,s,n)};function Wn(t,e,s,n){if(e=t.i.g[String(e)],!e)return!0;e=e.concat();for(var r=!0,i=0;i<e.length;++i){var o=e[i];if(o&&!o.ba&&o.capture==s){var a=o.listener,l=o.ha||o.src;o.ea&&Qi(t.i,o),r=a.call(l,n)!==!1&&r}}return r&&!n.defaultPrevented}var Vo=N.JSON.stringify;function Hm(){var t=Bu;let e=null;return t.g&&(e=t.g,t.g=t.g.next,t.g||(t.h=null),e.next=null),e}class Gm{constructor(){this.h=this.g=null}add(e,s){const n=zu.get();n.set(e,s),this.h?this.h.next=n:this.g=n,this.h=n}}var zu=new class{constructor(t,e){this.i=t,this.j=e,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}(()=>new Km,t=>t.reset());class Km{constructor(){this.next=this.g=this.h=null}set(e,s){this.h=e,this.g=s,this.next=null}reset(){this.next=this.g=this.h=null}}function Qm(t){N.setTimeout(()=>{throw t},0)}function Yu(t,e){Zi||Xm(),Ji||(Zi(),Ji=!0),Bu.add(t,e)}var Zi;function Xm(){var t=N.Promise.resolve(void 0);Zi=function(){t.then(Zm)}}var Ji=!1,Bu=new Gm;function Zm(){for(var t;t=Hm();){try{t.h.call(t.g)}catch(s){Qm(s)}var e=zu;e.j(t),100>e.h&&(e.h++,t.next=e.g,e.g=t)}Ji=!1}function Rr(t,e){we.call(this),this.h=t||1,this.g=e||N,this.j=xe(this.lb,this),this.l=Date.now()}ke(Rr,we);E=Rr.prototype;E.ca=!1;E.R=null;E.lb=function(){if(this.ca){var t=Date.now()-this.l;0<t&&t<.8*this.h?this.R=this.g.setTimeout(this.j,this.h-t):(this.R&&(this.g.clearTimeout(this.R),this.R=null),be(this,"tick"),this.ca&&(jo(this),this.start()))}};E.start=function(){this.ca=!0,this.R||(this.R=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function jo(t){t.ca=!1,t.R&&(t.g.clearTimeout(t.R),t.R=null)}E.M=function(){Rr.X.M.call(this),jo(this),delete this.g};function zo(t,e,s){if(typeof t=="function")s&&(t=xe(t,s));else if(t&&typeof t.handleEvent=="function")t=xe(t.handleEvent,t);else throw Error("Invalid listener argument");return 2147483647<Number(e)?-1:N.setTimeout(t,e||0)}function qu(t){t.g=zo(()=>{t.g=null,t.i&&(t.i=!1,qu(t))},t.j);const e=t.h;t.h=null,t.m.apply(null,e)}class Jm extends Pt{constructor(e,s){super(),this.m=e,this.j=s,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:qu(this)}M(){super.M(),this.g&&(N.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function tn(t){Pt.call(this),this.h=t,this.g={}}ke(tn,Pt);var ml=[];function Wu(t,e,s,n){Array.isArray(s)||(s&&(ml[0]=s.toString()),s=ml);for(var r=0;r<s.length;r++){var i=Pu(e,s[r],n||t.handleEvent,!1,t.h||t);if(!i)break;t.g[i.key]=i}}function $u(t){Ro(t.g,function(e,s){this.g.hasOwnProperty(s)&&Po(e)},t),t.g={}}tn.prototype.M=function(){tn.X.M.call(this),$u(this)};tn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Lr(){this.g=!0}Lr.prototype.Aa=function(){this.g=!1};function ep(t,e,s,n,r,i){t.info(function(){if(t.g)if(i)for(var o="",a=i.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var p=c.split("_");o=2<=p.length&&p[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=i;return"XMLHTTP REQ ("+n+") [attempt "+r+"]: "+e+`
`+s+`
`+o})}function tp(t,e,s,n,r,i,o){t.info(function(){return"XMLHTTP RESP ("+n+") [ attempt "+r+"]: "+e+`
`+s+`
`+i+" "+o})}function as(t,e,s,n){t.info(function(){return"XMLHTTP TEXT ("+e+"): "+np(t,s)+(n?" "+n:"")})}function sp(t,e){t.info(function(){return"TIMEOUT: "+e})}Lr.prototype.info=function(){};function np(t,e){if(!t.g)return e;if(!e)return null;try{var s=JSON.parse(e);if(s){for(t=0;t<s.length;t++)if(Array.isArray(s[t])){var n=s[t];if(!(2>n.length)){var r=n[1];if(Array.isArray(r)&&!(1>r.length)){var i=r[0];if(i!="noop"&&i!="stop"&&i!="close")for(var o=1;o<r.length;o++)r[o]=""}}}}return Vo(s)}catch{return e}}var Xt={},pl=null;function Pr(){return pl=pl||new we}Xt.Pa="serverreachability";function Hu(t){Ce.call(this,Xt.Pa,t)}ke(Hu,Ce);function sn(t){const e=Pr();be(e,new Hu(e))}Xt.STAT_EVENT="statevent";function Gu(t,e){Ce.call(this,Xt.STAT_EVENT,t),this.stat=e}ke(Gu,Ce);function Re(t){const e=Pr();be(e,new Gu(e,t))}Xt.Qa="timingevent";function Ku(t,e){Ce.call(this,Xt.Qa,t),this.size=e}ke(Ku,Ce);function bn(t,e){if(typeof t!="function")throw Error("Fn must not be null and must be a function");return N.setTimeout(function(){t()},e)}var Fr={NO_ERROR:0,mb:1,zb:2,yb:3,tb:4,xb:5,Ab:6,Ma:7,TIMEOUT:8,Db:9},Qu={rb:"complete",Nb:"success",Na:"error",Ma:"abort",Fb:"ready",Gb:"readystatechange",TIMEOUT:"timeout",Bb:"incrementaldata",Eb:"progress",ub:"downloadprogress",Vb:"uploadprogress"};function Yo(){}Yo.prototype.h=null;function gl(t){return t.h||(t.h=t.i())}function Xu(){}var kn={OPEN:"a",qb:"b",Na:"c",Cb:"d"};function Bo(){Ce.call(this,"d")}ke(Bo,Ce);function qo(){Ce.call(this,"c")}ke(qo,Ce);var eo;function Ur(){}ke(Ur,Yo);Ur.prototype.g=function(){return new XMLHttpRequest};Ur.prototype.i=function(){return{}};eo=new Ur;function _n(t,e,s,n){this.l=t,this.j=e,this.m=s,this.U=n||1,this.S=new tn(this),this.O=rp,t=Gi?125:void 0,this.T=new Rr(t),this.H=null,this.i=!1,this.s=this.A=this.v=this.K=this.F=this.V=this.B=null,this.D=[],this.g=null,this.C=0,this.o=this.u=null,this.Y=-1,this.I=!1,this.N=0,this.L=null,this.$=this.J=this.Z=this.P=!1,this.h=new Zu}function Zu(){this.i=null,this.g="",this.h=!1}var rp=45e3,to={},dr={};E=_n.prototype;E.setTimeout=function(t){this.O=t};function so(t,e,s){t.K=1,t.v=jr(wt(e)),t.s=s,t.P=!0,Ju(t,null)}function Ju(t,e){t.F=Date.now(),Tn(t),t.A=wt(t.v);var s=t.A,n=t.U;Array.isArray(n)||(n=[String(n)]),ac(s.i,"t",n),t.C=0,s=t.l.H,t.h=new Zu,t.g=xc(t.l,s?e:null,!t.s),0<t.N&&(t.L=new Jm(xe(t.La,t,t.g),t.N)),Wu(t.S,t.g,"readystatechange",t.ib),e=t.H?Ru(t.H):{},t.s?(t.u||(t.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",t.g.da(t.A,t.u,t.s,e)):(t.u="GET",t.g.da(t.A,t.u,null,e)),sn(),ep(t.j,t.u,t.A,t.m,t.U,t.s)}E.ib=function(t){t=t.target;const e=this.L;e&&dt(t)==3?e.l():this.La(t)};E.La=function(t){try{if(t==this.g)e:{const c=dt(this.g);var e=this.g.Ea();const p=this.g.aa();if(!(3>c)&&(c!=3||Gi||this.g&&(this.h.h||this.g.fa()||bl(this.g)))){this.I||c!=4||e==7||(e==8||0>=p?sn(3):sn(2)),Vr(this);var s=this.g.aa();this.Y=s;t:if(ec(this)){var n=bl(this.g);t="";var r=n.length,i=dt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){jt(this),Ws(this);var o="";break t}this.h.i=new N.TextDecoder}for(e=0;e<r;e++)this.h.h=!0,t+=this.h.i.decode(n[e],{stream:i&&e==r-1});n.splice(0,r),this.h.g+=t,this.C=0,o=this.h.g}else o=this.g.fa();if(this.i=s==200,tp(this.j,this.u,this.A,this.m,this.U,c,s),this.i){if(this.Z&&!this.J){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!cr(a)){var u=a;break t}}u=null}if(s=u)as(this.j,this.m,s,"Initial handshake response via X-HTTP-Initial-Response"),this.J=!0,no(this,s);else{this.i=!1,this.o=3,Re(12),jt(this),Ws(this);break e}}this.P?(tc(this,c,o),Gi&&this.i&&c==3&&(Wu(this.S,this.T,"tick",this.hb),this.T.start())):(as(this.j,this.m,o,null),no(this,o)),c==4&&jt(this),this.i&&!this.I&&(c==4?Ec(this.l,this):(this.i=!1,Tn(this)))}else s==400&&0<o.indexOf("Unknown SID")?(this.o=3,Re(12)):(this.o=0,Re(13)),jt(this),Ws(this)}}}catch{}finally{}};function ec(t){return t.g?t.u=="GET"&&t.K!=2&&t.l.Da:!1}function tc(t,e,s){let n=!0,r;for(;!t.I&&t.C<s.length;)if(r=ip(t,s),r==dr){e==4&&(t.o=4,Re(14),n=!1),as(t.j,t.m,null,"[Incomplete Response]");break}else if(r==to){t.o=4,Re(15),as(t.j,t.m,s,"[Invalid Chunk]"),n=!1;break}else as(t.j,t.m,r,null),no(t,r);ec(t)&&r!=dr&&r!=to&&(t.h.g="",t.C=0),e!=4||s.length!=0||t.h.h||(t.o=1,Re(16),n=!1),t.i=t.i&&n,n?0<s.length&&!t.$&&(t.$=!0,e=t.l,e.g==t&&e.$&&!e.K&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+s.length),Xo(e),e.K=!0,Re(11))):(as(t.j,t.m,s,"[Invalid Chunked Response]"),jt(t),Ws(t))}E.hb=function(){if(this.g){var t=dt(this.g),e=this.g.fa();this.C<e.length&&(Vr(this),tc(this,t,e),this.i&&t!=4&&Tn(this))}};function ip(t,e){var s=t.C,n=e.indexOf(`
`,s);return n==-1?dr:(s=Number(e.substring(s,n)),isNaN(s)?to:(n+=1,n+s>e.length?dr:(e=e.substr(n,s),t.C=n+s,e)))}E.cancel=function(){this.I=!0,jt(this)};function Tn(t){t.V=Date.now()+t.O,sc(t,t.O)}function sc(t,e){if(t.B!=null)throw Error("WatchDog timer not null");t.B=bn(xe(t.gb,t),e)}function Vr(t){t.B&&(N.clearTimeout(t.B),t.B=null)}E.gb=function(){this.B=null;const t=Date.now();0<=t-this.V?(sp(this.j,this.A),this.K!=2&&(sn(),Re(17)),jt(this),this.o=2,Ws(this)):sc(this,this.V-t)};function Ws(t){t.l.G==0||t.I||Ec(t.l,t)}function jt(t){Vr(t);var e=t.L;e&&typeof e.na=="function"&&e.na(),t.L=null,jo(t.T),$u(t.S),t.g&&(e=t.g,t.g=null,e.abort(),e.na())}function no(t,e){try{var s=t.l;if(s.G!=0&&(s.g==t||ro(s.h,t))){if(!t.J&&ro(s.h,t)&&s.G==3){try{var n=s.Fa.g.parse(e)}catch{n=null}if(Array.isArray(n)&&n.length==3){var r=n;if(r[0]==0){e:if(!s.u){if(s.g)if(s.g.F+3e3<t.F)pr(s),Br(s);else break e;Qo(s),Re(18)}}else s.Ba=r[1],0<s.Ba-s.T&&37500>r[2]&&s.L&&s.A==0&&!s.v&&(s.v=bn(xe(s.cb,s),6e3));if(1>=cc(s.h)&&s.ja){try{s.ja()}catch{}s.ja=void 0}}else zt(s,11)}else if((t.J||s.g==t)&&pr(s),!cr(e))for(r=s.Fa.g.parse(e),e=0;e<r.length;e++){let u=r[e];if(s.T=u[0],u=u[1],s.G==2)if(u[0]=="c"){s.I=u[1],s.ka=u[2];const c=u[3];c!=null&&(s.ma=c,s.j.info("VER="+s.ma));const p=u[4];p!=null&&(s.Ca=p,s.j.info("SVER="+s.Ca));const h=u[5];h!=null&&typeof h=="number"&&0<h&&(n=1.5*h,s.J=n,s.j.info("backChannelRequestTimeoutMs_="+n)),n=s;const m=t.g;if(m){const f=m.g?m.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(f){var i=n.h;i.g||f.indexOf("spdy")==-1&&f.indexOf("quic")==-1&&f.indexOf("h2")==-1||(i.j=i.l,i.g=new Set,i.h&&(Wo(i,i.h),i.h=null))}if(n.D){const d=m.g?m.g.getResponseHeader("X-HTTP-Session-Id"):null;d&&(n.za=d,re(n.F,n.D,d))}}s.G=3,s.l&&s.l.xa(),s.$&&(s.P=Date.now()-t.F,s.j.info("Handshake RTT: "+s.P+"ms")),n=s;var o=t;if(n.sa=Ic(n,n.H?n.ka:null,n.V),o.J){hc(n.h,o);var a=o,l=n.J;l&&a.setTimeout(l),a.B&&(Vr(a),Tn(a)),n.g=o}else _c(n);0<s.i.length&&qr(s)}else u[0]!="stop"&&u[0]!="close"||zt(s,7);else s.G==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?zt(s,7):Ko(s):u[0]!="noop"&&s.l&&s.l.wa(u),s.A=0)}}sn(4)}catch{}}function op(t){if(t.W&&typeof t.W=="function")return t.W();if(typeof Map<"u"&&t instanceof Map||typeof Set<"u"&&t instanceof Set)return Array.from(t.values());if(typeof t=="string")return t.split("");if(Ar(t)){for(var e=[],s=t.length,n=0;n<s;n++)e.push(t[n]);return e}e=[],s=0;for(n in t)e[s++]=t[n];return e}function ap(t){if(t.oa&&typeof t.oa=="function")return t.oa();if(!t.W||typeof t.W!="function"){if(typeof Map<"u"&&t instanceof Map)return Array.from(t.keys());if(!(typeof Set<"u"&&t instanceof Set)){if(Ar(t)||typeof t=="string"){var e=[];t=t.length;for(var s=0;s<t;s++)e.push(s);return e}e=[],s=0;for(const n in t)e[s++]=n;return e}}}function nc(t,e){if(t.forEach&&typeof t.forEach=="function")t.forEach(e,void 0);else if(Ar(t)||typeof t=="string")Array.prototype.forEach.call(t,e,void 0);else for(var s=ap(t),n=op(t),r=n.length,i=0;i<r;i++)e.call(void 0,n[i],s&&s[i],t)}var rc=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function lp(t,e){if(t){t=t.split("&");for(var s=0;s<t.length;s++){var n=t[s].indexOf("="),r=null;if(0<=n){var i=t[s].substring(0,n);r=t[s].substring(n+1)}else i=t[s];e(i,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function qt(t,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,t instanceof qt){this.h=e!==void 0?e:t.h,fr(this,t.j),this.s=t.s,this.g=t.g,mr(this,t.m),this.l=t.l,e=t.i;var s=new nn;s.i=e.i,e.g&&(s.g=new Map(e.g),s.h=e.h),yl(this,s),this.o=t.o}else t&&(s=String(t).match(rc))?(this.h=!!e,fr(this,s[1]||"",!0),this.s=Ys(s[2]||""),this.g=Ys(s[3]||"",!0),mr(this,s[4]),this.l=Ys(s[5]||"",!0),yl(this,s[6]||"",!0),this.o=Ys(s[7]||"")):(this.h=!!e,this.i=new nn(null,this.h))}qt.prototype.toString=function(){var t=[],e=this.j;e&&t.push(Bs(e,wl,!0),":");var s=this.g;return(s||e=="file")&&(t.push("//"),(e=this.s)&&t.push(Bs(e,wl,!0),"@"),t.push(encodeURIComponent(String(s)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),s=this.m,s!=null&&t.push(":",String(s))),(s=this.l)&&(this.g&&s.charAt(0)!="/"&&t.push("/"),t.push(Bs(s,s.charAt(0)=="/"?hp:cp,!0))),(s=this.i.toString())&&t.push("?",s),(s=this.o)&&t.push("#",Bs(s,fp)),t.join("")};function wt(t){return new qt(t)}function fr(t,e,s){t.j=s?Ys(e,!0):e,t.j&&(t.j=t.j.replace(/:$/,""))}function mr(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.m=e}else t.m=null}function yl(t,e,s){e instanceof nn?(t.i=e,mp(t.i,t.h)):(s||(e=Bs(e,dp)),t.i=new nn(e,t.h))}function re(t,e,s){t.i.set(e,s)}function jr(t){return re(t,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),t}function Ys(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function Bs(t,e,s){return typeof t=="string"?(t=encodeURI(t).replace(e,up),s&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function up(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(t&15).toString(16)}var wl=/[#\/\?@]/g,cp=/[#\?:]/g,hp=/[#\?]/g,dp=/[#\?@]/g,fp=/#/g;function nn(t,e){this.h=this.g=null,this.i=t||null,this.j=!!e}function Ft(t){t.g||(t.g=new Map,t.h=0,t.i&&lp(t.i,function(e,s){t.add(decodeURIComponent(e.replace(/\+/g," ")),s)}))}E=nn.prototype;E.add=function(t,e){Ft(this),this.i=null,t=Ss(this,t);var s=this.g.get(t);return s||this.g.set(t,s=[]),s.push(e),this.h+=1,this};function ic(t,e){Ft(t),e=Ss(t,e),t.g.has(e)&&(t.i=null,t.h-=t.g.get(e).length,t.g.delete(e))}function oc(t,e){return Ft(t),e=Ss(t,e),t.g.has(e)}E.forEach=function(t,e){Ft(this),this.g.forEach(function(s,n){s.forEach(function(r){t.call(e,r,n,this)},this)},this)};E.oa=function(){Ft(this);const t=Array.from(this.g.values()),e=Array.from(this.g.keys()),s=[];for(let n=0;n<e.length;n++){const r=t[n];for(let i=0;i<r.length;i++)s.push(e[n])}return s};E.W=function(t){Ft(this);let e=[];if(typeof t=="string")oc(this,t)&&(e=e.concat(this.g.get(Ss(this,t))));else{t=Array.from(this.g.values());for(let s=0;s<t.length;s++)e=e.concat(t[s])}return e};E.set=function(t,e){return Ft(this),this.i=null,t=Ss(this,t),oc(this,t)&&(this.h-=this.g.get(t).length),this.g.set(t,[e]),this.h+=1,this};E.get=function(t,e){return t?(t=this.W(t),0<t.length?String(t[0]):e):e};function ac(t,e,s){ic(t,e),0<s.length&&(t.i=null,t.g.set(Ss(t,e),No(s)),t.h+=s.length)}E.toString=function(){if(this.i)return this.i;if(!this.g)return"";const t=[],e=Array.from(this.g.keys());for(var s=0;s<e.length;s++){var n=e[s];const i=encodeURIComponent(String(n)),o=this.W(n);for(n=0;n<o.length;n++){var r=i;o[n]!==""&&(r+="="+encodeURIComponent(String(o[n]))),t.push(r)}}return this.i=t.join("&")};function Ss(t,e){return e=String(e),t.j&&(e=e.toLowerCase()),e}function mp(t,e){e&&!t.j&&(Ft(t),t.i=null,t.g.forEach(function(s,n){var r=n.toLowerCase();n!=r&&(ic(this,n),ac(this,r,s))},t)),t.j=e}var pp=class{constructor(e,s){this.h=e,this.g=s}};function lc(t){this.l=t||gp,N.PerformanceNavigationTiming?(t=N.performance.getEntriesByType("navigation"),t=0<t.length&&(t[0].nextHopProtocol=="hq"||t[0].nextHopProtocol=="h2")):t=!!(N.g&&N.g.Ga&&N.g.Ga()&&N.g.Ga().$b),this.j=t?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var gp=10;function uc(t){return t.h?!0:t.g?t.g.size>=t.j:!1}function cc(t){return t.h?1:t.g?t.g.size:0}function ro(t,e){return t.h?t.h==e:t.g?t.g.has(e):!1}function Wo(t,e){t.g?t.g.add(e):t.h=e}function hc(t,e){t.h&&t.h==e?t.h=null:t.g&&t.g.has(e)&&t.g.delete(e)}lc.prototype.cancel=function(){if(this.i=dc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const t of this.g.values())t.cancel();this.g.clear()}};function dc(t){if(t.h!=null)return t.i.concat(t.h.D);if(t.g!=null&&t.g.size!==0){let e=t.i;for(const s of t.g.values())e=e.concat(s.D);return e}return No(t.i)}function $o(){}$o.prototype.stringify=function(t){return N.JSON.stringify(t,void 0)};$o.prototype.parse=function(t){return N.JSON.parse(t,void 0)};function yp(){this.g=new $o}function wp(t,e,s){const n=s||"";try{nc(t,function(r,i){let o=r;wn(r)&&(o=Vo(r)),e.push(n+i+"="+encodeURIComponent(o))})}catch(r){throw e.push(n+"type="+encodeURIComponent("_badmap")),r}}function vp(t,e){const s=new Lr;if(N.Image){const n=new Image;n.onload=qn($n,s,n,"TestLoadImage: loaded",!0,e),n.onerror=qn($n,s,n,"TestLoadImage: error",!1,e),n.onabort=qn($n,s,n,"TestLoadImage: abort",!1,e),n.ontimeout=qn($n,s,n,"TestLoadImage: timeout",!1,e),N.setTimeout(function(){n.ontimeout&&n.ontimeout()},1e4),n.src=t}else e(!1)}function $n(t,e,s,n,r){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,r(n)}catch{}}function En(t){this.l=t.ac||null,this.j=t.jb||!1}ke(En,Yo);En.prototype.g=function(){return new zr(this.l,this.j)};En.prototype.i=function(t){return function(){return t}}({});function zr(t,e){we.call(this),this.D=t,this.u=e,this.m=void 0,this.readyState=Ho,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ke(zr,we);var Ho=0;E=zr.prototype;E.open=function(t,e){if(this.readyState!=Ho)throw this.abort(),Error("Error reopening a connection");this.C=t,this.B=e,this.readyState=1,rn(this)};E.send=function(t){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};t&&(e.body=t),(this.D||N).fetch(new Request(this.B,e)).then(this.Wa.bind(this),this.ga.bind(this))};E.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Sn(this)),this.readyState=Ho};E.Wa=function(t){if(this.g&&(this.l=t,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=t.headers,this.readyState=2,rn(this)),this.g&&(this.readyState=3,rn(this),this.g)))if(this.responseType==="arraybuffer")t.arrayBuffer().then(this.Ua.bind(this),this.ga.bind(this));else if(typeof N.ReadableStream<"u"&&"body"in t){if(this.j=t.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;fc(this)}else t.text().then(this.Va.bind(this),this.ga.bind(this))};function fc(t){t.j.read().then(t.Ta.bind(t)).catch(t.ga.bind(t))}E.Ta=function(t){if(this.g){if(this.u&&t.value)this.response.push(t.value);else if(!this.u){var e=t.value?t.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!t.done}))&&(this.response=this.responseText+=e)}t.done?Sn(this):rn(this),this.readyState==3&&fc(this)}};E.Va=function(t){this.g&&(this.response=this.responseText=t,Sn(this))};E.Ua=function(t){this.g&&(this.response=t,Sn(this))};E.ga=function(){this.g&&Sn(this)};function Sn(t){t.readyState=4,t.l=null,t.j=null,t.A=null,rn(t)}E.setRequestHeader=function(t,e){this.v.append(t,e)};E.getResponseHeader=function(t){return this.h&&this.h.get(t.toLowerCase())||""};E.getAllResponseHeaders=function(){if(!this.h)return"";const t=[],e=this.h.entries();for(var s=e.next();!s.done;)s=s.value,t.push(s[0]+": "+s[1]),s=e.next();return t.join(`\r
`)};function rn(t){t.onreadystatechange&&t.onreadystatechange.call(t)}Object.defineProperty(zr.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(t){this.m=t?"include":"same-origin"}});var bp=N.JSON.parse;function oe(t){we.call(this),this.headers=new Map,this.u=t||null,this.h=!1,this.C=this.g=null,this.H="",this.m=0,this.j="",this.l=this.F=this.v=this.D=!1,this.B=0,this.A=null,this.J=mc,this.K=this.L=!1}ke(oe,we);var mc="",kp=/^https?$/i,_p=["POST","PUT"];E=oe.prototype;E.Ka=function(t){this.L=t};E.da=function(t,e,s,n){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.H+"; newUri="+t);e=e?e.toUpperCase():"GET",this.H=t,this.j="",this.m=0,this.D=!1,this.h=!0,this.g=this.u?this.u.g():eo.g(),this.C=this.u?gl(this.u):gl(eo),this.g.onreadystatechange=xe(this.Ha,this);try{this.F=!0,this.g.open(e,String(t),!0),this.F=!1}catch(i){vl(this,i);return}if(t=s||"",s=new Map(this.headers),n)if(Object.getPrototypeOf(n)===Object.prototype)for(var r in n)s.set(r,n[r]);else if(typeof n.keys=="function"&&typeof n.get=="function")for(const i of n.keys())s.set(i,n.get(i));else throw Error("Unknown input type for opt_headers: "+String(n));n=Array.from(s.keys()).find(i=>i.toLowerCase()=="content-type"),r=N.FormData&&t instanceof N.FormData,!(0<=Au(_p,e))||n||r||s.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of s)this.g.setRequestHeader(i,o);this.J&&(this.g.responseType=this.J),"withCredentials"in this.g&&this.g.withCredentials!==this.L&&(this.g.withCredentials=this.L);try{yc(this),0<this.B&&((this.K=Tp(this.g))?(this.g.timeout=this.B,this.g.ontimeout=xe(this.qa,this)):this.A=zo(this.qa,this.B,this)),this.v=!0,this.g.send(t),this.v=!1}catch(i){vl(this,i)}};function Tp(t){return gs&&jm()&&typeof t.timeout=="number"&&t.ontimeout!==void 0}E.qa=function(){typeof Mo<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,be(this,"timeout"),this.abort(8))};function vl(t,e){t.h=!1,t.g&&(t.l=!0,t.g.abort(),t.l=!1),t.j=e,t.m=5,pc(t),Yr(t)}function pc(t){t.D||(t.D=!0,be(t,"complete"),be(t,"error"))}E.abort=function(t){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=t||7,be(this,"complete"),be(this,"abort"),Yr(this))};E.M=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Yr(this,!0)),oe.X.M.call(this)};E.Ha=function(){this.s||(this.F||this.v||this.l?gc(this):this.fb())};E.fb=function(){gc(this)};function gc(t){if(t.h&&typeof Mo<"u"&&(!t.C[1]||dt(t)!=4||t.aa()!=2)){if(t.v&&dt(t)==4)zo(t.Ha,0,t);else if(be(t,"readystatechange"),dt(t)==4){t.h=!1;try{const a=t.aa();e:switch(a){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var s;if(!(s=e)){var n;if(n=a===0){var r=String(t.H).match(rc)[1]||null;if(!r&&N.self&&N.self.location){var i=N.self.location.protocol;r=i.substr(0,i.length-1)}n=!kp.test(r?r.toLowerCase():"")}s=n}if(s)be(t,"complete"),be(t,"success");else{t.m=6;try{var o=2<dt(t)?t.g.statusText:""}catch{o=""}t.j=o+" ["+t.aa()+"]",pc(t)}}finally{Yr(t)}}}}function Yr(t,e){if(t.g){yc(t);const s=t.g,n=t.C[0]?ur:null;t.g=null,t.C=null,e||be(t,"ready");try{s.onreadystatechange=n}catch{}}}function yc(t){t.g&&t.K&&(t.g.ontimeout=null),t.A&&(N.clearTimeout(t.A),t.A=null)}function dt(t){return t.g?t.g.readyState:0}E.aa=function(){try{return 2<dt(this)?this.g.status:-1}catch{return-1}};E.fa=function(){try{return this.g?this.g.responseText:""}catch{return""}};E.Sa=function(t){if(this.g){var e=this.g.responseText;return t&&e.indexOf(t)==0&&(e=e.substring(t.length)),bp(e)}};function bl(t){try{if(!t.g)return null;if("response"in t.g)return t.g.response;switch(t.J){case mc:case"text":return t.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in t.g)return t.g.mozResponseArrayBuffer}return null}catch{return null}}E.Ea=function(){return this.m};E.Oa=function(){return typeof this.j=="string"?this.j:String(this.j)};function wc(t){let e="";return Ro(t,function(s,n){e+=n,e+=":",e+=s,e+=`\r
`}),e}function Go(t,e,s){e:{for(n in s){var n=!1;break e}n=!0}n||(s=wc(s),typeof t=="string"?s!=null&&encodeURIComponent(String(s)):re(t,e,s))}function Us(t,e,s){return s&&s.internalChannelParams&&s.internalChannelParams[t]||e}function vc(t){this.Ca=0,this.i=[],this.j=new Lr,this.ka=this.sa=this.F=this.V=this.g=this.za=this.D=this.ia=this.o=this.S=this.s=null,this.ab=this.U=0,this.Za=Us("failFast",!1,t),this.L=this.v=this.u=this.m=this.l=null,this.Y=!0,this.pa=this.Ba=this.T=-1,this.Z=this.A=this.C=0,this.Xa=Us("baseRetryDelayMs",5e3,t),this.bb=Us("retryDelaySeedMs",1e4,t),this.$a=Us("forwardChannelMaxRetries",2,t),this.ta=Us("forwardChannelRequestTimeoutMs",2e4,t),this.ra=t&&t.xmlHttpFactory||void 0,this.Da=t&&t.Zb||!1,this.J=void 0,this.H=t&&t.supportsCrossDomainXhr||!1,this.I="",this.h=new lc(t&&t.concurrentRequestLimit),this.Fa=new yp,this.O=t&&t.fastHandshake||!1,this.N=t&&t.encodeInitMessageHeaders||!1,this.O&&this.N&&(this.N=!1),this.Ya=t&&t.Xb||!1,t&&t.Aa&&this.j.Aa(),t&&t.forceLongPolling&&(this.Y=!1),this.$=!this.O&&this.Y&&t&&t.detectBufferingProxy||!1,this.ja=void 0,this.P=0,this.K=!1,this.la=this.B=null}E=vc.prototype;E.ma=8;E.G=1;function Ko(t){if(bc(t),t.G==3){var e=t.U++,s=wt(t.F);re(s,"SID",t.I),re(s,"RID",e),re(s,"TYPE","terminate"),Dn(t,s),e=new _n(t,t.j,e,void 0),e.K=2,e.v=jr(wt(s)),s=!1,N.navigator&&N.navigator.sendBeacon&&(s=N.navigator.sendBeacon(e.v.toString(),"")),!s&&N.Image&&(new Image().src=e.v,s=!0),s||(e.g=xc(e.l,null),e.g.da(e.v)),e.F=Date.now(),Tn(e)}Dc(t)}function Br(t){t.g&&(Xo(t),t.g.cancel(),t.g=null)}function bc(t){Br(t),t.u&&(N.clearTimeout(t.u),t.u=null),pr(t),t.h.cancel(),t.m&&(typeof t.m=="number"&&N.clearTimeout(t.m),t.m=null)}function qr(t){uc(t.h)||t.m||(t.m=!0,Yu(t.Ja,t),t.C=0)}function Ep(t,e){return cc(t.h)>=t.h.j-(t.m?1:0)?!1:t.m?(t.i=e.D.concat(t.i),!0):t.G==1||t.G==2||t.C>=(t.Za?0:t.$a)?!1:(t.m=bn(xe(t.Ja,t,e),Sc(t,t.C)),t.C++,!0)}E.Ja=function(t){if(this.m)if(this.m=null,this.G==1){if(!t){this.U=Math.floor(1e5*Math.random()),t=this.U++;const r=new _n(this,this.j,t,void 0);let i=this.s;if(this.S&&(i?(i=Ru(i),Lu(i,this.S)):i=this.S),this.o!==null||this.N||(r.H=i,i=null),this.O)e:{for(var e=0,s=0;s<this.i.length;s++){t:{var n=this.i[s];if("__data__"in n.g&&(n=n.g.__data__,typeof n=="string")){n=n.length;break t}n=void 0}if(n===void 0)break;if(e+=n,4096<e){e=s;break e}if(e===4096||s===this.i.length-1){e=s+1;break e}}e=1e3}else e=1e3;e=kc(this,r,e),s=wt(this.F),re(s,"RID",t),re(s,"CVER",22),this.D&&re(s,"X-HTTP-Session-Id",this.D),Dn(this,s),i&&(this.N?e="headers="+encodeURIComponent(String(wc(i)))+"&"+e:this.o&&Go(s,this.o,i)),Wo(this.h,r),this.Ya&&re(s,"TYPE","init"),this.O?(re(s,"$req",e),re(s,"SID","null"),r.Z=!0,so(r,s,null)):so(r,s,e),this.G=2}}else this.G==3&&(t?kl(this,t):this.i.length==0||uc(this.h)||kl(this))};function kl(t,e){var s;e?s=e.m:s=t.U++;const n=wt(t.F);re(n,"SID",t.I),re(n,"RID",s),re(n,"AID",t.T),Dn(t,n),t.o&&t.s&&Go(n,t.o,t.s),s=new _n(t,t.j,s,t.C+1),t.o===null&&(s.H=t.s),e&&(t.i=e.D.concat(t.i)),e=kc(t,s,1e3),s.setTimeout(Math.round(.5*t.ta)+Math.round(.5*t.ta*Math.random())),Wo(t.h,s),so(s,n,e)}function Dn(t,e){t.ia&&Ro(t.ia,function(s,n){re(e,n,s)}),t.l&&nc({},function(s,n){re(e,n,s)})}function kc(t,e,s){s=Math.min(t.i.length,s);var n=t.l?xe(t.l.Ra,t.l,t):null;e:{var r=t.i;let i=-1;for(;;){const o=["count="+s];i==-1?0<s?(i=r[0].h,o.push("ofs="+i)):i=0:o.push("ofs="+i);let a=!0;for(let l=0;l<s;l++){let u=r[l].h;const c=r[l].g;if(u-=i,0>u)i=Math.max(0,r[l].h-100),a=!1;else try{wp(c,o,"req"+u+"_")}catch{n&&n(c)}}if(a){n=o.join("&");break e}}}return t=t.i.splice(0,s),e.D=t,n}function _c(t){t.g||t.u||(t.Z=1,Yu(t.Ia,t),t.A=0)}function Qo(t){return t.g||t.u||3<=t.A?!1:(t.Z++,t.u=bn(xe(t.Ia,t),Sc(t,t.A)),t.A++,!0)}E.Ia=function(){if(this.u=null,Tc(this),this.$&&!(this.K||this.g==null||0>=this.P)){var t=2*this.P;this.j.info("BP detection timer enabled: "+t),this.B=bn(xe(this.eb,this),t)}};E.eb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.L=!1,this.K=!0,Re(10),Br(this),Tc(this))};function Xo(t){t.B!=null&&(N.clearTimeout(t.B),t.B=null)}function Tc(t){t.g=new _n(t,t.j,"rpc",t.Z),t.o===null&&(t.g.H=t.s),t.g.N=0;var e=wt(t.sa);re(e,"RID","rpc"),re(e,"SID",t.I),re(e,"CI",t.L?"0":"1"),re(e,"AID",t.T),re(e,"TYPE","xmlhttp"),Dn(t,e),t.o&&t.s&&Go(e,t.o,t.s),t.J&&t.g.setTimeout(t.J);var s=t.g;t=t.ka,s.K=1,s.v=jr(wt(e)),s.s=null,s.P=!0,Ju(s,t)}E.cb=function(){this.v!=null&&(this.v=null,Br(this),Qo(this),Re(19))};function pr(t){t.v!=null&&(N.clearTimeout(t.v),t.v=null)}function Ec(t,e){var s=null;if(t.g==e){pr(t),Xo(t),t.g=null;var n=2}else if(ro(t.h,e))s=e.D,hc(t.h,e),n=1;else return;if(t.G!=0){if(t.pa=e.Y,e.i)if(n==1){s=e.s?e.s.length:0,e=Date.now()-e.F;var r=t.C;n=Pr(),be(n,new Ku(n,s)),qr(t)}else _c(t);else if(r=e.o,r==3||r==0&&0<t.pa||!(n==1&&Ep(t,e)||n==2&&Qo(t)))switch(s&&0<s.length&&(e=t.h,e.i=e.i.concat(s)),r){case 1:zt(t,5);break;case 4:zt(t,10);break;case 3:zt(t,6);break;default:zt(t,2)}}}function Sc(t,e){let s=t.Xa+Math.floor(Math.random()*t.bb);return t.l||(s*=2),s*e}function zt(t,e){if(t.j.info("Error code "+e),e==2){var s=null;t.l&&(s=null);var n=xe(t.kb,t);s||(s=new qt("//www.google.com/images/cleardot.gif"),N.location&&N.location.protocol=="http"||fr(s,"https"),jr(s)),vp(s.toString(),n)}else Re(2);t.G=0,t.l&&t.l.va(e),Dc(t),bc(t)}E.kb=function(t){t?(this.j.info("Successfully pinged google.com"),Re(2)):(this.j.info("Failed to ping google.com"),Re(1))};function Dc(t){if(t.G=0,t.la=[],t.l){const e=dc(t.h);(e.length!=0||t.i.length!=0)&&(cl(t.la,e),cl(t.la,t.i),t.h.i.length=0,No(t.i),t.i.length=0),t.l.ua()}}function Ic(t,e,s){var n=s instanceof qt?wt(s):new qt(s,void 0);if(n.g!="")e&&(n.g=e+"."+n.g),mr(n,n.m);else{var r=N.location;n=r.protocol,e=e?e+"."+r.hostname:r.hostname,r=+r.port;var i=new qt(null,void 0);n&&fr(i,n),e&&(i.g=e),r&&mr(i,r),s&&(i.l=s),n=i}return s=t.D,e=t.za,s&&e&&re(n,s,e),re(n,"VER",t.ma),Dn(t,n),n}function xc(t,e,s){if(e&&!t.H)throw Error("Can't create secondary domain capable XhrIo object.");return e=s&&t.Da&&!t.ra?new oe(new En({jb:!0})):new oe(t.ra),e.Ka(t.H),e}function Cc(){}E=Cc.prototype;E.xa=function(){};E.wa=function(){};E.va=function(){};E.ua=function(){};E.Ra=function(){};function gr(){if(gs&&!(10<=Number(zm)))throw Error("Environmental error: no available transport.")}gr.prototype.g=function(t,e){return new Ue(t,e)};function Ue(t,e){we.call(this),this.g=new vc(e),this.l=t,this.h=e&&e.messageUrlParams||null,t=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(t?t["X-Client-Protocol"]="webchannel":t={"X-Client-Protocol":"webchannel"}),this.g.s=t,t=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(t?t["X-WebChannel-Content-Type"]=e.messageContentType:t={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.ya&&(t?t["X-WebChannel-Client-Profile"]=e.ya:t={"X-WebChannel-Client-Profile":e.ya}),this.g.S=t,(t=e&&e.Yb)&&!cr(t)&&(this.g.o=t),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!cr(e)&&(this.g.D=e,t=this.h,t!==null&&e in t&&(t=this.h,e in t&&delete t[e])),this.j=new Ds(this)}ke(Ue,we);Ue.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.H=!0);var t=this.g,e=this.l,s=this.h||void 0;Re(0),t.V=e,t.ia=s||{},t.L=t.Y,t.F=Ic(t,null,t.V),qr(t)};Ue.prototype.close=function(){Ko(this.g)};Ue.prototype.u=function(t){var e=this.g;if(typeof t=="string"){var s={};s.__data__=t,t=s}else this.v&&(s={},s.__data__=Vo(t),t=s);e.i.push(new pp(e.ab++,t)),e.G==3&&qr(e)};Ue.prototype.M=function(){this.g.l=null,delete this.j,Ko(this.g),delete this.g,Ue.X.M.call(this)};function Ac(t){Bo.call(this);var e=t.__sm__;if(e){e:{for(const s in e){t=s;break e}t=void 0}(this.i=t)&&(t=this.i,e=e!==null&&t in e?e[t]:void 0),this.data=e}else this.data=t}ke(Ac,Bo);function Mc(){qo.call(this),this.status=1}ke(Mc,qo);function Ds(t){this.g=t}ke(Ds,Cc);Ds.prototype.xa=function(){be(this.g,"a")};Ds.prototype.wa=function(t){be(this.g,new Ac(t))};Ds.prototype.va=function(t){be(this.g,new Mc)};Ds.prototype.ua=function(){be(this.g,"b")};gr.prototype.createWebChannel=gr.prototype.g;Ue.prototype.send=Ue.prototype.u;Ue.prototype.open=Ue.prototype.m;Ue.prototype.close=Ue.prototype.close;Fr.NO_ERROR=0;Fr.TIMEOUT=8;Fr.HTTP_ERROR=6;Qu.COMPLETE="complete";Xu.EventType=kn;kn.OPEN="a";kn.CLOSE="b";kn.ERROR="c";kn.MESSAGE="d";we.prototype.listen=we.prototype.N;oe.prototype.listenOnce=oe.prototype.O;oe.prototype.getLastError=oe.prototype.Oa;oe.prototype.getLastErrorCode=oe.prototype.Ea;oe.prototype.getStatus=oe.prototype.aa;oe.prototype.getResponseJson=oe.prototype.Sa;oe.prototype.getResponseText=oe.prototype.fa;oe.prototype.send=oe.prototype.da;oe.prototype.setWithCredentials=oe.prototype.Ka;var Sp=function(){return new gr},Dp=function(){return Pr()},Ri=Fr,Ip=Qu,xp=Xt,_l={sb:0,vb:1,wb:2,Pb:3,Ub:4,Rb:5,Sb:6,Qb:7,Ob:8,Tb:9,PROXY:10,NOPROXY:11,Mb:12,Ib:13,Jb:14,Hb:15,Kb:16,Lb:17,ob:18,nb:19,pb:20},Cp=En,Hn=Xu,Ap=oe;const Tl="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _e{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}_e.UNAUTHENTICATED=new _e(null),_e.GOOGLE_CREDENTIALS=new _e("google-credentials-uid"),_e.FIRST_PARTY=new _e("first-party-uid"),_e.MOCK_USER=new _e("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Is="9.17.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kt=new Eu("@firebase/firestore");function El(){return Kt.logLevel}function D(t,...e){if(Kt.logLevel<=$.DEBUG){const s=e.map(Zo);Kt.debug(`Firestore (${Is}): ${t}`,...s)}}function vt(t,...e){if(Kt.logLevel<=$.ERROR){const s=e.map(Zo);Kt.error(`Firestore (${Is}): ${t}`,...s)}}function io(t,...e){if(Kt.logLevel<=$.WARN){const s=e.map(Zo);Kt.warn(`Firestore (${Is}): ${t}`,...s)}}function Zo(t){if(typeof t=="string")return t;try{return e=t,JSON.stringify(e)}catch{return t}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O(t="Unexpected state"){const e=`FIRESTORE (${Is}) INTERNAL ASSERTION FAILED: `+t;throw vt(e),new Error(e)}function X(t,e){t||O()}function L(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class A extends Es{constructor(e,s){super(e,s),this.code=e,this.message=s,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(){this.promise=new Promise((e,s)=>{this.resolve=e,this.reject=s})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nc{constructor(e,s){this.user=s,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Mp{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,s){e.enqueueRetryable(()=>s(_e.UNAUTHENTICATED))}shutdown(){}}class Np{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,s){this.changeListener=s,e.enqueueRetryable(()=>s(this.token.user))}shutdown(){this.changeListener=null}}class Op{constructor(e){this.t=e,this.currentUser=_e.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,s){let n=this.i;const r=l=>this.i!==n?(n=this.i,s(l)):Promise.resolve();let i=new Mt;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Mt,e.enqueueRetryable(()=>r(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await r(this.currentUser)})},a=l=>{D("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(D("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Mt)}},0),o()}getToken(){const e=this.i,s=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(s).then(n=>this.i!==e?(D("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(X(typeof n.accessToken=="string"),new Nc(n.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return X(e===null||typeof e=="string"),new _e(e)}}class Rp{constructor(e,s,n,r){this.h=e,this.l=s,this.m=n,this.g=r,this.type="FirstParty",this.user=_e.FIRST_PARTY,this.p=new Map}I(){return this.g?this.g():(X(!(typeof this.h!="object"||this.h===null||!this.h.auth||!this.h.auth.getAuthHeaderValueForFirstParty)),this.h.auth.getAuthHeaderValueForFirstParty([]))}get headers(){this.p.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.p.set("Authorization",e),this.m&&this.p.set("X-Goog-Iam-Authorization-Token",this.m),this.p}}class Lp{constructor(e,s,n,r){this.h=e,this.l=s,this.m=n,this.g=r}getToken(){return Promise.resolve(new Rp(this.h,this.l,this.m,this.g))}start(e,s){e.enqueueRetryable(()=>s(_e.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Pp{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class Fp{constructor(e){this.T=e,this.forceRefresh=!1,this.appCheck=null,this.A=null}start(e,s){const n=i=>{i.error!=null&&D("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.A;return this.A=i.token,D("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?s(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>n(i))};const r=i=>{D("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.appCheck.addTokenListener(this.o)};this.T.onInit(i=>r(i)),setTimeout(()=>{if(!this.appCheck){const i=this.T.getImmediate({optional:!0});i?r(i):D("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(s=>s?(X(typeof s.token=="string"),this.A=s.token,new Pp(s.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),s=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(s);else for(let n=0;n<t;n++)s[n]=Math.floor(256*Math.random());return s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oc{static R(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=Math.floor(256/e.length)*e.length;let n="";for(;n.length<20;){const r=Up(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<s&&(n+=e.charAt(r[i]%e.length))}return n}}function H(t,e){return t<e?-1:t>e?1:0}function ys(t,e,s){return t.length===e.length&&t.every((n,r)=>s(n,e[r]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e,s){if(this.seconds=e,this.nanoseconds=s,s<0)throw new A(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(s>=1e9)throw new A(v.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+s);if(e<-62135596800)throw new A(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new A(v.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return ce.fromMillis(Date.now())}static fromDate(e){return ce.fromMillis(e.getTime())}static fromMillis(e){const s=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*s));return new ce(s,n)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?H(this.nanoseconds,e.nanoseconds):H(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R{constructor(e){this.timestamp=e}static fromTimestamp(e){return new R(e)}static min(){return new R(new ce(0,0))}static max(){return new R(new ce(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class on{constructor(e,s,n){s===void 0?s=0:s>e.length&&O(),n===void 0?n=e.length-s:n>e.length-s&&O(),this.segments=e,this.offset=s,this.len=n}get length(){return this.len}isEqual(e){return on.comparator(this,e)===0}child(e){const s=this.segments.slice(this.offset,this.limit());return e instanceof on?e.forEach(n=>{s.push(n)}):s.push(e),this.construct(s)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let s=0;s<this.length;s++)if(this.get(s)!==e.get(s))return!1;return!0}forEach(e){for(let s=this.offset,n=this.limit();s<n;s++)e(this.segments[s])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,s){const n=Math.min(e.length,s.length);for(let r=0;r<n;r++){const i=e.get(r),o=s.get(r);if(i<o)return-1;if(i>o)return 1}return e.length<s.length?-1:e.length>s.length?1:0}}class ie extends on{construct(e,s,n){return new ie(e,s,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const s=[];for(const n of e){if(n.indexOf("//")>=0)throw new A(v.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);s.push(...n.split("/").filter(r=>r.length>0))}return new ie(s)}static emptyPath(){return new ie([])}}const Vp=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ie extends on{construct(e,s,n){return new Ie(e,s,n)}static isValidIdentifier(e){return Vp.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ie.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ie(["__name__"])}static fromServerFormat(e){const s=[];let n="",r=0;const i=()=>{if(n.length===0)throw new A(v.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);s.push(n),n=""};let o=!1;for(;r<e.length;){const a=e[r];if(a==="\\"){if(r+1===e.length)throw new A(v.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[r+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new A(v.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=l,r+=2}else a==="`"?(o=!o,r++):a!=="."||o?(n+=a,r++):(i(),r++)}if(i(),o)throw new A(v.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ie(s)}static emptyPath(){return new Ie([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C{constructor(e){this.path=e}static fromPath(e){return new C(ie.fromString(e))}static fromName(e){return new C(ie.fromString(e).popFirst(5))}static empty(){return new C(ie.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ie.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,s){return ie.comparator(e.path,s.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new C(new ie(e.slice()))}}function jp(t,e){const s=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,r=R.fromTimestamp(n===1e9?new ce(s+1,0):new ce(s,n));return new Ot(r,C.empty(),e)}function zp(t){return new Ot(t.readTime,t.key,-1)}class Ot{constructor(e,s,n){this.readTime=e,this.documentKey=s,this.largestBatchId=n}static min(){return new Ot(R.min(),C.empty(),-1)}static max(){return new Ot(R.max(),C.empty(),-1)}}function Yp(t,e){let s=t.readTime.compareTo(e.readTime);return s!==0?s:(s=C.comparator(t.documentKey,e.documentKey),s!==0?s:H(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bp="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class qp{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function In(t){if(t.code!==v.FAILED_PRECONDITION||t.message!==Bp)throw t;D("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(s=>{this.isDone=!0,this.result=s,this.nextCallback&&this.nextCallback(s)},s=>{this.isDone=!0,this.error=s,this.catchCallback&&this.catchCallback(s)})}catch(e){return this.next(void 0,e)}next(e,s){return this.callbackAttached&&O(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(s,this.error):this.wrapSuccess(e,this.result):new w((n,r)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(n,r)},this.catchCallback=i=>{this.wrapFailure(s,i).next(n,r)}})}toPromise(){return new Promise((e,s)=>{this.next(e,s)})}wrapUserFunction(e){try{const s=e();return s instanceof w?s:w.resolve(s)}catch(s){return w.reject(s)}}wrapSuccess(e,s){return e?this.wrapUserFunction(()=>e(s)):w.resolve(s)}wrapFailure(e,s){return e?this.wrapUserFunction(()=>e(s)):w.reject(s)}static resolve(e){return new w((s,n)=>{s(e)})}static reject(e){return new w((s,n)=>{n(e)})}static waitFor(e){return new w((s,n)=>{let r=0,i=0,o=!1;e.forEach(a=>{++r,a.next(()=>{++i,o&&i===r&&s()},l=>n(l))}),o=!0,i===r&&s()})}static or(e){let s=w.resolve(!1);for(const n of e)s=s.next(r=>r?w.resolve(r):n());return s}static forEach(e,s){const n=[];return e.forEach((r,i)=>{n.push(s.call(this,r,i))}),this.waitFor(n)}static mapArray(e,s){return new w((n,r)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const u=l;s(e[u]).next(c=>{o[u]=c,++a,a===i&&n(o)},c=>r(c))}})}static doWhile(e,s){return new w((n,r)=>{const i=()=>{e()===!0?s().next(()=>{i()},r):n()};i()})}}function xn(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jo{constructor(e,s){this.previousValue=e,s&&(s.sequenceNumberHandler=n=>this.ut(n),this.ct=n=>s.writeSequenceNumber(n))}ut(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ct&&this.ct(e),e}}Jo.at=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wp{constructor(e,s,n,r,i,o,a,l){this.databaseId=e,this.appId=s,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.useFetchStreams=l}}class an{constructor(e,s){this.projectId=e,this.database=s||"(default)"}static empty(){return new an("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof an&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sl(t){let e=0;for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e++;return e}function xs(t,e){for(const s in t)Object.prototype.hasOwnProperty.call(t,s)&&e(s,t[s])}function Rc(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wr(t){return t==null}function yr(t){return t===0&&1/t==-1/0}function $p(t){return typeof t=="number"&&Number.isInteger(t)&&!yr(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Me{constructor(e){this.binaryString=e}static fromBase64String(e){const s=function(n){try{return atob(n)}catch(r){throw r instanceof DOMException?new Hp("Invalid base64 string: "+r):r}}(e);return new Me(s)}static fromUint8Array(e){const s=function(n){let r="";for(let i=0;i<n.length;++i)r+=String.fromCharCode(n[i]);return r}(e);return new Me(s)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const s=new Uint8Array(e.length);for(let n=0;n<e.length;n++)s[n]=e.charCodeAt(n);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return H(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Me.EMPTY_BYTE_STRING=new Me("");const Gp=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rt(t){if(X(!!t),typeof t=="string"){let e=0;const s=Gp.exec(t);if(X(!!s),s[1]){let r=s[1];r=(r+"000000000").substr(0,9),e=Number(r)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:ue(t.seconds),nanos:ue(t.nanos)}}function ue(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ws(t){return typeof t=="string"?Me.fromBase64String(t):Me.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lc(t){var e,s;return((s=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||s===void 0?void 0:s.stringValue)==="server_timestamp"}function Pc(t){const e=t.mapValue.fields.__previous_value__;return Lc(e)?Pc(e):e}function ln(t){const e=Rt(t.mapValue.fields.__local_write_time__.timestampValue);return new ce(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gn={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Qt(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Lc(t)?4:Kp(t)?9007199254740991:10:O()}function it(t,e){if(t===e)return!0;const s=Qt(t);if(s!==Qt(e))return!1;switch(s){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return ln(t).isEqual(ln(e));case 3:return function(n,r){if(typeof n.timestampValue=="string"&&typeof r.timestampValue=="string"&&n.timestampValue.length===r.timestampValue.length)return n.timestampValue===r.timestampValue;const i=Rt(n.timestampValue),o=Rt(r.timestampValue);return i.seconds===o.seconds&&i.nanos===o.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(n,r){return ws(n.bytesValue).isEqual(ws(r.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(n,r){return ue(n.geoPointValue.latitude)===ue(r.geoPointValue.latitude)&&ue(n.geoPointValue.longitude)===ue(r.geoPointValue.longitude)}(t,e);case 2:return function(n,r){if("integerValue"in n&&"integerValue"in r)return ue(n.integerValue)===ue(r.integerValue);if("doubleValue"in n&&"doubleValue"in r){const i=ue(n.doubleValue),o=ue(r.doubleValue);return i===o?yr(i)===yr(o):isNaN(i)&&isNaN(o)}return!1}(t,e);case 9:return ys(t.arrayValue.values||[],e.arrayValue.values||[],it);case 10:return function(n,r){const i=n.mapValue.fields||{},o=r.mapValue.fields||{};if(Sl(i)!==Sl(o))return!1;for(const a in i)if(i.hasOwnProperty(a)&&(o[a]===void 0||!it(i[a],o[a])))return!1;return!0}(t,e);default:return O()}}function un(t,e){return(t.values||[]).find(s=>it(s,e))!==void 0}function vs(t,e){if(t===e)return 0;const s=Qt(t),n=Qt(e);if(s!==n)return H(s,n);switch(s){case 0:case 9007199254740991:return 0;case 1:return H(t.booleanValue,e.booleanValue);case 2:return function(r,i){const o=ue(r.integerValue||r.doubleValue),a=ue(i.integerValue||i.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(t,e);case 3:return Dl(t.timestampValue,e.timestampValue);case 4:return Dl(ln(t),ln(e));case 5:return H(t.stringValue,e.stringValue);case 6:return function(r,i){const o=ws(r),a=ws(i);return o.compareTo(a)}(t.bytesValue,e.bytesValue);case 7:return function(r,i){const o=r.split("/"),a=i.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=H(o[l],a[l]);if(u!==0)return u}return H(o.length,a.length)}(t.referenceValue,e.referenceValue);case 8:return function(r,i){const o=H(ue(r.latitude),ue(i.latitude));return o!==0?o:H(ue(r.longitude),ue(i.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return function(r,i){const o=r.values||[],a=i.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=vs(o[l],a[l]);if(u)return u}return H(o.length,a.length)}(t.arrayValue,e.arrayValue);case 10:return function(r,i){if(r===Gn.mapValue&&i===Gn.mapValue)return 0;if(r===Gn.mapValue)return 1;if(i===Gn.mapValue)return-1;const o=r.fields||{},a=Object.keys(o),l=i.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const p=H(a[c],u[c]);if(p!==0)return p;const h=vs(o[a[c]],l[u[c]]);if(h!==0)return h}return H(a.length,u.length)}(t.mapValue,e.mapValue);default:throw O()}}function Dl(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return H(t,e);const s=Rt(t),n=Rt(e),r=H(s.seconds,n.seconds);return r!==0?r:H(s.nanos,n.nanos)}function bs(t){return oo(t)}function oo(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Rt(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?ws(t.bytesValue).toBase64():"referenceValue"in t?(s=t.referenceValue,C.fromName(s).toString()):"geoPointValue"in t?`geo(${(e=t.geoPointValue).latitude},${e.longitude})`:"arrayValue"in t?function(n){let r="[",i=!0;for(const o of n.values||[])i?i=!1:r+=",",r+=oo(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let i="{",o=!0;for(const a of r)o?o=!1:i+=",",i+=`${a}:${oo(n.fields[a])}`;return i+"}"}(t.mapValue):O();var e,s}function ao(t){return!!t&&"integerValue"in t}function ea(t){return!!t&&"arrayValue"in t}function Il(t){return!!t&&"nullValue"in t}function xl(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Zn(t){return!!t&&"mapValue"in t}function $s(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return xs(t.mapValue.fields,(s,n)=>e.mapValue.fields[s]=$s(n)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let s=0;s<(t.arrayValue.values||[]).length;++s)e.arrayValue.values[s]=$s(t.arrayValue.values[s]);return e}return Object.assign({},t)}function Kp(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wr{constructor(e,s){this.position=e,this.inclusive=s}}function Cl(t,e,s){let n=0;for(let r=0;r<t.position.length;r++){const i=e[r],o=t.position[r];if(i.field.isKeyField()?n=C.comparator(C.fromName(o.referenceValue),s.key):n=vs(o,s.data.field(i.field)),i.dir==="desc"&&(n*=-1),n!==0)break}return n}function Al(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let s=0;s<t.position.length;s++)if(!it(t.position[s],e.position[s]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fc{}class he extends Fc{constructor(e,s,n){super(),this.field=e,this.op=s,this.value=n}static create(e,s,n){return e.isKeyField()?s==="in"||s==="not-in"?this.createKeyFieldInFilter(e,s,n):new Xp(e,s,n):s==="array-contains"?new eg(e,n):s==="in"?new tg(e,n):s==="not-in"?new sg(e,n):s==="array-contains-any"?new ng(e,n):new he(e,s,n)}static createKeyFieldInFilter(e,s,n){return s==="in"?new Zp(e,n):new Jp(e,n)}matches(e){const s=e.data.field(this.field);return this.op==="!="?s!==null&&this.matchesComparison(vs(s,this.value)):s!==null&&Qt(this.value)===Qt(s)&&this.matchesComparison(vs(s,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return O()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class ot extends Fc{constructor(e,s){super(),this.filters=e,this.op=s,this.ft=null}static create(e,s){return new ot(e,s)}matches(e){return Uc(this)?this.filters.find(s=>!s.matches(e))===void 0:this.filters.find(s=>s.matches(e))!==void 0}getFlattenedFilters(){return this.ft!==null||(this.ft=this.filters.reduce((e,s)=>e.concat(s.getFlattenedFilters()),[])),this.ft}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.dt(s=>s.isInequality());return e!==null?e.field:null}dt(e){for(const s of this.getFlattenedFilters())if(e(s))return s;return null}}function Uc(t){return t.op==="and"}function Vc(t){return Qp(t)&&Uc(t)}function Qp(t){for(const e of t.filters)if(e instanceof ot)return!1;return!0}function lo(t){if(t instanceof he)return t.field.canonicalString()+t.op.toString()+bs(t.value);if(Vc(t))return t.filters.map(e=>lo(e)).join(",");{const e=t.filters.map(s=>lo(s)).join(",");return`${t.op}(${e})`}}function jc(t,e){return t instanceof he?function(s,n){return n instanceof he&&s.op===n.op&&s.field.isEqual(n.field)&&it(s.value,n.value)}(t,e):t instanceof ot?function(s,n){return n instanceof ot&&s.op===n.op&&s.filters.length===n.filters.length?s.filters.reduce((r,i,o)=>r&&jc(i,n.filters[o]),!0):!1}(t,e):void O()}function zc(t){return t instanceof he?function(e){return`${e.field.canonicalString()} ${e.op} ${bs(e.value)}`}(t):t instanceof ot?function(e){return e.op.toString()+" {"+e.getFilters().map(zc).join(" ,")+"}"}(t):"Filter"}class Xp extends he{constructor(e,s,n){super(e,s,n),this.key=C.fromName(n.referenceValue)}matches(e){const s=C.comparator(e.key,this.key);return this.matchesComparison(s)}}class Zp extends he{constructor(e,s){super(e,"in",s),this.keys=Yc("in",s)}matches(e){return this.keys.some(s=>s.isEqual(e.key))}}class Jp extends he{constructor(e,s){super(e,"not-in",s),this.keys=Yc("not-in",s)}matches(e){return!this.keys.some(s=>s.isEqual(e.key))}}function Yc(t,e){var s;return(((s=e.arrayValue)===null||s===void 0?void 0:s.values)||[]).map(n=>C.fromName(n.referenceValue))}class eg extends he{constructor(e,s){super(e,"array-contains",s)}matches(e){const s=e.data.field(this.field);return ea(s)&&un(s.arrayValue,this.value)}}class tg extends he{constructor(e,s){super(e,"in",s)}matches(e){const s=e.data.field(this.field);return s!==null&&un(this.value.arrayValue,s)}}class sg extends he{constructor(e,s){super(e,"not-in",s)}matches(e){if(un(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const s=e.data.field(this.field);return s!==null&&!un(this.value.arrayValue,s)}}class ng extends he{constructor(e,s){super(e,"array-contains-any",s)}matches(e){const s=e.data.field(this.field);return!(!ea(s)||!s.arrayValue.values)&&s.arrayValue.values.some(n=>un(this.value.arrayValue,n))}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e,s="asc"){this.field=e,this.dir=s}}function rg(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class me{constructor(e,s){this.comparator=e,this.root=s||ve.EMPTY}insert(e,s){return new me(this.comparator,this.root.insert(e,s,this.comparator).copy(null,null,ve.BLACK,null,null))}remove(e){return new me(this.comparator,this.root.remove(e,this.comparator).copy(null,null,ve.BLACK,null,null))}get(e){let s=this.root;for(;!s.isEmpty();){const n=this.comparator(e,s.key);if(n===0)return s.value;n<0?s=s.left:n>0&&(s=s.right)}return null}indexOf(e){let s=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return s+n.left.size;r<0?n=n.left:(s+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((s,n)=>(e(s,n),!1))}toString(){const e=[];return this.inorderTraversal((s,n)=>(e.push(`${s}:${n}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Kn(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Kn(this.root,e,this.comparator,!1)}getReverseIterator(){return new Kn(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Kn(this.root,e,this.comparator,!0)}}class Kn{constructor(e,s,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=s?n(e.key,s):1,s&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const s={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return s}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class ve{constructor(e,s,n,r,i){this.key=e,this.value=s,this.color=n??ve.RED,this.left=r??ve.EMPTY,this.right=i??ve.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,s,n,r,i){return new ve(e??this.key,s??this.value,n??this.color,r??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,s,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,s,n),null):i===0?r.copy(null,s,null,null,null):r.copy(null,null,null,null,r.right.insert(e,s,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return ve.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,s){let n,r=this;if(s(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,s),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),s(e,r.key)===0){if(r.right.isEmpty())return ve.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,s))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,ve.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,ve.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),s=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,s)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw O();const e=this.left.check();if(e!==this.right.check())throw O();return e+(this.isRed()?0:1)}}ve.EMPTY=null,ve.RED=!0,ve.BLACK=!1;ve.EMPTY=new class{constructor(){this.size=0}get key(){throw O()}get value(){throw O()}get color(){throw O()}get left(){throw O()}get right(){throw O()}copy(t,e,s,n,r){return this}insert(t,e,s){return new ve(t,e)}remove(t,e){return this}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{constructor(e){this.comparator=e,this.data=new me(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((s,n)=>(e(s),!1))}forEachInRange(e,s){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;s(r.key)}}forEachWhile(e,s){let n;for(n=s!==void 0?this.data.getIteratorFrom(s):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const s=this.data.getIteratorFrom(e);return s.hasNext()?s.getNext().key:null}getIterator(){return new Ml(this.data.getIterator())}getIteratorFrom(e){return new Ml(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let s=this;return s.size<e.size&&(s=e,e=this),e.forEach(n=>{s=s.add(n)}),s}isEqual(e){if(!(e instanceof fe)||this.size!==e.size)return!1;const s=this.data.getIterator(),n=e.data.getIterator();for(;s.hasNext();){const r=s.getNext().key,i=n.getNext().key;if(this.comparator(r,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(s=>{e.push(s)}),e}toString(){const e=[];return this.forEach(s=>e.push(s)),"SortedSet("+e.toString()+")"}copy(e){const s=new fe(this.comparator);return s.data=e,s}}class Ml{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ke{constructor(e){this.fields=e,e.sort(Ie.comparator)}static empty(){return new Ke([])}unionWith(e){let s=new fe(Ie.comparator);for(const n of this.fields)s=s.add(n);for(const n of e)s=s.add(n);return new Ke(s.toArray())}covers(e){for(const s of this.fields)if(s.isPrefixOf(e))return!0;return!1}isEqual(e){return ys(this.fields,e.fields,(s,n)=>s.isEqual(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ze{constructor(e){this.value=e}static empty(){return new ze({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let s=this.value;for(let n=0;n<e.length-1;++n)if(s=(s.mapValue.fields||{})[e.get(n)],!Zn(s))return null;return s=(s.mapValue.fields||{})[e.lastSegment()],s||null}}set(e,s){this.getFieldsMap(e.popLast())[e.lastSegment()]=$s(s)}setAll(e){let s=Ie.emptyPath(),n={},r=[];e.forEach((o,a)=>{if(!s.isImmediateParentOf(a)){const l=this.getFieldsMap(s);this.applyChanges(l,n,r),n={},r=[],s=a.popLast()}o?n[a.lastSegment()]=$s(o):r.push(a.lastSegment())});const i=this.getFieldsMap(s);this.applyChanges(i,n,r)}delete(e){const s=this.field(e.popLast());Zn(s)&&s.mapValue.fields&&delete s.mapValue.fields[e.lastSegment()]}isEqual(e){return it(this.value,e.value)}getFieldsMap(e){let s=this.value;s.mapValue.fields||(s.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=s.mapValue.fields[e.get(n)];Zn(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},s.mapValue.fields[e.get(n)]=r),s=r}return s.mapValue.fields}applyChanges(e,s,n){xs(s,(r,i)=>e[r]=i);for(const r of n)delete e[r]}clone(){return new ze($s(this.value))}}function Bc(t){const e=[];return xs(t.fields,(s,n)=>{const r=new Ie([s]);if(Zn(n)){const i=Bc(n.mapValue).fields;if(i.length===0)e.push(r);else for(const o of i)e.push(r.child(o))}else e.push(r)}),new Ke(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e,s,n,r,i,o,a){this.key=e,this.documentType=s,this.version=n,this.readTime=r,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Se(e,0,R.min(),R.min(),R.min(),ze.empty(),0)}static newFoundDocument(e,s,n,r){return new Se(e,1,s,R.min(),n,r,0)}static newNoDocument(e,s){return new Se(e,2,s,R.min(),R.min(),ze.empty(),0)}static newUnknownDocument(e,s){return new Se(e,3,s,R.min(),R.min(),ze.empty(),2)}convertToFoundDocument(e,s){return!this.createTime.isEqual(R.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=s,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ze.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ze.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=R.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Se&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Se(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(e,s=null,n=[],r=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=s,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=o,this.endAt=a,this._t=null}}function Nl(t,e=null,s=[],n=[],r=null,i=null,o=null){return new ig(t,e,s,n,r,i,o)}function ta(t){const e=L(t);if(e._t===null){let s=e.path.canonicalString();e.collectionGroup!==null&&(s+="|cg:"+e.collectionGroup),s+="|f:",s+=e.filters.map(n=>lo(n)).join(","),s+="|ob:",s+=e.orderBy.map(n=>function(r){return r.field.canonicalString()+r.dir}(n)).join(","),Wr(e.limit)||(s+="|l:",s+=e.limit),e.startAt&&(s+="|lb:",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(n=>bs(n)).join(",")),e.endAt&&(s+="|ub:",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(n=>bs(n)).join(",")),e._t=s}return e._t}function sa(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let s=0;s<t.orderBy.length;s++)if(!rg(t.orderBy[s],e.orderBy[s]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let s=0;s<t.filters.length;s++)if(!jc(t.filters[s],e.filters[s]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Al(t.startAt,e.startAt)&&Al(t.endAt,e.endAt)}function uo(t){return C.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $r{constructor(e,s=null,n=[],r=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=s,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this.gt=null,this.startAt,this.endAt}}function og(t,e,s,n,r,i,o,a){return new $r(t,e,s,n,r,i,o,a)}function na(t){return new $r(t)}function Ol(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function ag(t){return t.explicitOrderBy.length>0?t.explicitOrderBy[0].field:null}function lg(t){for(const e of t.filters){const s=e.getFirstInequalityField();if(s!==null)return s}return null}function ug(t){return t.collectionGroup!==null}function cs(t){const e=L(t);if(e.wt===null){e.wt=[];const s=lg(e),n=ag(e);if(s!==null&&n===null)s.isKeyField()||e.wt.push(new Hs(s)),e.wt.push(new Hs(Ie.keyField(),"asc"));else{let r=!1;for(const i of e.explicitOrderBy)e.wt.push(i),i.field.isKeyField()&&(r=!0);if(!r){const i=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.wt.push(new Hs(Ie.keyField(),i))}}}return e.wt}function bt(t){const e=L(t);if(!e.gt)if(e.limitType==="F")e.gt=Nl(e.path,e.collectionGroup,cs(e),e.filters,e.limit,e.startAt,e.endAt);else{const s=[];for(const i of cs(e)){const o=i.dir==="desc"?"asc":"desc";s.push(new Hs(i.field,o))}const n=e.endAt?new wr(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new wr(e.startAt.position,e.startAt.inclusive):null;e.gt=Nl(e.path,e.collectionGroup,s,e.filters,e.limit,n,r)}return e.gt}function co(t,e,s){return new $r(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,s,t.startAt,t.endAt)}function Hr(t,e){return sa(bt(t),bt(e))&&t.limitType===e.limitType}function qc(t){return`${ta(bt(t))}|lt:${t.limitType}`}function ho(t){return`Query(target=${function(e){let s=e.path.canonicalString();return e.collectionGroup!==null&&(s+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(s+=`, filters: [${e.filters.map(n=>zc(n)).join(", ")}]`),Wr(e.limit)||(s+=", limit: "+e.limit),e.orderBy.length>0&&(s+=`, orderBy: [${e.orderBy.map(n=>function(r){return`${r.field.canonicalString()} (${r.dir})`}(n)).join(", ")}]`),e.startAt&&(s+=", startAt: ",s+=e.startAt.inclusive?"b:":"a:",s+=e.startAt.position.map(n=>bs(n)).join(",")),e.endAt&&(s+=", endAt: ",s+=e.endAt.inclusive?"a:":"b:",s+=e.endAt.position.map(n=>bs(n)).join(",")),`Target(${s})`}(bt(t))}; limitType=${t.limitType})`}function Gr(t,e){return e.isFoundDocument()&&function(s,n){const r=n.key.path;return s.collectionGroup!==null?n.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(r):C.isDocumentKey(s.path)?s.path.isEqual(r):s.path.isImmediateParentOf(r)}(t,e)&&function(s,n){for(const r of cs(s))if(!r.field.isKeyField()&&n.data.field(r.field)===null)return!1;return!0}(t,e)&&function(s,n){for(const r of s.filters)if(!r.matches(n))return!1;return!0}(t,e)&&function(s,n){return!(s.startAt&&!function(r,i,o){const a=Cl(r,i,o);return r.inclusive?a<=0:a<0}(s.startAt,cs(s),n)||s.endAt&&!function(r,i,o){const a=Cl(r,i,o);return r.inclusive?a>=0:a>0}(s.endAt,cs(s),n))}(t,e)}function cg(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Wc(t){return(e,s)=>{let n=!1;for(const r of cs(t)){const i=hg(r,e,s);if(i!==0)return i;n=n||r.field.isKeyField()}return 0}}function hg(t,e,s){const n=t.field.isKeyField()?C.comparator(e.key,s.key):function(r,i,o){const a=i.data.field(r),l=o.data.field(r);return a!==null&&l!==null?vs(a,l):O()}(t.field,e,s);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return O()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $c(t,e){if(t.yt){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:yr(e)?"-0":e}}function Hc(t){return{integerValue:""+t}}function dg(t,e){return $p(e)?Hc(e):$c(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(){this._=void 0}}function fg(t,e,s){return t instanceof vr?function(n,r){const i={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:n.seconds,nanos:n.nanoseconds}}}};return r&&(i.fields.__previous_value__=r),{mapValue:i}}(s,e):t instanceof cn?Kc(t,e):t instanceof hn?Qc(t,e):function(n,r){const i=Gc(n,r),o=Rl(i)+Rl(n.It);return ao(i)&&ao(n.It)?Hc(o):$c(n.Tt,o)}(t,e)}function mg(t,e,s){return t instanceof cn?Kc(t,e):t instanceof hn?Qc(t,e):s}function Gc(t,e){return t instanceof br?ao(s=e)||function(n){return!!n&&"doubleValue"in n}(s)?e:{integerValue:0}:null;var s}class vr extends Kr{}class cn extends Kr{constructor(e){super(),this.elements=e}}function Kc(t,e){const s=Xc(e);for(const n of t.elements)s.some(r=>it(r,n))||s.push(n);return{arrayValue:{values:s}}}class hn extends Kr{constructor(e){super(),this.elements=e}}function Qc(t,e){let s=Xc(e);for(const n of t.elements)s=s.filter(r=>!it(r,n));return{arrayValue:{values:s}}}class br extends Kr{constructor(e,s){super(),this.Tt=e,this.It=s}}function Rl(t){return ue(t.integerValue||t.doubleValue)}function Xc(t){return ea(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function pg(t,e){return t.field.isEqual(e.field)&&function(s,n){return s instanceof cn&&n instanceof cn||s instanceof hn&&n instanceof hn?ys(s.elements,n.elements,it):s instanceof br&&n instanceof br?it(s.It,n.It):s instanceof vr&&n instanceof vr}(t.transform,e.transform)}class gg{constructor(e,s){this.version=e,this.transformResults=s}}class gt{constructor(e,s){this.updateTime=e,this.exists=s}static none(){return new gt}static exists(e){return new gt(void 0,e)}static updateTime(e){return new gt(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jn(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Qr{}function Zc(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new eh(t.key,gt.none()):new Cn(t.key,t.data,gt.none());{const s=t.data,n=ze.empty();let r=new fe(Ie.comparator);for(let i of e.fields)if(!r.has(i)){let o=s.field(i);o===null&&i.length>1&&(i=i.popLast(),o=s.field(i)),o===null?n.delete(i):n.set(i,o),r=r.add(i)}return new Zt(t.key,n,new Ke(r.toArray()),gt.none())}}function yg(t,e,s){t instanceof Cn?function(n,r,i){const o=n.value.clone(),a=Pl(n.fieldTransforms,r,i.transformResults);o.setAll(a),r.convertToFoundDocument(i.version,o).setHasCommittedMutations()}(t,e,s):t instanceof Zt?function(n,r,i){if(!Jn(n.precondition,r))return void r.convertToUnknownDocument(i.version);const o=Pl(n.fieldTransforms,r,i.transformResults),a=r.data;a.setAll(Jc(n)),a.setAll(o),r.convertToFoundDocument(i.version,a).setHasCommittedMutations()}(t,e,s):function(n,r,i){r.convertToNoDocument(i.version).setHasCommittedMutations()}(0,e,s)}function Gs(t,e,s,n){return t instanceof Cn?function(r,i,o,a){if(!Jn(r.precondition,i))return o;const l=r.value.clone(),u=Fl(r.fieldTransforms,a,i);return l.setAll(u),i.convertToFoundDocument(i.version,l).setHasLocalMutations(),null}(t,e,s,n):t instanceof Zt?function(r,i,o,a){if(!Jn(r.precondition,i))return o;const l=Fl(r.fieldTransforms,a,i),u=i.data;return u.setAll(Jc(r)),u.setAll(l),i.convertToFoundDocument(i.version,u).setHasLocalMutations(),o===null?null:o.unionWith(r.fieldMask.fields).unionWith(r.fieldTransforms.map(c=>c.field))}(t,e,s,n):function(r,i,o){return Jn(r.precondition,i)?(i.convertToNoDocument(i.version).setHasLocalMutations(),null):o}(t,e,s)}function wg(t,e){let s=null;for(const n of t.fieldTransforms){const r=e.data.field(n.field),i=Gc(n.transform,r||null);i!=null&&(s===null&&(s=ze.empty()),s.set(n.field,i))}return s||null}function Ll(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(s,n){return s===void 0&&n===void 0||!(!s||!n)&&ys(s,n,(r,i)=>pg(r,i))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cn extends Qr{constructor(e,s,n,r=[]){super(),this.key=e,this.value=s,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class Zt extends Qr{constructor(e,s,n,r,i=[]){super(),this.key=e,this.data=s,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function Jc(t){const e=new Map;return t.fieldMask.fields.forEach(s=>{if(!s.isEmpty()){const n=t.data.field(s);e.set(s,n)}}),e}function Pl(t,e,s){const n=new Map;X(t.length===s.length);for(let r=0;r<s.length;r++){const i=t[r],o=i.transform,a=e.data.field(i.field);n.set(i.field,mg(o,a,s[r]))}return n}function Fl(t,e,s){const n=new Map;for(const r of t){const i=r.transform,o=s.data.field(r.field);n.set(r.field,fg(i,o,e))}return n}class eh extends Qr{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}let vg=class extends Qr{constructor(e,s){super(),this.key=e,this.precondition=s,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bg{constructor(e){this.count=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var le,Y;function kg(t){switch(t){default:return O();case v.CANCELLED:case v.UNKNOWN:case v.DEADLINE_EXCEEDED:case v.RESOURCE_EXHAUSTED:case v.INTERNAL:case v.UNAVAILABLE:case v.UNAUTHENTICATED:return!1;case v.INVALID_ARGUMENT:case v.NOT_FOUND:case v.ALREADY_EXISTS:case v.PERMISSION_DENIED:case v.FAILED_PRECONDITION:case v.ABORTED:case v.OUT_OF_RANGE:case v.UNIMPLEMENTED:case v.DATA_LOSS:return!0}}function th(t){if(t===void 0)return vt("GRPC error has no .code"),v.UNKNOWN;switch(t){case le.OK:return v.OK;case le.CANCELLED:return v.CANCELLED;case le.UNKNOWN:return v.UNKNOWN;case le.DEADLINE_EXCEEDED:return v.DEADLINE_EXCEEDED;case le.RESOURCE_EXHAUSTED:return v.RESOURCE_EXHAUSTED;case le.INTERNAL:return v.INTERNAL;case le.UNAVAILABLE:return v.UNAVAILABLE;case le.UNAUTHENTICATED:return v.UNAUTHENTICATED;case le.INVALID_ARGUMENT:return v.INVALID_ARGUMENT;case le.NOT_FOUND:return v.NOT_FOUND;case le.ALREADY_EXISTS:return v.ALREADY_EXISTS;case le.PERMISSION_DENIED:return v.PERMISSION_DENIED;case le.FAILED_PRECONDITION:return v.FAILED_PRECONDITION;case le.ABORTED:return v.ABORTED;case le.OUT_OF_RANGE:return v.OUT_OF_RANGE;case le.UNIMPLEMENTED:return v.UNIMPLEMENTED;case le.DATA_LOSS:return v.DATA_LOSS;default:return O()}}(Y=le||(le={}))[Y.OK=0]="OK",Y[Y.CANCELLED=1]="CANCELLED",Y[Y.UNKNOWN=2]="UNKNOWN",Y[Y.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Y[Y.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Y[Y.NOT_FOUND=5]="NOT_FOUND",Y[Y.ALREADY_EXISTS=6]="ALREADY_EXISTS",Y[Y.PERMISSION_DENIED=7]="PERMISSION_DENIED",Y[Y.UNAUTHENTICATED=16]="UNAUTHENTICATED",Y[Y.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Y[Y.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Y[Y.ABORTED=10]="ABORTED",Y[Y.OUT_OF_RANGE=11]="OUT_OF_RANGE",Y[Y.UNIMPLEMENTED=12]="UNIMPLEMENTED",Y[Y.INTERNAL=13]="INTERNAL",Y[Y.UNAVAILABLE=14]="UNAVAILABLE",Y[Y.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cs{constructor(e,s){this.mapKeyFn=e,this.equalsFn=s,this.inner={},this.innerSize=0}get(e){const s=this.mapKeyFn(e),n=this.inner[s];if(n!==void 0){for(const[r,i]of n)if(this.equalsFn(r,e))return i}}has(e){return this.get(e)!==void 0}set(e,s){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return this.inner[n]=[[e,s]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,s]);r.push([e,s]),this.innerSize++}delete(e){const s=this.mapKeyFn(e),n=this.inner[s];if(n===void 0)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return n.length===1?delete this.inner[s]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){xs(this.inner,(s,n)=>{for(const[r,i]of n)e(r,i)})}isEmpty(){return Rc(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _g=new me(C.comparator);function kt(){return _g}const sh=new me(C.comparator);function qs(...t){let e=sh;for(const s of t)e=e.insert(s.key,s);return e}function nh(t){let e=sh;return t.forEach((s,n)=>e=e.insert(s,n.overlayedDocument)),e}function Yt(){return Ks()}function rh(){return Ks()}function Ks(){return new Cs(t=>t.toString(),(t,e)=>t.isEqual(e))}const Tg=new me(C.comparator),Eg=new fe(C.comparator);function j(...t){let e=Eg;for(const s of t)e=e.add(s);return e}const Sg=new fe(H);function ih(){return Sg}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(e,s,n,r,i){this.snapshotVersion=e,this.targetChanges=s,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,s,n){const r=new Map;return r.set(e,An.createSynthesizedTargetChangeForCurrentChange(e,s,n)),new Xr(R.min(),r,ih(),kt(),j())}}class An{constructor(e,s,n,r,i){this.resumeToken=e,this.current=s,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,s,n){return new An(n,s,j(),j(),j())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class er{constructor(e,s,n,r){this.Et=e,this.removedTargetIds=s,this.key=n,this.At=r}}class oh{constructor(e,s){this.targetId=e,this.Rt=s}}class ah{constructor(e,s,n=Me.EMPTY_BYTE_STRING,r=null){this.state=e,this.targetIds=s,this.resumeToken=n,this.cause=r}}class Ul{constructor(){this.bt=0,this.vt=jl(),this.Pt=Me.EMPTY_BYTE_STRING,this.Vt=!1,this.St=!0}get current(){return this.Vt}get resumeToken(){return this.Pt}get Dt(){return this.bt!==0}get Ct(){return this.St}xt(e){e.approximateByteSize()>0&&(this.St=!0,this.Pt=e)}Nt(){let e=j(),s=j(),n=j();return this.vt.forEach((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:s=s.add(r);break;case 1:n=n.add(r);break;default:O()}}),new An(this.Pt,this.Vt,e,s,n)}kt(){this.St=!1,this.vt=jl()}Ot(e,s){this.St=!0,this.vt=this.vt.insert(e,s)}Mt(e){this.St=!0,this.vt=this.vt.remove(e)}Ft(){this.bt+=1}$t(){this.bt-=1}Bt(){this.St=!0,this.Vt=!0}}class Dg{constructor(e){this.Lt=e,this.qt=new Map,this.Ut=kt(),this.Kt=Vl(),this.Gt=new fe(H)}Qt(e){for(const s of e.Et)e.At&&e.At.isFoundDocument()?this.jt(s,e.At):this.zt(s,e.key,e.At);for(const s of e.removedTargetIds)this.zt(s,e.key,e.At)}Wt(e){this.forEachTarget(e,s=>{const n=this.Ht(s);switch(e.state){case 0:this.Jt(s)&&n.xt(e.resumeToken);break;case 1:n.$t(),n.Dt||n.kt(),n.xt(e.resumeToken);break;case 2:n.$t(),n.Dt||this.removeTarget(s);break;case 3:this.Jt(s)&&(n.Bt(),n.xt(e.resumeToken));break;case 4:this.Jt(s)&&(this.Yt(s),n.xt(e.resumeToken));break;default:O()}})}forEachTarget(e,s){e.targetIds.length>0?e.targetIds.forEach(s):this.qt.forEach((n,r)=>{this.Jt(r)&&s(r)})}Zt(e){const s=e.targetId,n=e.Rt.count,r=this.Xt(s);if(r){const i=r.target;if(uo(i))if(n===0){const o=new C(i.path);this.zt(s,o,Se.newNoDocument(o,R.min()))}else X(n===1);else this.te(s)!==n&&(this.Yt(s),this.Gt=this.Gt.add(s))}}ee(e){const s=new Map;this.qt.forEach((i,o)=>{const a=this.Xt(o);if(a){if(i.current&&uo(a.target)){const l=new C(a.target.path);this.Ut.get(l)!==null||this.ne(o,l)||this.zt(o,l,Se.newNoDocument(l,e))}i.Ct&&(s.set(o,i.Nt()),i.kt())}});let n=j();this.Kt.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.Xt(l);return!u||u.purpose===2||(a=!1,!1)}),a&&(n=n.add(i))}),this.Ut.forEach((i,o)=>o.setReadTime(e));const r=new Xr(e,s,this.Gt,this.Ut,n);return this.Ut=kt(),this.Kt=Vl(),this.Gt=new fe(H),r}jt(e,s){if(!this.Jt(e))return;const n=this.ne(e,s.key)?2:0;this.Ht(e).Ot(s.key,n),this.Ut=this.Ut.insert(s.key,s),this.Kt=this.Kt.insert(s.key,this.se(s.key).add(e))}zt(e,s,n){if(!this.Jt(e))return;const r=this.Ht(e);this.ne(e,s)?r.Ot(s,1):r.Mt(s),this.Kt=this.Kt.insert(s,this.se(s).delete(e)),n&&(this.Ut=this.Ut.insert(s,n))}removeTarget(e){this.qt.delete(e)}te(e){const s=this.Ht(e).Nt();return this.Lt.getRemoteKeysForTarget(e).size+s.addedDocuments.size-s.removedDocuments.size}Ft(e){this.Ht(e).Ft()}Ht(e){let s=this.qt.get(e);return s||(s=new Ul,this.qt.set(e,s)),s}se(e){let s=this.Kt.get(e);return s||(s=new fe(H),this.Kt=this.Kt.insert(e,s)),s}Jt(e){const s=this.Xt(e)!==null;return s||D("WatchChangeAggregator","Detected inactive target",e),s}Xt(e){const s=this.qt.get(e);return s&&s.Dt?null:this.Lt.ie(e)}Yt(e){this.qt.set(e,new Ul),this.Lt.getRemoteKeysForTarget(e).forEach(s=>{this.zt(e,s,null)})}ne(e,s){return this.Lt.getRemoteKeysForTarget(e).has(s)}}function Vl(){return new me(C.comparator)}function jl(){return new me(C.comparator)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ig=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),xg=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Cg=(()=>({and:"AND",or:"OR"}))();class Ag{constructor(e,s){this.databaseId=e,this.yt=s}}function kr(t,e){return t.yt?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function lh(t,e){return t.yt?e.toBase64():e.toUint8Array()}function Mg(t,e){return kr(t,e.toTimestamp())}function rt(t){return X(!!t),R.fromTimestamp(function(e){const s=Rt(e);return new ce(s.seconds,s.nanos)}(t))}function ra(t,e){return function(s){return new ie(["projects",s.projectId,"databases",s.database])}(t).child("documents").child(e).canonicalString()}function uh(t){const e=ie.fromString(t);return X(fh(e)),e}function fo(t,e){return ra(t.databaseId,e.path)}function Li(t,e){const s=uh(e);if(s.get(1)!==t.databaseId.projectId)throw new A(v.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+s.get(1)+" vs "+t.databaseId.projectId);if(s.get(3)!==t.databaseId.database)throw new A(v.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+s.get(3)+" vs "+t.databaseId.database);return new C(ch(s))}function mo(t,e){return ra(t.databaseId,e)}function Ng(t){const e=uh(t);return e.length===4?ie.emptyPath():ch(e)}function po(t){return new ie(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function ch(t){return X(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function zl(t,e,s){return{name:fo(t,e),fields:s.value.mapValue.fields}}function Og(t,e){let s;if("targetChange"in e){e.targetChange;const n=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:O()}(e.targetChange.targetChangeType||"NO_CHANGE"),r=e.targetChange.targetIds||[],i=function(l,u){return l.yt?(X(u===void 0||typeof u=="string"),Me.fromBase64String(u||"")):(X(u===void 0||u instanceof Uint8Array),Me.fromUint8Array(u||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(l){const u=l.code===void 0?v.UNKNOWN:th(l.code);return new A(u,l.message||"")}(o);s=new ah(n,r,i,a||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const r=Li(t,n.document.name),i=rt(n.document.updateTime),o=n.document.createTime?rt(n.document.createTime):R.min(),a=new ze({mapValue:{fields:n.document.fields}}),l=Se.newFoundDocument(r,i,o,a),u=n.targetIds||[],c=n.removedTargetIds||[];s=new er(u,c,l.key,l)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const r=Li(t,n.document),i=n.readTime?rt(n.readTime):R.min(),o=Se.newNoDocument(r,i),a=n.removedTargetIds||[];s=new er([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const r=Li(t,n.document),i=n.removedTargetIds||[];s=new er([],i,r,null)}else{if(!("filter"in e))return O();{e.filter;const n=e.filter;n.targetId;const r=n.count||0,i=new bg(r),o=n.targetId;s=new oh(o,i)}}return s}function Rg(t,e){let s;if(e instanceof Cn)s={update:zl(t,e.key,e.value)};else if(e instanceof eh)s={delete:fo(t,e.key)};else if(e instanceof Zt)s={update:zl(t,e.key,e.data),updateMask:Bg(e.fieldMask)};else{if(!(e instanceof vg))return O();s={verify:fo(t,e.key)}}return e.fieldTransforms.length>0&&(s.updateTransforms=e.fieldTransforms.map(n=>function(r,i){const o=i.transform;if(o instanceof vr)return{fieldPath:i.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof cn)return{fieldPath:i.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof hn)return{fieldPath:i.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof br)return{fieldPath:i.field.canonicalString(),increment:o.It};throw O()}(0,n))),e.precondition.isNone||(s.currentDocument=function(n,r){return r.updateTime!==void 0?{updateTime:Mg(n,r.updateTime)}:r.exists!==void 0?{exists:r.exists}:O()}(t,e.precondition)),s}function Lg(t,e){return t&&t.length>0?(X(e!==void 0),t.map(s=>function(n,r){let i=n.updateTime?rt(n.updateTime):rt(r);return i.isEqual(R.min())&&(i=rt(r)),new gg(i,n.transformResults||[])}(s,e))):[]}function Pg(t,e){return{documents:[mo(t,e.path)]}}function Fg(t,e){const s={structuredQuery:{}},n=e.path;e.collectionGroup!==null?(s.parent=mo(t,n),s.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s.parent=mo(t,n.popLast()),s.structuredQuery.from=[{collectionId:n.lastSegment()}]);const r=function(l){if(l.length!==0)return dh(ot.create(l,"and"))}(e.filters);r&&(s.structuredQuery.where=r);const i=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:rs(c.field),direction:jg(c.dir)}}(u))}(e.orderBy);i&&(s.structuredQuery.orderBy=i);const o=function(l,u){return l.yt||Wr(u)?u:{value:u}}(t,e.limit);var a;return o!==null&&(s.structuredQuery.limit=o),e.startAt&&(s.structuredQuery.startAt={before:(a=e.startAt).inclusive,values:a.position}),e.endAt&&(s.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(e.endAt)),s}function Ug(t){let e=Ng(t.parent);const s=t.structuredQuery,n=s.from?s.from.length:0;let r=null;if(n>0){X(n===1);const c=s.from[0];c.allDescendants?r=c.collectionId:e=e.child(c.collectionId)}let i=[];s.where&&(i=function(c){const p=hh(c);return p instanceof ot&&Vc(p)?p.getFilters():[p]}(s.where));let o=[];s.orderBy&&(o=s.orderBy.map(c=>function(p){return new Hs(is(p.field),function(h){switch(h){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(p.direction))}(c)));let a=null;s.limit&&(a=function(c){let p;return p=typeof c=="object"?c.value:c,Wr(p)?null:p}(s.limit));let l=null;s.startAt&&(l=function(c){const p=!!c.before,h=c.values||[];return new wr(h,p)}(s.startAt));let u=null;return s.endAt&&(u=function(c){const p=!c.before,h=c.values||[];return new wr(h,p)}(s.endAt)),og(e,r,o,i,a,"F",l,u)}function Vg(t,e){const s=function(n,r){switch(r){case 0:return null;case 1:return"existence-filter-mismatch";case 2:return"limbo-document";default:return O()}}(0,e.purpose);return s==null?null:{"goog-listen-tags":s}}function hh(t){return t.unaryFilter!==void 0?function(e){switch(e.unaryFilter.op){case"IS_NAN":const s=is(e.unaryFilter.field);return he.create(s,"==",{doubleValue:NaN});case"IS_NULL":const n=is(e.unaryFilter.field);return he.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=is(e.unaryFilter.field);return he.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=is(e.unaryFilter.field);return he.create(i,"!=",{nullValue:"NULL_VALUE"});default:return O()}}(t):t.fieldFilter!==void 0?function(e){return he.create(is(e.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return O()}}(e.fieldFilter.op),e.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(e){return ot.create(e.compositeFilter.filters.map(s=>hh(s)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return O()}}(e.compositeFilter.op))}(t):O()}function jg(t){return Ig[t]}function zg(t){return xg[t]}function Yg(t){return Cg[t]}function rs(t){return{fieldPath:t.canonicalString()}}function is(t){return Ie.fromServerFormat(t.fieldPath)}function dh(t){return t instanceof he?function(e){if(e.op==="=="){if(xl(e.value))return{unaryFilter:{field:rs(e.field),op:"IS_NAN"}};if(Il(e.value))return{unaryFilter:{field:rs(e.field),op:"IS_NULL"}}}else if(e.op==="!="){if(xl(e.value))return{unaryFilter:{field:rs(e.field),op:"IS_NOT_NAN"}};if(Il(e.value))return{unaryFilter:{field:rs(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:rs(e.field),op:zg(e.op),value:e.value}}}(t):t instanceof ot?function(e){const s=e.getFilters().map(n=>dh(n));return s.length===1?s[0]:{compositeFilter:{op:Yg(e.op),filters:s}}}(t):O()}function Bg(t){const e=[];return t.fields.forEach(s=>e.push(s.canonicalString())),{fieldPaths:e}}function fh(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,s,n,r){this.batchId=e,this.localWriteTime=s,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,s){const n=s.mutationResults;for(let r=0;r<this.mutations.length;r++){const i=this.mutations[r];i.key.isEqual(e.key)&&yg(i,e,n[r])}}applyToLocalView(e,s){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(s=Gs(n,e,s,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(s=Gs(n,e,s,this.localWriteTime));return s}applyToLocalDocumentSet(e,s){const n=rh();return this.mutations.forEach(r=>{const i=e.get(r.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=s.has(r.key)?null:a;const l=Zc(o,a);l!==null&&n.set(r.key,l),o.isValidDocument()||o.convertToNoDocument(R.min())}),n}keys(){return this.mutations.reduce((e,s)=>e.add(s.key),j())}isEqual(e){return this.batchId===e.batchId&&ys(this.mutations,e.mutations,(s,n)=>Ll(s,n))&&ys(this.baseMutations,e.baseMutations,(s,n)=>Ll(s,n))}}class ia{constructor(e,s,n,r){this.batch=e,this.commitVersion=s,this.mutationResults=n,this.docVersions=r}static from(e,s,n){X(e.mutations.length===n.length);let r=Tg;const i=e.mutations;for(let o=0;o<i.length;o++)r=r.insert(i[o].key,n[o].version);return new ia(e,s,n,r)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wg{constructor(e,s){this.largestBatchId=e,this.mutation=s}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wt{constructor(e,s,n,r,i=R.min(),o=R.min(),a=Me.EMPTY_BYTE_STRING){this.target=e,this.targetId=s,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a}withSequenceNumber(e){return new Wt(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken)}withResumeToken(e,s){return new Wt(this.target,this.targetId,this.purpose,this.sequenceNumber,s,this.lastLimboFreeSnapshotVersion,e)}withLastLimboFreeSnapshotVersion(e){return new Wt(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(e){this.oe=e}}function Hg(t){const e=Ug({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?co(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gg{constructor(){this.Ze=new Kg}addToCollectionParentIndex(e,s){return this.Ze.add(s),w.resolve()}getCollectionParents(e,s){return w.resolve(this.Ze.getEntries(s))}addFieldIndex(e,s){return w.resolve()}deleteFieldIndex(e,s){return w.resolve()}getDocumentsMatchingTarget(e,s){return w.resolve(null)}getIndexType(e,s){return w.resolve(0)}getFieldIndexes(e,s){return w.resolve([])}getNextCollectionGroupToUpdate(e){return w.resolve(null)}getMinOffset(e,s){return w.resolve(Ot.min())}getMinOffsetFromCollectionGroup(e,s){return w.resolve(Ot.min())}updateCollectionGroup(e,s,n){return w.resolve()}updateIndexEntries(e,s){return w.resolve()}}class Kg{constructor(){this.index={}}add(e){const s=e.lastSegment(),n=e.popLast(),r=this.index[s]||new fe(ie.comparator),i=!r.has(n);return this.index[s]=r.add(n),i}has(e){const s=e.lastSegment(),n=e.popLast(),r=this.index[s];return r&&r.has(n)}getEntries(e){return(this.index[e]||new fe(ie.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ks{constructor(e){this.Pn=e}next(){return this.Pn+=2,this.Pn}static Vn(){return new ks(0)}static Sn(){return new ks(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qg{constructor(){this.changes=new Cs(e=>e.toString(),(e,s)=>e.isEqual(s)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,s){this.assertNotApplied(),this.changes.set(e,Se.newInvalidDocument(e).setReadTime(s))}getEntry(e,s){this.assertNotApplied();const n=this.changes.get(s);return n!==void 0?w.resolve(n):this.getFromCache(e,s)}getEntries(e,s){return this.getAllFromCache(e,s)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xg{constructor(e,s){this.overlayedDocument=e,this.mutatedFields=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zg{constructor(e,s,n,r){this.remoteDocumentCache=e,this.mutationQueue=s,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,s){let n=null;return this.documentOverlayCache.getOverlay(e,s).next(r=>(n=r,this.remoteDocumentCache.getEntry(e,s))).next(r=>(n!==null&&Gs(n.mutation,r,Ke.empty(),ce.now()),r))}getDocuments(e,s){return this.remoteDocumentCache.getEntries(e,s).next(n=>this.getLocalViewOfDocuments(e,n,j()).next(()=>n))}getLocalViewOfDocuments(e,s,n=j()){const r=Yt();return this.populateOverlays(e,r,s).next(()=>this.computeViews(e,s,r,n).next(i=>{let o=qs();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,s){const n=Yt();return this.populateOverlays(e,n,s).next(()=>this.computeViews(e,s,n,j()))}populateOverlays(e,s,n){const r=[];return n.forEach(i=>{s.has(i)||r.push(i)}),this.documentOverlayCache.getOverlays(e,r).next(i=>{i.forEach((o,a)=>{s.set(o,a)})})}computeViews(e,s,n,r){let i=kt();const o=Ks(),a=Ks();return s.forEach((l,u)=>{const c=n.get(u.key);r.has(u.key)&&(c===void 0||c.mutation instanceof Zt)?i=i.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),Gs(c.mutation,u,c.mutation.getFieldMask(),ce.now())):o.set(u.key,Ke.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((u,c)=>o.set(u,c)),s.forEach((u,c)=>{var p;return a.set(u,new Xg(c,(p=o.get(u))!==null&&p!==void 0?p:null))}),a))}recalculateAndSaveOverlays(e,s){const n=Ks();let r=new me((o,a)=>o-a),i=j();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,s).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=s.get(l);if(u===null)return;let c=n.get(l)||Ke.empty();c=a.applyToLocalView(u,c),n.set(l,c);const p=(r.get(a.batchId)||j()).add(l);r=r.insert(a.batchId,p)})}).next(()=>{const o=[],a=r.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,p=rh();c.forEach(h=>{if(!i.has(h)){const m=Zc(s.get(h),n.get(h));m!==null&&p.set(h,m),i=i.add(h)}}),o.push(this.documentOverlayCache.saveOverlays(e,u,p))}return w.waitFor(o)}).next(()=>n)}recalculateAndSaveOverlaysForDocumentKeys(e,s){return this.remoteDocumentCache.getEntries(e,s).next(n=>this.recalculateAndSaveOverlays(e,n))}getDocumentsMatchingQuery(e,s,n){return function(r){return C.isDocumentKey(r.path)&&r.collectionGroup===null&&r.filters.length===0}(s)?this.getDocumentsMatchingDocumentQuery(e,s.path):ug(s)?this.getDocumentsMatchingCollectionGroupQuery(e,s,n):this.getDocumentsMatchingCollectionQuery(e,s,n)}getNextDocuments(e,s,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,s,n,r).next(i=>{const o=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,s,n.largestBatchId,r-i.size):w.resolve(Yt());let a=-1,l=i;return o.next(u=>w.forEach(u,(c,p)=>(a<p.largestBatchId&&(a=p.largestBatchId),i.get(c)?w.resolve():this.remoteDocumentCache.getEntry(e,c).next(h=>{l=l.insert(c,h)}))).next(()=>this.populateOverlays(e,u,i)).next(()=>this.computeViews(e,l,u,j())).next(c=>({batchId:a,changes:nh(c)})))})}getDocumentsMatchingDocumentQuery(e,s){return this.getDocument(e,new C(s)).next(n=>{let r=qs();return n.isFoundDocument()&&(r=r.insert(n.key,n)),r})}getDocumentsMatchingCollectionGroupQuery(e,s,n){const r=s.collectionGroup;let i=qs();return this.indexManager.getCollectionParents(e,r).next(o=>w.forEach(o,a=>{const l=function(u,c){return new $r(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(s,a.child(r));return this.getDocumentsMatchingCollectionQuery(e,l,n).next(u=>{u.forEach((c,p)=>{i=i.insert(c,p)})})}).next(()=>i))}getDocumentsMatchingCollectionQuery(e,s,n){let r;return this.documentOverlayCache.getOverlaysForCollection(e,s.path,n.largestBatchId).next(i=>(r=i,this.remoteDocumentCache.getDocumentsMatchingQuery(e,s,n,r))).next(i=>{r.forEach((a,l)=>{const u=l.getKey();i.get(u)===null&&(i=i.insert(u,Se.newInvalidDocument(u)))});let o=qs();return i.forEach((a,l)=>{const u=r.get(a);u!==void 0&&Gs(u.mutation,l,Ke.empty(),ce.now()),Gr(s,l)&&(o=o.insert(a,l))}),o})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e){this.Tt=e,this.es=new Map,this.ns=new Map}getBundleMetadata(e,s){return w.resolve(this.es.get(s))}saveBundleMetadata(e,s){var n;return this.es.set(s.id,{id:(n=s).id,version:n.version,createTime:rt(n.createTime)}),w.resolve()}getNamedQuery(e,s){return w.resolve(this.ns.get(s))}saveNamedQuery(e,s){return this.ns.set(s.name,function(n){return{name:n.name,query:Hg(n.bundledQuery),readTime:rt(n.readTime)}}(s)),w.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ey{constructor(){this.overlays=new me(C.comparator),this.ss=new Map}getOverlay(e,s){return w.resolve(this.overlays.get(s))}getOverlays(e,s){const n=Yt();return w.forEach(s,r=>this.getOverlay(e,r).next(i=>{i!==null&&n.set(r,i)})).next(()=>n)}saveOverlays(e,s,n){return n.forEach((r,i)=>{this.ce(e,s,i)}),w.resolve()}removeOverlaysForBatchId(e,s,n){const r=this.ss.get(n);return r!==void 0&&(r.forEach(i=>this.overlays=this.overlays.remove(i)),this.ss.delete(n)),w.resolve()}getOverlaysForCollection(e,s,n){const r=Yt(),i=s.length+1,o=new C(s.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!s.isPrefixOf(u.path))break;u.path.length===i&&l.largestBatchId>n&&r.set(l.getKey(),l)}return w.resolve(r)}getOverlaysForCollectionGroup(e,s,n,r){let i=new me((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===s&&u.largestBatchId>n){let c=i.get(u.largestBatchId);c===null&&(c=Yt(),i=i.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Yt(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=r)););return w.resolve(a)}ce(e,s,n){const r=this.overlays.get(n.key);if(r!==null){const o=this.ss.get(r.largestBatchId).delete(n.key);this.ss.set(r.largestBatchId,o)}this.overlays=this.overlays.insert(n.key,new Wg(s,n));let i=this.ss.get(s);i===void 0&&(i=j(),this.ss.set(s,i)),this.ss.set(s,i.add(n.key))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oa{constructor(){this.rs=new fe(pe.os),this.us=new fe(pe.cs)}isEmpty(){return this.rs.isEmpty()}addReference(e,s){const n=new pe(e,s);this.rs=this.rs.add(n),this.us=this.us.add(n)}hs(e,s){e.forEach(n=>this.addReference(n,s))}removeReference(e,s){this.ls(new pe(e,s))}fs(e,s){e.forEach(n=>this.removeReference(n,s))}ds(e){const s=new C(new ie([])),n=new pe(s,e),r=new pe(s,e+1),i=[];return this.us.forEachInRange([n,r],o=>{this.ls(o),i.push(o.key)}),i}_s(){this.rs.forEach(e=>this.ls(e))}ls(e){this.rs=this.rs.delete(e),this.us=this.us.delete(e)}ws(e){const s=new C(new ie([])),n=new pe(s,e),r=new pe(s,e+1);let i=j();return this.us.forEachInRange([n,r],o=>{i=i.add(o.key)}),i}containsKey(e){const s=new pe(e,0),n=this.rs.firstAfterOrEqual(s);return n!==null&&e.isEqual(n.key)}}class pe{constructor(e,s){this.key=e,this.gs=s}static os(e,s){return C.comparator(e.key,s.key)||H(e.gs,s.gs)}static cs(e,s){return H(e.gs,s.gs)||C.comparator(e.key,s.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ty{constructor(e,s){this.indexManager=e,this.referenceDelegate=s,this.mutationQueue=[],this.ys=1,this.ps=new fe(pe.os)}checkEmpty(e){return w.resolve(this.mutationQueue.length===0)}addMutationBatch(e,s,n,r){const i=this.ys;this.ys++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new qg(i,s,n,r);this.mutationQueue.push(o);for(const a of r)this.ps=this.ps.add(new pe(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return w.resolve(o)}lookupMutationBatch(e,s){return w.resolve(this.Is(s))}getNextMutationBatchAfterBatchId(e,s){const n=s+1,r=this.Ts(n),i=r<0?0:r;return w.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return w.resolve(this.mutationQueue.length===0?-1:this.ys-1)}getAllMutationBatches(e){return w.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,s){const n=new pe(s,0),r=new pe(s,Number.POSITIVE_INFINITY),i=[];return this.ps.forEachInRange([n,r],o=>{const a=this.Is(o.gs);i.push(a)}),w.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,s){let n=new fe(H);return s.forEach(r=>{const i=new pe(r,0),o=new pe(r,Number.POSITIVE_INFINITY);this.ps.forEachInRange([i,o],a=>{n=n.add(a.gs)})}),w.resolve(this.Es(n))}getAllMutationBatchesAffectingQuery(e,s){const n=s.path,r=n.length+1;let i=n;C.isDocumentKey(i)||(i=i.child(""));const o=new pe(new C(i),0);let a=new fe(H);return this.ps.forEachWhile(l=>{const u=l.key.path;return!!n.isPrefixOf(u)&&(u.length===r&&(a=a.add(l.gs)),!0)},o),w.resolve(this.Es(a))}Es(e){const s=[];return e.forEach(n=>{const r=this.Is(n);r!==null&&s.push(r)}),s}removeMutationBatch(e,s){X(this.As(s.batchId,"removed")===0),this.mutationQueue.shift();let n=this.ps;return w.forEach(s.mutations,r=>{const i=new pe(r.key,s.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)}).next(()=>{this.ps=n})}bn(e){}containsKey(e,s){const n=new pe(s,0),r=this.ps.firstAfterOrEqual(n);return w.resolve(s.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,w.resolve()}As(e,s){return this.Ts(e)}Ts(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Is(e){const s=this.Ts(e);return s<0||s>=this.mutationQueue.length?null:this.mutationQueue[s]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sy{constructor(e){this.Rs=e,this.docs=new me(C.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,s){const n=s.key,r=this.docs.get(n),i=r?r.size:0,o=this.Rs(s);return this.docs=this.docs.insert(n,{document:s.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const s=this.docs.get(e);s&&(this.docs=this.docs.remove(e),this.size-=s.size)}getEntry(e,s){const n=this.docs.get(s);return w.resolve(n?n.document.mutableCopy():Se.newInvalidDocument(s))}getEntries(e,s){let n=kt();return s.forEach(r=>{const i=this.docs.get(r);n=n.insert(r,i?i.document.mutableCopy():Se.newInvalidDocument(r))}),w.resolve(n)}getDocumentsMatchingQuery(e,s,n,r){let i=kt();const o=s.path,a=new C(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||Yp(zp(c),n)<=0||(r.has(c.key)||Gr(s,c))&&(i=i.insert(c.key,c.mutableCopy()))}return w.resolve(i)}getAllFromCollectionGroup(e,s,n,r){O()}bs(e,s){return w.forEach(this.docs,n=>s(n))}newChangeBuffer(e){return new ny(this)}getSize(e){return w.resolve(this.size)}}class ny extends Qg{constructor(e){super(),this.Xn=e}applyChanges(e){const s=[];return this.changes.forEach((n,r)=>{r.isValidDocument()?s.push(this.Xn.addEntry(e,r)):this.Xn.removeEntry(n)}),w.waitFor(s)}getFromCache(e,s){return this.Xn.getEntry(e,s)}getAllFromCache(e,s){return this.Xn.getEntries(e,s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ry{constructor(e){this.persistence=e,this.vs=new Cs(s=>ta(s),sa),this.lastRemoteSnapshotVersion=R.min(),this.highestTargetId=0,this.Ps=0,this.Vs=new oa,this.targetCount=0,this.Ss=ks.Vn()}forEachTarget(e,s){return this.vs.forEach((n,r)=>s(r)),w.resolve()}getLastRemoteSnapshotVersion(e){return w.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return w.resolve(this.Ps)}allocateTargetId(e){return this.highestTargetId=this.Ss.next(),w.resolve(this.highestTargetId)}setTargetsMetadata(e,s,n){return n&&(this.lastRemoteSnapshotVersion=n),s>this.Ps&&(this.Ps=s),w.resolve()}xn(e){this.vs.set(e.target,e);const s=e.targetId;s>this.highestTargetId&&(this.Ss=new ks(s),this.highestTargetId=s),e.sequenceNumber>this.Ps&&(this.Ps=e.sequenceNumber)}addTargetData(e,s){return this.xn(s),this.targetCount+=1,w.resolve()}updateTargetData(e,s){return this.xn(s),w.resolve()}removeTargetData(e,s){return this.vs.delete(s.target),this.Vs.ds(s.targetId),this.targetCount-=1,w.resolve()}removeTargets(e,s,n){let r=0;const i=[];return this.vs.forEach((o,a)=>{a.sequenceNumber<=s&&n.get(a.targetId)===null&&(this.vs.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)}),w.waitFor(i).next(()=>r)}getTargetCount(e){return w.resolve(this.targetCount)}getTargetData(e,s){const n=this.vs.get(s)||null;return w.resolve(n)}addMatchingKeys(e,s,n){return this.Vs.hs(s,n),w.resolve()}removeMatchingKeys(e,s,n){this.Vs.fs(s,n);const r=this.persistence.referenceDelegate,i=[];return r&&s.forEach(o=>{i.push(r.markPotentiallyOrphaned(e,o))}),w.waitFor(i)}removeMatchingKeysForTargetId(e,s){return this.Vs.ds(s),w.resolve()}getMatchingKeysForTargetId(e,s){const n=this.Vs.ws(s);return w.resolve(n)}containsKey(e,s){return w.resolve(this.Vs.containsKey(s))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iy{constructor(e,s){this.Ds={},this.overlays={},this.Cs=new Jo(0),this.xs=!1,this.xs=!0,this.referenceDelegate=e(this),this.Ns=new ry(this),this.indexManager=new Gg,this.remoteDocumentCache=function(n){return new sy(n)}(n=>this.referenceDelegate.ks(n)),this.Tt=new $g(s),this.Os=new Jg(this.Tt)}start(){return Promise.resolve()}shutdown(){return this.xs=!1,Promise.resolve()}get started(){return this.xs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let s=this.overlays[e.toKey()];return s||(s=new ey,this.overlays[e.toKey()]=s),s}getMutationQueue(e,s){let n=this.Ds[e.toKey()];return n||(n=new ty(s,this.referenceDelegate),this.Ds[e.toKey()]=n),n}getTargetCache(){return this.Ns}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Os}runTransaction(e,s,n){D("MemoryPersistence","Starting transaction:",e);const r=new oy(this.Cs.next());return this.referenceDelegate.Ms(),n(r).next(i=>this.referenceDelegate.Fs(r).next(()=>i)).toPromise().then(i=>(r.raiseOnCommittedEvent(),i))}$s(e,s){return w.or(Object.values(this.Ds).map(n=>()=>n.containsKey(e,s)))}}class oy extends qp{constructor(e){super(),this.currentSequenceNumber=e}}class aa{constructor(e){this.persistence=e,this.Bs=new oa,this.Ls=null}static qs(e){return new aa(e)}get Us(){if(this.Ls)return this.Ls;throw O()}addReference(e,s,n){return this.Bs.addReference(n,s),this.Us.delete(n.toString()),w.resolve()}removeReference(e,s,n){return this.Bs.removeReference(n,s),this.Us.add(n.toString()),w.resolve()}markPotentiallyOrphaned(e,s){return this.Us.add(s.toString()),w.resolve()}removeTarget(e,s){this.Bs.ds(s.targetId).forEach(r=>this.Us.add(r.toString()));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,s.targetId).next(r=>{r.forEach(i=>this.Us.add(i.toString()))}).next(()=>n.removeTargetData(e,s))}Ms(){this.Ls=new Set}Fs(e){const s=this.persistence.getRemoteDocumentCache().newChangeBuffer();return w.forEach(this.Us,n=>{const r=C.fromPath(n);return this.Ks(e,r).next(i=>{i||s.removeEntry(r,R.min())})}).next(()=>(this.Ls=null,s.apply(e)))}updateLimboDocument(e,s){return this.Ks(e,s).next(n=>{n?this.Us.delete(s.toString()):this.Us.add(s.toString())})}ks(e){return 0}Ks(e,s){return w.or([()=>w.resolve(this.Bs.containsKey(s)),()=>this.persistence.getTargetCache().containsKey(e,s),()=>this.persistence.$s(e,s)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class la{constructor(e,s,n,r){this.targetId=e,this.fromCache=s,this.Ci=n,this.xi=r}static Ni(e,s){let n=j(),r=j();for(const i of s.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new la(e,s.fromCache,n,r)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ay{constructor(){this.ki=!1}initialize(e,s){this.Oi=e,this.indexManager=s,this.ki=!0}getDocumentsMatchingQuery(e,s,n,r){return this.Mi(e,s).next(i=>i||this.Fi(e,s,r,n)).next(i=>i||this.$i(e,s))}Mi(e,s){if(Ol(s))return w.resolve(null);let n=bt(s);return this.indexManager.getIndexType(e,n).next(r=>r===0?null:(s.limit!==null&&r===1&&(s=co(s,null,"F"),n=bt(s)),this.indexManager.getDocumentsMatchingTarget(e,n).next(i=>{const o=j(...i);return this.Oi.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,n).next(l=>{const u=this.Bi(s,a);return this.Li(s,u,o,l.readTime)?this.Mi(e,co(s,null,"F")):this.qi(e,u,s,l)}))})))}Fi(e,s,n,r){return Ol(s)||r.isEqual(R.min())?this.$i(e,s):this.Oi.getDocuments(e,n).next(i=>{const o=this.Bi(s,i);return this.Li(s,o,n,r)?this.$i(e,s):(El()<=$.DEBUG&&D("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),ho(s)),this.qi(e,o,s,jp(r,-1)))})}Bi(e,s){let n=new fe(Wc(e));return s.forEach((r,i)=>{Gr(e,i)&&(n=n.add(i))}),n}Li(e,s,n,r){if(e.limit===null)return!1;if(n.size!==s.size)return!0;const i=e.limitType==="F"?s.last():s.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}$i(e,s){return El()<=$.DEBUG&&D("QueryEngine","Using full collection scan to execute query:",ho(s)),this.Oi.getDocumentsMatchingQuery(e,s,Ot.min())}qi(e,s,n,r){return this.Oi.getDocumentsMatchingQuery(e,n,r).next(i=>(s.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,s,n,r){this.persistence=e,this.Ui=s,this.Tt=r,this.Ki=new me(H),this.Gi=new Cs(i=>ta(i),sa),this.Qi=new Map,this.ji=e.getRemoteDocumentCache(),this.Ns=e.getTargetCache(),this.Os=e.getBundleCache(),this.zi(n)}zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Zg(this.ji,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.ji.setIndexManager(this.indexManager),this.Ui.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",s=>e.collect(s,this.Ki))}}function uy(t,e,s,n){return new ly(t,e,s,n)}async function mh(t,e){const s=L(t);return await s.persistence.runTransaction("Handle user change","readonly",n=>{let r;return s.mutationQueue.getAllMutationBatches(n).next(i=>(r=i,s.zi(e),s.mutationQueue.getAllMutationBatches(n))).next(i=>{const o=[],a=[];let l=j();for(const u of r){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of i){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return s.localDocuments.getDocuments(n,l).next(u=>({Wi:u,removedBatchIds:o,addedBatchIds:a}))})})}function cy(t,e){const s=L(t);return s.persistence.runTransaction("Acknowledge batch","readwrite-primary",n=>{const r=e.batch.keys(),i=s.ji.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,p=c.keys();let h=w.resolve();return p.forEach(m=>{h=h.next(()=>u.getEntry(a,m)).next(f=>{const d=l.docVersions.get(m);X(d!==null),f.version.compareTo(d)<0&&(c.applyToRemoteDocument(f,l),f.isValidDocument()&&(f.setReadTime(l.commitVersion),u.addEntry(f)))})}),h.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(s,n,e,i).next(()=>i.apply(n)).next(()=>s.mutationQueue.performConsistencyCheck(n)).next(()=>s.documentOverlayCache.removeOverlaysForBatchId(n,r,e.batch.batchId)).next(()=>s.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,function(o){let a=j();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(e))).next(()=>s.localDocuments.getDocuments(n,r))})}function ph(t){const e=L(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",s=>e.Ns.getLastRemoteSnapshotVersion(s))}function hy(t,e){const s=L(t),n=e.snapshotVersion;let r=s.Ki;return s.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=s.ji.newChangeBuffer({trackRemovals:!0});r=s.Ki;const a=[];e.targetChanges.forEach((c,p)=>{const h=r.get(p);if(!h)return;a.push(s.Ns.removeMatchingKeys(i,c.removedDocuments,p).next(()=>s.Ns.addMatchingKeys(i,c.addedDocuments,p)));let m=h.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.has(p)?m=m.withResumeToken(Me.EMPTY_BYTE_STRING,R.min()).withLastLimboFreeSnapshotVersion(R.min()):c.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(c.resumeToken,n)),r=r.insert(p,m),function(f,d,g){return f.resumeToken.approximateByteSize()===0||d.snapshotVersion.toMicroseconds()-f.snapshotVersion.toMicroseconds()>=3e8?!0:g.addedDocuments.size+g.modifiedDocuments.size+g.removedDocuments.size>0}(h,m,c)&&a.push(s.Ns.updateTargetData(i,m))});let l=kt(),u=j();if(e.documentUpdates.forEach(c=>{e.resolvedLimboDocuments.has(c)&&a.push(s.persistence.referenceDelegate.updateLimboDocument(i,c))}),a.push(dy(i,o,e.documentUpdates).next(c=>{l=c.Hi,u=c.Ji})),!n.isEqual(R.min())){const c=s.Ns.getLastRemoteSnapshotVersion(i).next(p=>s.Ns.setTargetsMetadata(i,i.currentSequenceNumber,n));a.push(c)}return w.waitFor(a).next(()=>o.apply(i)).next(()=>s.localDocuments.getLocalViewOfDocuments(i,l,u)).next(()=>l)}).then(i=>(s.Ki=r,i))}function dy(t,e,s){let n=j(),r=j();return s.forEach(i=>n=n.add(i)),e.getEntries(t,n).next(i=>{let o=kt();return s.forEach((a,l)=>{const u=i.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(r=r.add(a)),l.isNoDocument()&&l.version.isEqual(R.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):D("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{Hi:o,Ji:r}})}function fy(t,e){const s=L(t);return s.persistence.runTransaction("Get next mutation batch","readonly",n=>(e===void 0&&(e=-1),s.mutationQueue.getNextMutationBatchAfterBatchId(n,e)))}function my(t,e){const s=L(t);return s.persistence.runTransaction("Allocate target","readwrite",n=>{let r;return s.Ns.getTargetData(n,e).next(i=>i?(r=i,w.resolve(r)):s.Ns.allocateTargetId(n).next(o=>(r=new Wt(e,o,0,n.currentSequenceNumber),s.Ns.addTargetData(n,r).next(()=>r))))}).then(n=>{const r=s.Ki.get(n.targetId);return(r===null||n.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(s.Ki=s.Ki.insert(n.targetId,n),s.Gi.set(e,n.targetId)),n})}async function go(t,e,s){const n=L(t),r=n.Ki.get(e),i=s?"readwrite":"readwrite-primary";try{s||await n.persistence.runTransaction("Release target",i,o=>n.persistence.referenceDelegate.removeTarget(o,r))}catch(o){if(!xn(o))throw o;D("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}n.Ki=n.Ki.remove(e),n.Gi.delete(r.target)}function Yl(t,e,s){const n=L(t);let r=R.min(),i=j();return n.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=L(a),p=c.Gi.get(u);return p!==void 0?w.resolve(c.Ki.get(p)):c.Ns.getTargetData(l,u)}(n,o,bt(e)).next(a=>{if(a)return r=a.lastLimboFreeSnapshotVersion,n.Ns.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>n.Ui.getDocumentsMatchingQuery(o,e,s?r:R.min(),s?i:j())).next(a=>(py(n,cg(e),a),{documents:a,Yi:i})))}function py(t,e,s){let n=t.Qi.get(e)||R.min();s.forEach((r,i)=>{i.readTime.compareTo(n)>0&&(n=i.readTime)}),t.Qi.set(e,n)}class Bl{constructor(){this.activeTargetIds=ih()}sr(e){this.activeTargetIds=this.activeTargetIds.add(e)}ir(e){this.activeTargetIds=this.activeTargetIds.delete(e)}nr(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class gy{constructor(){this.Ur=new Bl,this.Kr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,s,n){}addLocalQueryTarget(e){return this.Ur.sr(e),this.Kr[e]||"not-current"}updateQueryState(e,s,n){this.Kr[e]=s}removeLocalQueryTarget(e){this.Ur.ir(e)}isLocalQueryTarget(e){return this.Ur.activeTargetIds.has(e)}clearQueryState(e){delete this.Kr[e]}getAllActiveQueryTargets(){return this.Ur.activeTargetIds}isActiveQueryTarget(e){return this.Ur.activeTargetIds.has(e)}start(){return this.Ur=new Bl,Promise.resolve()}handleUserChange(e,s,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yy{Gr(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ql{constructor(){this.Qr=()=>this.jr(),this.zr=()=>this.Wr(),this.Hr=[],this.Jr()}Gr(e){this.Hr.push(e)}shutdown(){window.removeEventListener("online",this.Qr),window.removeEventListener("offline",this.zr)}Jr(){window.addEventListener("online",this.Qr),window.addEventListener("offline",this.zr)}jr(){D("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.Hr)e(0)}Wr(){D("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.Hr)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wy={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vy{constructor(e){this.Yr=e.Yr,this.Zr=e.Zr}Xr(e){this.eo=e}no(e){this.so=e}onMessage(e){this.io=e}close(){this.Zr()}send(e){this.Yr(e)}ro(){this.eo()}oo(e){this.so(e)}uo(e){this.io(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class by extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const s=e.ssl?"https":"http";this.co=s+"://"+e.host,this.ao="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get ho(){return!1}lo(e,s,n,r,i){const o=this.fo(e,s);D("RestConnection","Sending: ",o,n);const a={};return this._o(a,r,i),this.wo(e,o,a,n).then(l=>(D("RestConnection","Received: ",l),l),l=>{throw io("RestConnection",`${e} failed with error: `,l,"url: ",o,"request:",n),l})}mo(e,s,n,r,i,o){return this.lo(e,s,n,r,i)}_o(e,s,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+Is,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((r,i)=>e[i]=r),n&&n.headers.forEach((r,i)=>e[i]=r)}fo(e,s){const n=wy[e];return`${this.co}/v1/${s}:${n}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}wo(e,s,n,r){return new Promise((i,o)=>{const a=new Ap;a.setWithCredentials(!0),a.listenOnce(Ip.COMPLETE,()=>{try{switch(a.getLastErrorCode()){case Ri.NO_ERROR:const u=a.getResponseJson();D("Connection","XHR received:",JSON.stringify(u)),i(u);break;case Ri.TIMEOUT:D("Connection",'RPC "'+e+'" timed out'),o(new A(v.DEADLINE_EXCEEDED,"Request time out"));break;case Ri.HTTP_ERROR:const c=a.getStatus();if(D("Connection",'RPC "'+e+'" failed with status:',c,"response text:",a.getResponseText()),c>0){let p=a.getResponseJson();Array.isArray(p)&&(p=p[0]);const h=p==null?void 0:p.error;if(h&&h.status&&h.message){const m=function(f){const d=f.toLowerCase().replace(/_/g,"-");return Object.values(v).indexOf(d)>=0?d:v.UNKNOWN}(h.status);o(new A(m,h.message))}else o(new A(v.UNKNOWN,"Server responded with status "+a.getStatus()))}else o(new A(v.UNAVAILABLE,"Connection failed."));break;default:O()}}finally{D("Connection",'RPC "'+e+'" completed.')}});const l=JSON.stringify(r);a.send(s,"POST",l,n,15)})}yo(e,s,n){const r=[this.co,"/","google.firestore.v1.Firestore","/",e,"/channel"],i=Sp(),o=Dp(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(a.xmlHttpFactory=new Cp({})),this._o(a.initMessageHeaders,s,n),a.encodeInitMessageHeaders=!0;const l=r.join("");D("Connection","Creating WebChannel: "+l,a);const u=i.createWebChannel(l,a);let c=!1,p=!1;const h=new vy({Yr:f=>{p?D("Connection","Not sending because WebChannel is closed:",f):(c||(D("Connection","Opening WebChannel transport."),u.open(),c=!0),D("Connection","WebChannel sending:",f),u.send(f))},Zr:()=>u.close()}),m=(f,d,g)=>{f.listen(d,b=>{try{g(b)}catch(M){setTimeout(()=>{throw M},0)}})};return m(u,Hn.EventType.OPEN,()=>{p||D("Connection","WebChannel transport opened.")}),m(u,Hn.EventType.CLOSE,()=>{p||(p=!0,D("Connection","WebChannel transport closed"),h.oo())}),m(u,Hn.EventType.ERROR,f=>{p||(p=!0,io("Connection","WebChannel transport errored:",f),h.oo(new A(v.UNAVAILABLE,"The operation could not be completed")))}),m(u,Hn.EventType.MESSAGE,f=>{var d;if(!p){const g=f.data[0];X(!!g);const b=g,M=b.error||((d=b[0])===null||d===void 0?void 0:d.error);if(M){D("Connection","WebChannel received error:",M);const S=M.status;let x=function(We){const St=le[We];if(St!==void 0)return th(St)}(S),Q=M.message;x===void 0&&(x=v.INTERNAL,Q="Unknown error status: "+S+" with message "+M.message),p=!0,h.oo(new A(x,Q)),u.close()}else D("Connection","WebChannel received:",g),h.uo(g)}}),m(o,xp.STAT_EVENT,f=>{f.stat===_l.PROXY?D("Connection","Detected buffering proxy"):f.stat===_l.NOPROXY&&D("Connection","Detected no buffering proxy")}),setTimeout(()=>{h.ro()},0),h}}function Pi(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(t){return new Ag(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gh{constructor(e,s,n=1e3,r=1.5,i=6e4){this.Ys=e,this.timerId=s,this.po=n,this.Io=r,this.To=i,this.Eo=0,this.Ao=null,this.Ro=Date.now(),this.reset()}reset(){this.Eo=0}bo(){this.Eo=this.To}vo(e){this.cancel();const s=Math.floor(this.Eo+this.Po()),n=Math.max(0,Date.now()-this.Ro),r=Math.max(0,s-n);r>0&&D("ExponentialBackoff",`Backing off for ${r} ms (base delay: ${this.Eo} ms, delay with jitter: ${s} ms, last attempt: ${n} ms ago)`),this.Ao=this.Ys.enqueueAfterDelay(this.timerId,r,()=>(this.Ro=Date.now(),e())),this.Eo*=this.Io,this.Eo<this.po&&(this.Eo=this.po),this.Eo>this.To&&(this.Eo=this.To)}Vo(){this.Ao!==null&&(this.Ao.skipDelay(),this.Ao=null)}cancel(){this.Ao!==null&&(this.Ao.cancel(),this.Ao=null)}Po(){return(Math.random()-.5)*this.Eo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yh{constructor(e,s,n,r,i,o,a,l){this.Ys=e,this.So=n,this.Do=r,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Co=0,this.xo=null,this.No=null,this.stream=null,this.ko=new gh(e,s)}Oo(){return this.state===1||this.state===5||this.Mo()}Mo(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Fo()}async stop(){this.Oo()&&await this.close(0)}$o(){this.state=0,this.ko.reset()}Bo(){this.Mo()&&this.xo===null&&(this.xo=this.Ys.enqueueAfterDelay(this.So,6e4,()=>this.Lo()))}qo(e){this.Uo(),this.stream.send(e)}async Lo(){if(this.Mo())return this.close(0)}Uo(){this.xo&&(this.xo.cancel(),this.xo=null)}Ko(){this.No&&(this.No.cancel(),this.No=null)}async close(e,s){this.Uo(),this.Ko(),this.ko.cancel(),this.Co++,e!==4?this.ko.reset():s&&s.code===v.RESOURCE_EXHAUSTED?(vt(s.toString()),vt("Using maximum backoff delay to prevent overloading the backend."),this.ko.bo()):s&&s.code===v.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Go(),this.stream.close(),this.stream=null),this.state=e,await this.listener.no(s)}Go(){}auth(){this.state=1;const e=this.Qo(this.Co),s=this.Co;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([n,r])=>{this.Co===s&&this.jo(n,r)},n=>{e(()=>{const r=new A(v.UNKNOWN,"Fetching auth token failed: "+n.message);return this.zo(r)})})}jo(e,s){const n=this.Qo(this.Co);this.stream=this.Wo(e,s),this.stream.Xr(()=>{n(()=>(this.state=2,this.No=this.Ys.enqueueAfterDelay(this.Do,1e4,()=>(this.Mo()&&(this.state=3),Promise.resolve())),this.listener.Xr()))}),this.stream.no(r=>{n(()=>this.zo(r))}),this.stream.onMessage(r=>{n(()=>this.onMessage(r))})}Fo(){this.state=5,this.ko.vo(async()=>{this.state=0,this.start()})}zo(e){return D("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Qo(e){return s=>{this.Ys.enqueueAndForget(()=>this.Co===e?s():(D("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ky extends yh{constructor(e,s,n,r,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",s,n,r,o),this.Tt=i}Wo(e,s){return this.connection.yo("Listen",e,s)}onMessage(e){this.ko.reset();const s=Og(this.Tt,e),n=function(r){if(!("targetChange"in r))return R.min();const i=r.targetChange;return i.targetIds&&i.targetIds.length?R.min():i.readTime?rt(i.readTime):R.min()}(e);return this.listener.Ho(s,n)}Jo(e){const s={};s.database=po(this.Tt),s.addTarget=function(r,i){let o;const a=i.target;return o=uo(a)?{documents:Pg(r,a)}:{query:Fg(r,a)},o.targetId=i.targetId,i.resumeToken.approximateByteSize()>0?o.resumeToken=lh(r,i.resumeToken):i.snapshotVersion.compareTo(R.min())>0&&(o.readTime=kr(r,i.snapshotVersion.toTimestamp())),o}(this.Tt,e);const n=Vg(this.Tt,e);n&&(s.labels=n),this.qo(s)}Yo(e){const s={};s.database=po(this.Tt),s.removeTarget=e,this.qo(s)}}class _y extends yh{constructor(e,s,n,r,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",s,n,r,o),this.Tt=i,this.Zo=!1}get Xo(){return this.Zo}start(){this.Zo=!1,this.lastStreamToken=void 0,super.start()}Go(){this.Zo&&this.tu([])}Wo(e,s){return this.connection.yo("Write",e,s)}onMessage(e){if(X(!!e.streamToken),this.lastStreamToken=e.streamToken,this.Zo){this.ko.reset();const s=Lg(e.writeResults,e.commitTime),n=rt(e.commitTime);return this.listener.eu(n,s)}return X(!e.writeResults||e.writeResults.length===0),this.Zo=!0,this.listener.nu()}su(){const e={};e.database=po(this.Tt),this.qo(e)}tu(e){const s={streamToken:this.lastStreamToken,writes:e.map(n=>Rg(this.Tt,n))};this.qo(s)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty extends class{}{constructor(e,s,n,r){super(),this.authCredentials=e,this.appCheckCredentials=s,this.connection=n,this.Tt=r,this.iu=!1}ru(){if(this.iu)throw new A(v.FAILED_PRECONDITION,"The client has already been terminated.")}lo(e,s,n){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([r,i])=>this.connection.lo(e,s,n,r,i)).catch(r=>{throw r.name==="FirebaseError"?(r.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),r):new A(v.UNKNOWN,r.toString())})}mo(e,s,n,r){return this.ru(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.mo(e,s,n,i,o,r)).catch(i=>{throw i.name==="FirebaseError"?(i.code===v.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new A(v.UNKNOWN,i.toString())})}terminate(){this.iu=!0}}class Ey{constructor(e,s){this.asyncQueue=e,this.onlineStateHandler=s,this.state="Unknown",this.ou=0,this.uu=null,this.cu=!0}au(){this.ou===0&&(this.hu("Unknown"),this.uu=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.uu=null,this.lu("Backend didn't respond within 10 seconds."),this.hu("Offline"),Promise.resolve())))}fu(e){this.state==="Online"?this.hu("Unknown"):(this.ou++,this.ou>=1&&(this.du(),this.lu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.hu("Offline")))}set(e){this.du(),this.ou=0,e==="Online"&&(this.cu=!1),this.hu(e)}hu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}lu(e){const s=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.cu?(vt(s),this.cu=!1):D("OnlineStateTracker",s)}du(){this.uu!==null&&(this.uu.cancel(),this.uu=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sy{constructor(e,s,n,r,i){this.localStore=e,this.datastore=s,this.asyncQueue=n,this.remoteSyncer={},this._u=[],this.wu=new Map,this.mu=new Set,this.gu=[],this.yu=i,this.yu.Gr(o=>{n.enqueueAndForget(async()=>{Jt(this)&&(D("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=L(a);l.mu.add(4),await Mn(l),l.pu.set("Unknown"),l.mu.delete(4),await Jr(l)}(this))})}),this.pu=new Ey(n,r)}}async function Jr(t){if(Jt(t))for(const e of t.gu)await e(!0)}async function Mn(t){for(const e of t.gu)await e(!1)}function wh(t,e){const s=L(t);s.wu.has(e.targetId)||(s.wu.set(e.targetId,e),ha(s)?ca(s):As(s).Mo()&&ua(s,e))}function vh(t,e){const s=L(t),n=As(s);s.wu.delete(e),n.Mo()&&bh(s,e),s.wu.size===0&&(n.Mo()?n.Bo():Jt(s)&&s.pu.set("Unknown"))}function ua(t,e){t.Iu.Ft(e.targetId),As(t).Jo(e)}function bh(t,e){t.Iu.Ft(e),As(t).Yo(e)}function ca(t){t.Iu=new Dg({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ie:e=>t.wu.get(e)||null}),As(t).start(),t.pu.au()}function ha(t){return Jt(t)&&!As(t).Oo()&&t.wu.size>0}function Jt(t){return L(t).mu.size===0}function kh(t){t.Iu=void 0}async function Dy(t){t.wu.forEach((e,s)=>{ua(t,e)})}async function Iy(t,e){kh(t),ha(t)?(t.pu.fu(e),ca(t)):t.pu.set("Unknown")}async function xy(t,e,s){if(t.pu.set("Online"),e instanceof ah&&e.state===2&&e.cause)try{await async function(n,r){const i=r.cause;for(const o of r.targetIds)n.wu.has(o)&&(await n.remoteSyncer.rejectListen(o,i),n.wu.delete(o),n.Iu.removeTarget(o))}(t,e)}catch(n){D("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),n),await _r(t,n)}else if(e instanceof er?t.Iu.Qt(e):e instanceof oh?t.Iu.Zt(e):t.Iu.Wt(e),!s.isEqual(R.min()))try{const n=await ph(t.localStore);s.compareTo(n)>=0&&await function(r,i){const o=r.Iu.ee(i);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=r.wu.get(l);u&&r.wu.set(l,u.withResumeToken(a.resumeToken,i))}}),o.targetMismatches.forEach(a=>{const l=r.wu.get(a);if(!l)return;r.wu.set(a,l.withResumeToken(Me.EMPTY_BYTE_STRING,l.snapshotVersion)),bh(r,a);const u=new Wt(l.target,a,1,l.sequenceNumber);ua(r,u)}),r.remoteSyncer.applyRemoteEvent(o)}(t,s)}catch(n){D("RemoteStore","Failed to raise snapshot:",n),await _r(t,n)}}async function _r(t,e,s){if(!xn(e))throw e;t.mu.add(1),await Mn(t),t.pu.set("Offline"),s||(s=()=>ph(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{D("RemoteStore","Retrying IndexedDB access"),await s(),t.mu.delete(1),await Jr(t)})}function _h(t,e){return e().catch(s=>_r(t,s,e))}async function ei(t){const e=L(t),s=Lt(e);let n=e._u.length>0?e._u[e._u.length-1].batchId:-1;for(;Cy(e);)try{const r=await fy(e.localStore,n);if(r===null){e._u.length===0&&s.Bo();break}n=r.batchId,Ay(e,r)}catch(r){await _r(e,r)}Th(e)&&Eh(e)}function Cy(t){return Jt(t)&&t._u.length<10}function Ay(t,e){t._u.push(e);const s=Lt(t);s.Mo()&&s.Xo&&s.tu(e.mutations)}function Th(t){return Jt(t)&&!Lt(t).Oo()&&t._u.length>0}function Eh(t){Lt(t).start()}async function My(t){Lt(t).su()}async function Ny(t){const e=Lt(t);for(const s of t._u)e.tu(s.mutations)}async function Oy(t,e,s){const n=t._u.shift(),r=ia.from(n,e,s);await _h(t,()=>t.remoteSyncer.applySuccessfulWrite(r)),await ei(t)}async function Ry(t,e){e&&Lt(t).Xo&&await async function(s,n){if(r=n.code,kg(r)&&r!==v.ABORTED){const i=s._u.shift();Lt(s).$o(),await _h(s,()=>s.remoteSyncer.rejectFailedWrite(i.batchId,n)),await ei(s)}var r}(t,e),Th(t)&&Eh(t)}async function Wl(t,e){const s=L(t);s.asyncQueue.verifyOperationInProgress(),D("RemoteStore","RemoteStore received new credentials");const n=Jt(s);s.mu.add(3),await Mn(s),n&&s.pu.set("Unknown"),await s.remoteSyncer.handleCredentialChange(e),s.mu.delete(3),await Jr(s)}async function Ly(t,e){const s=L(t);e?(s.mu.delete(2),await Jr(s)):e||(s.mu.add(2),await Mn(s),s.pu.set("Unknown"))}function As(t){return t.Tu||(t.Tu=function(e,s,n){const r=L(e);return r.ru(),new ky(s,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(t.datastore,t.asyncQueue,{Xr:Dy.bind(null,t),no:Iy.bind(null,t),Ho:xy.bind(null,t)}),t.gu.push(async e=>{e?(t.Tu.$o(),ha(t)?ca(t):t.pu.set("Unknown")):(await t.Tu.stop(),kh(t))})),t.Tu}function Lt(t){return t.Eu||(t.Eu=function(e,s,n){const r=L(e);return r.ru(),new _y(s,r.connection,r.authCredentials,r.appCheckCredentials,r.Tt,n)}(t.datastore,t.asyncQueue,{Xr:My.bind(null,t),no:Ry.bind(null,t),nu:Ny.bind(null,t),eu:Oy.bind(null,t)}),t.gu.push(async e=>{e?(t.Eu.$o(),await ei(t)):(await t.Eu.stop(),t._u.length>0&&(D("RemoteStore",`Stopping write stream with ${t._u.length} pending writes`),t._u=[]))})),t.Eu}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,s,n,r,i){this.asyncQueue=e,this.timerId=s,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new Mt,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(e,s,n,r,i){const o=Date.now()+n,a=new da(e,s,o,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new A(v.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function fa(t,e){if(vt("AsyncQueue",`${e}: ${t}`),xn(t))return new A(v.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(e){this.comparator=e?(s,n)=>e(s,n)||C.comparator(s.key,n.key):(s,n)=>C.comparator(s.key,n.key),this.keyedMap=qs(),this.sortedSet=new me(this.comparator)}static emptySet(e){return new hs(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const s=this.keyedMap.get(e);return s?this.sortedSet.indexOf(s):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((s,n)=>(e(s),!1))}add(e){const s=this.delete(e.key);return s.copy(s.keyedMap.insert(e.key,e),s.sortedSet.insert(e,null))}delete(e){const s=this.get(e);return s?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(s)):this}isEqual(e){if(!(e instanceof hs)||this.size!==e.size)return!1;const s=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;s.hasNext();){const r=s.getNext().key,i=n.getNext().key;if(!r.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(s=>{e.push(s.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,s){const n=new hs;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=s,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $l{constructor(){this.Au=new me(C.comparator)}track(e){const s=e.doc.key,n=this.Au.get(s);n?e.type!==0&&n.type===3?this.Au=this.Au.insert(s,e):e.type===3&&n.type!==1?this.Au=this.Au.insert(s,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.Au=this.Au.insert(s,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.Au=this.Au.insert(s,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.Au=this.Au.remove(s):e.type===1&&n.type===2?this.Au=this.Au.insert(s,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.Au=this.Au.insert(s,{type:2,doc:e.doc}):O():this.Au=this.Au.insert(s,e)}Ru(){const e=[];return this.Au.inorderTraversal((s,n)=>{e.push(n)}),e}}class _s{constructor(e,s,n,r,i,o,a,l,u){this.query=e,this.docs=s,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(e,s,n,r,i){const o=[];return s.forEach(a=>{o.push({type:0,doc:a})}),new _s(e,s,hs.emptySet(s),o,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hr(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const s=this.docChanges,n=e.docChanges;if(s.length!==n.length)return!1;for(let r=0;r<s.length;r++)if(s[r].type!==n[r].type||!s[r].doc.isEqual(n[r].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Py{constructor(){this.bu=void 0,this.listeners=[]}}class Fy{constructor(){this.queries=new Cs(e=>qc(e),Hr),this.onlineState="Unknown",this.vu=new Set}}async function Uy(t,e){const s=L(t),n=e.query;let r=!1,i=s.queries.get(n);if(i||(r=!0,i=new Py),r)try{i.bu=await s.onListen(n)}catch(o){const a=fa(o,`Initialization of query '${ho(e.query)}' failed`);return void e.onError(a)}s.queries.set(n,i),i.listeners.push(e),e.Pu(s.onlineState),i.bu&&e.Vu(i.bu)&&ma(s)}async function Vy(t,e){const s=L(t),n=e.query;let r=!1;const i=s.queries.get(n);if(i){const o=i.listeners.indexOf(e);o>=0&&(i.listeners.splice(o,1),r=i.listeners.length===0)}if(r)return s.queries.delete(n),s.onUnlisten(n)}function jy(t,e){const s=L(t);let n=!1;for(const r of e){const i=r.query,o=s.queries.get(i);if(o){for(const a of o.listeners)a.Vu(r)&&(n=!0);o.bu=r}}n&&ma(s)}function zy(t,e,s){const n=L(t),r=n.queries.get(e);if(r)for(const i of r.listeners)i.onError(s);n.queries.delete(e)}function ma(t){t.vu.forEach(e=>{e.next()})}class Yy{constructor(e,s,n){this.query=e,this.Su=s,this.Du=!1,this.Cu=null,this.onlineState="Unknown",this.options=n||{}}Vu(e){if(!this.options.includeMetadataChanges){const n=[];for(const r of e.docChanges)r.type!==3&&n.push(r);e=new _s(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let s=!1;return this.Du?this.xu(e)&&(this.Su.next(e),s=!0):this.Nu(e,this.onlineState)&&(this.ku(e),s=!0),this.Cu=e,s}onError(e){this.Su.error(e)}Pu(e){this.onlineState=e;let s=!1;return this.Cu&&!this.Du&&this.Nu(this.Cu,e)&&(this.ku(this.Cu),s=!0),s}Nu(e,s){if(!e.fromCache)return!0;const n=s!=="Offline";return(!this.options.Ou||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||s==="Offline")}xu(e){if(e.docChanges.length>0)return!0;const s=this.Cu&&this.Cu.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!s)&&this.options.includeMetadataChanges===!0}ku(e){e=_s.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Du=!0,this.Su.next(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sh{constructor(e){this.key=e}}class Dh{constructor(e){this.key=e}}class By{constructor(e,s){this.query=e,this.Ku=s,this.Gu=null,this.hasCachedResults=!1,this.current=!1,this.Qu=j(),this.mutatedKeys=j(),this.ju=Wc(e),this.zu=new hs(this.ju)}get Wu(){return this.Ku}Hu(e,s){const n=s?s.Ju:new $l,r=s?s.zu:this.zu;let i=s?s.mutatedKeys:this.mutatedKeys,o=r,a=!1;const l=this.query.limitType==="F"&&r.size===this.query.limit?r.last():null,u=this.query.limitType==="L"&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal((c,p)=>{const h=r.get(c),m=Gr(this.query,p)?p:null,f=!!h&&this.mutatedKeys.has(h.key),d=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let g=!1;h&&m?h.data.isEqual(m.data)?f!==d&&(n.track({type:3,doc:m}),g=!0):this.Yu(h,m)||(n.track({type:2,doc:m}),g=!0,(l&&this.ju(m,l)>0||u&&this.ju(m,u)<0)&&(a=!0)):!h&&m?(n.track({type:0,doc:m}),g=!0):h&&!m&&(n.track({type:1,doc:h}),g=!0,(l||u)&&(a=!0)),g&&(m?(o=o.add(m),i=d?i.add(c):i.delete(c)):(o=o.delete(c),i=i.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),i=i.delete(c.key),n.track({type:1,doc:c})}return{zu:o,Ju:n,Li:a,mutatedKeys:i}}Yu(e,s){return e.hasLocalMutations&&s.hasCommittedMutations&&!s.hasLocalMutations}applyChanges(e,s,n){const r=this.zu;this.zu=e.zu,this.mutatedKeys=e.mutatedKeys;const i=e.Ju.Ru();i.sort((u,c)=>function(p,h){const m=f=>{switch(f){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return O()}};return m(p)-m(h)}(u.type,c.type)||this.ju(u.doc,c.doc)),this.Zu(n);const o=s?this.Xu():[],a=this.Qu.size===0&&this.current?1:0,l=a!==this.Gu;return this.Gu=a,i.length!==0||l?{snapshot:new _s(this.query,e.zu,r,i,e.mutatedKeys,a===0,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),tc:o}:{tc:o}}Pu(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({zu:this.zu,Ju:new $l,mutatedKeys:this.mutatedKeys,Li:!1},!1)):{tc:[]}}ec(e){return!this.Ku.has(e)&&!!this.zu.has(e)&&!this.zu.get(e).hasLocalMutations}Zu(e){e&&(e.addedDocuments.forEach(s=>this.Ku=this.Ku.add(s)),e.modifiedDocuments.forEach(s=>{}),e.removedDocuments.forEach(s=>this.Ku=this.Ku.delete(s)),this.current=e.current)}Xu(){if(!this.current)return[];const e=this.Qu;this.Qu=j(),this.zu.forEach(n=>{this.ec(n.key)&&(this.Qu=this.Qu.add(n.key))});const s=[];return e.forEach(n=>{this.Qu.has(n)||s.push(new Dh(n))}),this.Qu.forEach(n=>{e.has(n)||s.push(new Sh(n))}),s}nc(e){this.Ku=e.Yi,this.Qu=j();const s=this.Hu(e.documents);return this.applyChanges(s,!0)}sc(){return _s.fromInitialDocuments(this.query,this.zu,this.mutatedKeys,this.Gu===0,this.hasCachedResults)}}class qy{constructor(e,s,n){this.query=e,this.targetId=s,this.view=n}}class Wy{constructor(e){this.key=e,this.ic=!1}}class $y{constructor(e,s,n,r,i,o){this.localStore=e,this.remoteStore=s,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.rc={},this.oc=new Cs(a=>qc(a),Hr),this.uc=new Map,this.cc=new Set,this.ac=new me(C.comparator),this.hc=new Map,this.lc=new oa,this.fc={},this.dc=new Map,this._c=ks.Sn(),this.onlineState="Unknown",this.wc=void 0}get isPrimaryClient(){return this.wc===!0}}async function Hy(t,e){const s=nw(t);let n,r;const i=s.oc.get(e);if(i)n=i.targetId,s.sharedClientState.addLocalQueryTarget(n),r=i.view.sc();else{const o=await my(s.localStore,bt(e));s.isPrimaryClient&&wh(s.remoteStore,o);const a=s.sharedClientState.addLocalQueryTarget(o.targetId);n=o.targetId,r=await Gy(s,e,n,a==="current",o.resumeToken)}return r}async function Gy(t,e,s,n,r){t.mc=(p,h,m)=>async function(f,d,g,b){let M=d.view.Hu(g);M.Li&&(M=await Yl(f.localStore,d.query,!1).then(({documents:Q})=>d.view.Hu(Q,M)));const S=b&&b.targetChanges.get(d.targetId),x=d.view.applyChanges(M,f.isPrimaryClient,S);return Gl(f,d.targetId,x.tc),x.snapshot}(t,p,h,m);const i=await Yl(t.localStore,e,!0),o=new By(e,i.Yi),a=o.Hu(i.documents),l=An.createSynthesizedTargetChangeForCurrentChange(s,n&&t.onlineState!=="Offline",r),u=o.applyChanges(a,t.isPrimaryClient,l);Gl(t,s,u.tc);const c=new qy(e,s,o);return t.oc.set(e,c),t.uc.has(s)?t.uc.get(s).push(e):t.uc.set(s,[e]),u.snapshot}async function Ky(t,e){const s=L(t),n=s.oc.get(e),r=s.uc.get(n.targetId);if(r.length>1)return s.uc.set(n.targetId,r.filter(i=>!Hr(i,e))),void s.oc.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(n.targetId),s.sharedClientState.isActiveQueryTarget(n.targetId)||await go(s.localStore,n.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(n.targetId),vh(s.remoteStore,n.targetId),yo(s,n.targetId)}).catch(In)):(yo(s,n.targetId),await go(s.localStore,n.targetId,!0))}async function Qy(t,e,s){const n=rw(t);try{const r=await function(i,o){const a=L(i),l=ce.now(),u=o.reduce((h,m)=>h.add(m.key),j());let c,p;return a.persistence.runTransaction("Locally write mutations","readwrite",h=>{let m=kt(),f=j();return a.ji.getEntries(h,u).next(d=>{m=d,m.forEach((g,b)=>{b.isValidDocument()||(f=f.add(g))})}).next(()=>a.localDocuments.getOverlayedDocuments(h,m)).next(d=>{c=d;const g=[];for(const b of o){const M=wg(b,c.get(b.key).overlayedDocument);M!=null&&g.push(new Zt(b.key,M,Bc(M.value.mapValue),gt.exists(!0)))}return a.mutationQueue.addMutationBatch(h,l,g,o)}).next(d=>{p=d;const g=d.applyToLocalDocumentSet(c,f);return a.documentOverlayCache.saveOverlays(h,d.batchId,g)})}).then(()=>({batchId:p.batchId,changes:nh(c)}))}(n.localStore,e);n.sharedClientState.addPendingMutation(r.batchId),function(i,o,a){let l=i.fc[i.currentUser.toKey()];l||(l=new me(H)),l=l.insert(o,a),i.fc[i.currentUser.toKey()]=l}(n,r.batchId,s),await Nn(n,r.changes),await ei(n.remoteStore)}catch(r){const i=fa(r,"Failed to persist write");s.reject(i)}}async function Ih(t,e){const s=L(t);try{const n=await hy(s.localStore,e);e.targetChanges.forEach((r,i)=>{const o=s.hc.get(i);o&&(X(r.addedDocuments.size+r.modifiedDocuments.size+r.removedDocuments.size<=1),r.addedDocuments.size>0?o.ic=!0:r.modifiedDocuments.size>0?X(o.ic):r.removedDocuments.size>0&&(X(o.ic),o.ic=!1))}),await Nn(s,n,e)}catch(n){await In(n)}}function Hl(t,e,s){const n=L(t);if(n.isPrimaryClient&&s===0||!n.isPrimaryClient&&s===1){const r=[];n.oc.forEach((i,o)=>{const a=o.view.Pu(e);a.snapshot&&r.push(a.snapshot)}),function(i,o){const a=L(i);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const p of c.listeners)p.Pu(o)&&(l=!0)}),l&&ma(a)}(n.eventManager,e),r.length&&n.rc.Ho(r),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Xy(t,e,s){const n=L(t);n.sharedClientState.updateQueryState(e,"rejected",s);const r=n.hc.get(e),i=r&&r.key;if(i){let o=new me(C.comparator);o=o.insert(i,Se.newNoDocument(i,R.min()));const a=j().add(i),l=new Xr(R.min(),new Map,new fe(H),o,a);await Ih(n,l),n.ac=n.ac.remove(i),n.hc.delete(e),pa(n)}else await go(n.localStore,e,!1).then(()=>yo(n,e,s)).catch(In)}async function Zy(t,e){const s=L(t),n=e.batch.batchId;try{const r=await cy(s.localStore,e);Ch(s,n,null),xh(s,n),s.sharedClientState.updateMutationState(n,"acknowledged"),await Nn(s,r)}catch(r){await In(r)}}async function Jy(t,e,s){const n=L(t);try{const r=await function(i,o){const a=L(i);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(X(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(n.localStore,e);Ch(n,e,s),xh(n,e),n.sharedClientState.updateMutationState(e,"rejected",s),await Nn(n,r)}catch(r){await In(r)}}function xh(t,e){(t.dc.get(e)||[]).forEach(s=>{s.resolve()}),t.dc.delete(e)}function Ch(t,e,s){const n=L(t);let r=n.fc[n.currentUser.toKey()];if(r){const i=r.get(e);i&&(s?i.reject(s):i.resolve(),r=r.remove(e)),n.fc[n.currentUser.toKey()]=r}}function yo(t,e,s=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.uc.get(e))t.oc.delete(n),s&&t.rc.gc(n,s);t.uc.delete(e),t.isPrimaryClient&&t.lc.ds(e).forEach(n=>{t.lc.containsKey(n)||Ah(t,n)})}function Ah(t,e){t.cc.delete(e.path.canonicalString());const s=t.ac.get(e);s!==null&&(vh(t.remoteStore,s),t.ac=t.ac.remove(e),t.hc.delete(s),pa(t))}function Gl(t,e,s){for(const n of s)n instanceof Sh?(t.lc.addReference(n.key,e),ew(t,n)):n instanceof Dh?(D("SyncEngine","Document no longer in limbo: "+n.key),t.lc.removeReference(n.key,e),t.lc.containsKey(n.key)||Ah(t,n.key)):O()}function ew(t,e){const s=e.key,n=s.path.canonicalString();t.ac.get(s)||t.cc.has(n)||(D("SyncEngine","New document in limbo: "+s),t.cc.add(n),pa(t))}function pa(t){for(;t.cc.size>0&&t.ac.size<t.maxConcurrentLimboResolutions;){const e=t.cc.values().next().value;t.cc.delete(e);const s=new C(ie.fromString(e)),n=t._c.next();t.hc.set(n,new Wy(s)),t.ac=t.ac.insert(s,n),wh(t.remoteStore,new Wt(bt(na(s.path)),n,2,Jo.at))}}async function Nn(t,e,s){const n=L(t),r=[],i=[],o=[];n.oc.isEmpty()||(n.oc.forEach((a,l)=>{o.push(n.mc(l,e,s).then(u=>{if((u||s)&&n.isPrimaryClient&&n.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){r.push(u);const c=la.Ni(l.targetId,u);i.push(c)}}))}),await Promise.all(o),n.rc.Ho(r),await async function(a,l){const u=L(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>w.forEach(l,p=>w.forEach(p.Ci,h=>u.persistence.referenceDelegate.addReference(c,p.targetId,h)).next(()=>w.forEach(p.xi,h=>u.persistence.referenceDelegate.removeReference(c,p.targetId,h)))))}catch(c){if(!xn(c))throw c;D("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const p=c.targetId;if(!c.fromCache){const h=u.Ki.get(p),m=h.snapshotVersion,f=h.withLastLimboFreeSnapshotVersion(m);u.Ki=u.Ki.insert(p,f)}}}(n.localStore,i))}async function tw(t,e){const s=L(t);if(!s.currentUser.isEqual(e)){D("SyncEngine","User change. New user:",e.toKey());const n=await mh(s.localStore,e);s.currentUser=e,function(r,i){r.dc.forEach(o=>{o.forEach(a=>{a.reject(new A(v.CANCELLED,i))})}),r.dc.clear()}(s,"'waitForPendingWrites' promise is rejected due to a user change."),s.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await Nn(s,n.Wi)}}function sw(t,e){const s=L(t),n=s.hc.get(e);if(n&&n.ic)return j().add(n.key);{let r=j();const i=s.uc.get(e);if(!i)return r;for(const o of i){const a=s.oc.get(o);r=r.unionWith(a.view.Wu)}return r}}function nw(t){const e=L(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ih.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=sw.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Xy.bind(null,e),e.rc.Ho=jy.bind(null,e.eventManager),e.rc.gc=zy.bind(null,e.eventManager),e}function rw(t){const e=L(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Zy.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Jy.bind(null,e),e}class iw{constructor(){this.synchronizeTabs=!1}async initialize(e){this.Tt=Zr(e.databaseInfo.databaseId),this.sharedClientState=this.Ic(e),this.persistence=this.Tc(e),await this.persistence.start(),this.localStore=this.Ec(e),this.gcScheduler=this.Ac(e,this.localStore),this.indexBackfillerScheduler=this.Rc(e,this.localStore)}Ac(e,s){return null}Rc(e,s){return null}Ec(e){return uy(this.persistence,new ay,e.initialUser,this.Tt)}Tc(e){return new iy(aa.qs,this.Tt)}Ic(e){return new gy}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class ow{async initialize(e,s){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(s),this.remoteStore=this.createRemoteStore(s),this.eventManager=this.createEventManager(s),this.syncEngine=this.createSyncEngine(s,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>Hl(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=tw.bind(null,this.syncEngine),await Ly(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Fy}createDatastore(e){const s=Zr(e.databaseInfo.databaseId),n=(r=e.databaseInfo,new by(r));var r;return function(i,o,a,l){return new Ty(i,o,a,l)}(e.authCredentials,e.appCheckCredentials,n,s)}createRemoteStore(e){return s=this.localStore,n=this.datastore,r=e.asyncQueue,i=a=>Hl(this.syncEngine,a,0),o=ql.C()?new ql:new yy,new Sy(s,n,r,i,o);var s,n,r,i,o}createSyncEngine(e,s){return function(n,r,i,o,a,l,u){const c=new $y(n,r,i,o,a,l);return u&&(c.wc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,s)}terminate(){return async function(e){const s=L(e);D("RemoteStore","RemoteStore shutting down."),s.mu.add(5),await Mn(s),s.yu.shutdown(),s.pu.set("Unknown")}(this.remoteStore)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aw{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.vc(this.observer.next,e)}error(e){this.observer.error?this.vc(this.observer.error,e):vt("Uncaught Error in snapshot listener:",e.toString())}Pc(){this.muted=!0}vc(e,s){this.muted||setTimeout(()=>{this.muted||e(s)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lw{constructor(e,s,n,r){this.authCredentials=e,this.appCheckCredentials=s,this.asyncQueue=n,this.databaseInfo=r,this.user=_e.UNAUTHENTICATED,this.clientId=Oc.R(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(n,async i=>{D("FirestoreClient","Received user=",i.uid),await this.authCredentialListener(i),this.user=i}),this.appCheckCredentials.start(n,i=>(D("FirestoreClient","Received new app check token=",i),this.appCheckCredentialListener(i,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new A(v.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Mt;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this.onlineComponents&&await this.onlineComponents.terminate(),this.offlineComponents&&await this.offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(s){const n=fa(s,"Failed to shutdown persistence");e.reject(n)}}),e.promise}}async function uw(t,e){t.asyncQueue.verifyOperationInProgress(),D("FirestoreClient","Initializing OfflineComponentProvider");const s=await t.getConfiguration();await e.initialize(s);let n=s.initialUser;t.setCredentialChangeListener(async r=>{n.isEqual(r)||(await mh(e.localStore,r),n=r)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t.offlineComponents=e}async function cw(t,e){t.asyncQueue.verifyOperationInProgress();const s=await hw(t);D("FirestoreClient","Initializing OnlineComponentProvider");const n=await t.getConfiguration();await e.initialize(s,n),t.setCredentialChangeListener(r=>Wl(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>Wl(e.remoteStore,i)),t.onlineComponents=e}async function hw(t){return t.offlineComponents||(D("FirestoreClient","Using default OfflineComponentProvider"),await uw(t,new iw)),t.offlineComponents}async function Mh(t){return t.onlineComponents||(D("FirestoreClient","Using default OnlineComponentProvider"),await cw(t,new ow)),t.onlineComponents}function dw(t){return Mh(t).then(e=>e.syncEngine)}async function fw(t){const e=await Mh(t),s=e.eventManager;return s.onListen=Hy.bind(null,e.syncEngine),s.onUnlisten=Ky.bind(null,e.syncEngine),s}function mw(t,e,s={}){const n=new Mt;return t.asyncQueue.enqueueAndForget(async()=>function(r,i,o,a,l){const u=new aw({next:p=>{i.enqueueAndForget(()=>Vy(r,c));const h=p.docs.has(o);!h&&p.fromCache?l.reject(new A(v.UNAVAILABLE,"Failed to get document because the client is offline.")):h&&p.fromCache&&a&&a.source==="server"?l.reject(new A(v.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(p)},error:p=>l.reject(p)}),c=new Yy(na(o.path),u,{includeMetadataChanges:!0,Ou:!0});return Uy(r,c)}(await fw(t),t.asyncQueue,e,s,n)),n.promise}const Kl=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pw(t,e,s){if(!s)throw new A(v.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function gw(t,e,s,n){if(e===!0&&n===!0)throw new A(v.INVALID_ARGUMENT,`${t} and ${s} cannot be used together.`)}function Ql(t){if(!C.isDocumentKey(t))throw new A(v.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ga(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":O()}function dn(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new A(v.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const s=ga(t);throw new A(v.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${s}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xl{constructor(e){var s;if(e.host===void 0){if(e.ssl!==void 0)throw new A(v.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(s=e.ssl)===null||s===void 0||s;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new A(v.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams,gw("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling)}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ya{constructor(e,s,n,r){this._authCredentials=e,this._appCheckCredentials=s,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xl({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new A(v.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new A(v.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xl(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new Mp;switch(s.type){case"gapi":const n=s.client;return new Lp(n,s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new A(v.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const s=Kl.get(e);s&&(D("ComponentProvider","Removing Datastore"),Kl.delete(e),s.terminate())}(this),Promise.resolve()}}function yw(t,e,s,n={}){var r;const i=(t=dn(t,ya))._getSettings();if(i.host!=="firestore.googleapis.com"&&i.host!==e&&io("Host has been set in both settings() and useEmulator(), emulator host will be used"),t._setSettings(Object.assign(Object.assign({},i),{host:`${e}:${s}`,ssl:!1})),n.mockUserToken){let o,a;if(typeof n.mockUserToken=="string")o=n.mockUserToken,a=_e.MOCK_USER;else{o=ff(n.mockUserToken,(r=t._app)===null||r===void 0?void 0:r.options.projectId);const l=n.mockUserToken.sub||n.mockUserToken.user_id;if(!l)throw new A(v.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new _e(l)}t._authCredentials=new Np(new Nc(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ye{constructor(e,s,n){this.converter=s,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fn(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Ye(this.firestore,e,this._key)}}class wa{constructor(e,s,n){this.converter=s,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new wa(this.firestore,e,this._query)}}class fn extends wa{constructor(e,s,n){super(e,s,na(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Ye(this.firestore,null,new C(e))}withConverter(e){return new fn(this.firestore,e,this._path)}}function ww(t,e,...s){if(t=or(t),arguments.length===1&&(e=Oc.R()),pw("doc","path",e),t instanceof ya){const n=ie.fromString(e,...s);return Ql(n),new Ye(t,null,new C(n))}{if(!(t instanceof Ye||t instanceof fn))throw new A(v.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(ie.fromString(e,...s));return Ql(n),new Ye(t.firestore,t instanceof fn?t.converter:null,new C(n))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vw{constructor(){this.qc=Promise.resolve(),this.Uc=[],this.Kc=!1,this.Gc=[],this.Qc=null,this.jc=!1,this.zc=!1,this.Wc=[],this.ko=new gh(this,"async_queue_retry"),this.Hc=()=>{const s=Pi();s&&D("AsyncQueue","Visibility state changed to "+s.visibilityState),this.ko.Vo()};const e=Pi();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Hc)}get isShuttingDown(){return this.Kc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Jc(),this.Yc(e)}enterRestrictedMode(e){if(!this.Kc){this.Kc=!0,this.zc=e||!1;const s=Pi();s&&typeof s.removeEventListener=="function"&&s.removeEventListener("visibilitychange",this.Hc)}}enqueue(e){if(this.Jc(),this.Kc)return new Promise(()=>{});const s=new Mt;return this.Yc(()=>this.Kc&&this.zc?Promise.resolve():(e().then(s.resolve,s.reject),s.promise)).then(()=>s.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Uc.push(e),this.Zc()))}async Zc(){if(this.Uc.length!==0){try{await this.Uc[0](),this.Uc.shift(),this.ko.reset()}catch(e){if(!xn(e))throw e;D("AsyncQueue","Operation failed with retryable error: "+e)}this.Uc.length>0&&this.ko.vo(()=>this.Zc())}}Yc(e){const s=this.qc.then(()=>(this.jc=!0,e().catch(n=>{this.Qc=n,this.jc=!1;const r=function(i){let o=i.message||"";return i.stack&&(o=i.stack.includes(i.message)?i.stack:i.message+`
`+i.stack),o}(n);throw vt("INTERNAL UNHANDLED ERROR: ",r),n}).then(n=>(this.jc=!1,n))));return this.qc=s,s}enqueueAfterDelay(e,s,n){this.Jc(),this.Wc.indexOf(e)>-1&&(s=0);const r=da.createAndSchedule(this,e,s,n,i=>this.Xc(i));return this.Gc.push(r),r}Jc(){this.Qc&&O()}verifyOperationInProgress(){}async ta(){let e;do e=this.qc,await e;while(e!==this.qc)}ea(e){for(const s of this.Gc)if(s.timerId===e)return!0;return!1}na(e){return this.ta().then(()=>{this.Gc.sort((s,n)=>s.targetTimeMs-n.targetTimeMs);for(const s of this.Gc)if(s.skipDelay(),e!=="all"&&s.timerId===e)break;return this.ta()})}sa(e){this.Wc.push(e)}Xc(e){const s=this.Gc.indexOf(e);this.Gc.splice(s,1)}}class va extends ya{constructor(e,s,n,r){super(e,s,n,r),this.type="firestore",this._queue=new vw,this._persistenceKey=(r==null?void 0:r.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||Oh(this),this._firestoreClient.terminate()}}function bw(t,e){const s=typeof t=="object"?t:ym(),n=typeof t=="string"?t:e||"(default)",r=fm(s,"firestore").getImmediate({identifier:n});if(!r._initialized){const i=cf("firestore");i&&yw(r,...i)}return r}function Nh(t){return t._firestoreClient||Oh(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function Oh(t){var e;const s=t._freezeSettings(),n=function(r,i,o,a){return new Wp(r,i,o,a.host,a.ssl,a.experimentalForceLongPolling,a.experimentalAutoDetectLongPolling,a.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,s);t._firestoreClient=new lw(t._authCredentials,t._appCheckCredentials,t._queue,n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ts{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ts(Me.fromBase64String(e))}catch(s){throw new A(v.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+s)}}static fromUint8Array(e){return new Ts(Me.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(...e){for(let s=0;s<e.length;++s)if(e[s].length===0)throw new A(v.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ie(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ka{constructor(e,s){if(!isFinite(e)||e<-90||e>90)throw new A(v.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(s)||s<-180||s>180)throw new A(v.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+s);this._lat=e,this._long=s}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return H(this._lat,e._lat)||H(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kw=/^__.*__$/;class _w{constructor(e,s,n){this.data=e,this.fieldMask=s,this.fieldTransforms=n}toMutation(e,s){return this.fieldMask!==null?new Zt(e,this.data,this.fieldMask,s,this.fieldTransforms):new Cn(e,this.data,s,this.fieldTransforms)}}function Lh(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw O()}}class _a{constructor(e,s,n,r,i,o){this.settings=e,this.databaseId=s,this.Tt=n,this.ignoreUndefinedProperties=r,i===void 0&&this.ia(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ra(){return this.settings.ra}oa(e){return new _a(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.Tt,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ua(e){var s;const n=(s=this.path)===null||s===void 0?void 0:s.child(e),r=this.oa({path:n,ca:!1});return r.aa(e),r}ha(e){var s;const n=(s=this.path)===null||s===void 0?void 0:s.child(e),r=this.oa({path:n,ca:!1});return r.ia(),r}la(e){return this.oa({path:void 0,ca:!0})}fa(e){return Tr(e,this.settings.methodName,this.settings.da||!1,this.path,this.settings._a)}contains(e){return this.fieldMask.find(s=>e.isPrefixOf(s))!==void 0||this.fieldTransforms.find(s=>e.isPrefixOf(s.field))!==void 0}ia(){if(this.path)for(let e=0;e<this.path.length;e++)this.aa(this.path.get(e))}aa(e){if(e.length===0)throw this.fa("Document fields must not be empty");if(Lh(this.ra)&&kw.test(e))throw this.fa('Document fields cannot begin and end with "__"')}}class Tw{constructor(e,s,n){this.databaseId=e,this.ignoreUndefinedProperties=s,this.Tt=n||Zr(e)}wa(e,s,n,r=!1){return new _a({ra:e,methodName:s,_a:n,path:Ie.emptyPath(),ca:!1,da:r},this.databaseId,this.Tt,this.ignoreUndefinedProperties)}}function Ew(t){const e=t._freezeSettings(),s=Zr(t._databaseId);return new Tw(t._databaseId,!!e.ignoreUndefinedProperties,s)}function Sw(t,e,s,n,r,i={}){const o=t.wa(i.merge||i.mergeFields?2:0,e,s,r);Vh("Data must be an object, but it was:",o,n);const a=Fh(n,o);let l,u;if(i.merge)l=new Ke(o.fieldMask),u=o.fieldTransforms;else if(i.mergeFields){const c=[];for(const p of i.mergeFields){const h=Dw(e,p,s);if(!o.contains(h))throw new A(v.INVALID_ARGUMENT,`Field '${h}' is specified in your field mask but missing from your input data.`);xw(c,h)||c.push(h)}l=new Ke(c),u=o.fieldTransforms.filter(p=>l.covers(p.field))}else l=null,u=o.fieldTransforms;return new _w(new ze(a),l,u)}function Ph(t,e){if(Uh(t=or(t)))return Vh("Unsupported field value:",e,t),Fh(t,e);if(t instanceof Rh)return function(s,n){if(!Lh(n.ra))throw n.fa(`${s._methodName}() can only be used with update() and set()`);if(!n.path)throw n.fa(`${s._methodName}() is not currently supported inside arrays`);const r=s._toFieldTransform(n);r&&n.fieldTransforms.push(r)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.ca&&e.ra!==4)throw e.fa("Nested arrays are not supported");return function(s,n){const r=[];let i=0;for(const o of s){let a=Ph(o,n.la(i));a==null&&(a={nullValue:"NULL_VALUE"}),r.push(a),i++}return{arrayValue:{values:r}}}(t,e)}return function(s,n){if((s=or(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return dg(n.Tt,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const r=ce.fromDate(s);return{timestampValue:kr(n.Tt,r)}}if(s instanceof ce){const r=new ce(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:kr(n.Tt,r)}}if(s instanceof ka)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Ts)return{bytesValue:lh(n.Tt,s._byteString)};if(s instanceof Ye){const r=n.databaseId,i=s.firestore._databaseId;if(!i.isEqual(r))throw n.fa(`Document reference is for database ${i.projectId}/${i.database} but should be for database ${r.projectId}/${r.database}`);return{referenceValue:ra(s.firestore._databaseId||n.databaseId,s._key.path)}}throw n.fa(`Unsupported field value: ${ga(s)}`)}(t,e)}function Fh(t,e){const s={};return Rc(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):xs(t,(n,r)=>{const i=Ph(r,e.ua(n));i!=null&&(s[n]=i)}),{mapValue:{fields:s}}}function Uh(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof ce||t instanceof ka||t instanceof Ts||t instanceof Ye||t instanceof Rh)}function Vh(t,e,s){if(!Uh(s)||!function(n){return typeof n=="object"&&n!==null&&(Object.getPrototypeOf(n)===Object.prototype||Object.getPrototypeOf(n)===null)}(s)){const n=ga(s);throw n==="an object"?e.fa(t+" a custom object"):e.fa(t+" "+n)}}function Dw(t,e,s){if((e=or(e))instanceof ba)return e._internalPath;if(typeof e=="string")return jh(t,e);throw Tr("Field path arguments must be of type string or ",t,!1,void 0,s)}const Iw=new RegExp("[~\\*/\\[\\]]");function jh(t,e,s){if(e.search(Iw)>=0)throw Tr(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,s);try{return new ba(...e.split("."))._internalPath}catch{throw Tr(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,s)}}function Tr(t,e,s,n,r){const i=n&&!n.isEmpty(),o=r!==void 0;let a=`Function ${e}() called with invalid data`;s&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${n}`),o&&(l+=` in document ${r}`),l+=")"),new A(v.INVALID_ARGUMENT,a+t+l)}function xw(t,e){return t.some(s=>s.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,s,n,r,i){this._firestore=e,this._userDataWriter=s,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new Ye(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new Cw(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const s=this._document.data.field(Yh("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s)}}}class Cw extends zh{data(){return super.data()}}function Yh(t,e){return typeof e=="string"?jh(t,e):e instanceof ba?e._internalPath:e._delegate._internalPath}class Aw{convertValue(e,s="none"){switch(Qt(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ue(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,s);case 5:return e.stringValue;case 6:return this.convertBytes(ws(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,s);case 10:return this.convertObject(e.mapValue,s);default:throw O()}}convertObject(e,s){const n={};return xs(e.fields,(r,i)=>{n[r]=this.convertValue(i,s)}),n}convertGeoPoint(e){return new ka(ue(e.latitude),ue(e.longitude))}convertArray(e,s){return(e.values||[]).map(n=>this.convertValue(n,s))}convertServerTimestamp(e,s){switch(s){case"previous":const n=Pc(e);return n==null?null:this.convertValue(n,s);case"estimate":return this.convertTimestamp(ln(e));default:return null}}convertTimestamp(e){const s=Rt(e);return new ce(s.seconds,s.nanos)}convertDocumentKey(e,s){const n=ie.fromString(e);X(fh(n));const r=new an(n.get(1),n.get(3)),i=new C(n.popFirst(5));return r.isEqual(s)||vt(`Document ${i} contains a document reference within a different database (${r.projectId}/${r.database}) which is not supported. It will be treated as a reference in the current database (${s.projectId}/${s.database}) instead.`),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mw(t,e,s){let n;return n=t?s&&(s.merge||s.mergeFields)?t.toFirestore(e,s):t.toFirestore(e):e,n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e,s){this.hasPendingWrites=e,this.fromCache=s}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Bh extends zh{constructor(e,s,n,r,i,o){super(e,s,n,r,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const s=new Ow(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(s,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,s={}){if(this._document){const n=this._document.data.field(Yh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,s.serverTimestamps)}}}class Ow extends Bh{data(e={}){return super.data(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rw(t){t=dn(t,Ye);const e=dn(t.firestore,va);return mw(Nh(e),t._key).then(s=>Uw(e,t,s))}class Lw extends Aw{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ts(e)}convertReference(e){const s=this.convertDocumentKey(e,this.firestore._databaseId);return new Ye(this.firestore,null,s)}}function Pw(t,e,s){t=dn(t,Ye);const n=dn(t.firestore,va),r=Mw(t.converter,e,s);return Fw(n,[Sw(Ew(n),"setDoc",t._key,r,t.converter!==null,s).toMutation(t._key,gt.none())])}function Fw(t,e){return function(s,n){const r=new Mt;return s.asyncQueue.enqueueAndForget(async()=>Qy(await dw(s),n,r)),r.promise}(Nh(t),e)}function Uw(t,e,s){const n=s.docs.get(e._key),r=new Lw(t);return new Bh(t,r,e._key,n,new Nw(s.hasPendingWrites,s.fromCache),e.converter)}(function(t,e=!0){(function(s){Is=s})(gm),lr(new Zs("firestore",(s,{instanceIdentifier:n,options:r})=>{const i=s.getProvider("app").getImmediate(),o=new va(new Op(s.getProvider("auth-internal")),new Fp(s.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new A(v.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new an(a.options.projectId,l)}(i,n),i);return r=Object.assign({useFetchStreams:e},r),o._setSettings(r),o},"PUBLIC").setMultipleInstances(!0)),us(Tl,"3.8.4",t),us(Tl,"3.8.4","esm2017")})();var qh={};//! moment.js
//! version : 2.29.4
//! authors : Tim Wood, Iskren Chernev, Moment.js contributors
//! license : MIT
//! momentjs.com
var Wh;function k(){return Wh.apply(null,arguments)}function Vw(t){Wh=t}function Xe(t){return t instanceof Array||Object.prototype.toString.call(t)==="[object Array]"}function $t(t){return t!=null&&Object.prototype.toString.call(t)==="[object Object]"}function q(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Ta(t){if(Object.getOwnPropertyNames)return Object.getOwnPropertyNames(t).length===0;var e;for(e in t)if(q(t,e))return!1;return!0}function Le(t){return t===void 0}function _t(t){return typeof t=="number"||Object.prototype.toString.call(t)==="[object Number]"}function On(t){return t instanceof Date||Object.prototype.toString.call(t)==="[object Date]"}function $h(t,e){var s=[],n,r=t.length;for(n=0;n<r;++n)s.push(e(t[n],n));return s}function It(t,e){for(var s in e)q(e,s)&&(t[s]=e[s]);return q(e,"toString")&&(t.toString=e.toString),q(e,"valueOf")&&(t.valueOf=e.valueOf),t}function lt(t,e,s,n){return gd(t,e,s,n,!0).utc()}function jw(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidEra:null,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1,parsedDateParts:[],era:null,meridiem:null,rfc2822:!1,weekdayMismatch:!1}}function P(t){return t._pf==null&&(t._pf=jw()),t._pf}var wo;Array.prototype.some?wo=Array.prototype.some:wo=function(t){var e=Object(this),s=e.length>>>0,n;for(n=0;n<s;n++)if(n in e&&t.call(this,e[n],n,e))return!0;return!1};function Ea(t){if(t._isValid==null){var e=P(t),s=wo.call(e.parsedDateParts,function(r){return r!=null}),n=!isNaN(t._d.getTime())&&e.overflow<0&&!e.empty&&!e.invalidEra&&!e.invalidMonth&&!e.invalidWeekday&&!e.weekdayMismatch&&!e.nullInput&&!e.invalidFormat&&!e.userInvalidated&&(!e.meridiem||e.meridiem&&s);if(t._strict&&(n=n&&e.charsLeftOver===0&&e.unusedTokens.length===0&&e.bigHour===void 0),Object.isFrozen==null||!Object.isFrozen(t))t._isValid=n;else return n}return t._isValid}function ti(t){var e=lt(NaN);return t!=null?It(P(e),t):P(e).userInvalidated=!0,e}var Zl=k.momentProperties=[],Fi=!1;function Sa(t,e){var s,n,r,i=Zl.length;if(Le(e._isAMomentObject)||(t._isAMomentObject=e._isAMomentObject),Le(e._i)||(t._i=e._i),Le(e._f)||(t._f=e._f),Le(e._l)||(t._l=e._l),Le(e._strict)||(t._strict=e._strict),Le(e._tzm)||(t._tzm=e._tzm),Le(e._isUTC)||(t._isUTC=e._isUTC),Le(e._offset)||(t._offset=e._offset),Le(e._pf)||(t._pf=P(e)),Le(e._locale)||(t._locale=e._locale),i>0)for(s=0;s<i;s++)n=Zl[s],r=e[n],Le(r)||(t[n]=r);return t}function Rn(t){Sa(this,t),this._d=new Date(t._d!=null?t._d.getTime():NaN),this.isValid()||(this._d=new Date(NaN)),Fi===!1&&(Fi=!0,k.updateOffset(this),Fi=!1)}function Ze(t){return t instanceof Rn||t!=null&&t._isAMomentObject!=null}function Hh(t){k.suppressDeprecationWarnings===!1&&typeof console<"u"&&console.warn&&console.warn("Deprecation warning: "+t)}function Be(t,e){var s=!0;return It(function(){if(k.deprecationHandler!=null&&k.deprecationHandler(null,t),s){var n=[],r,i,o,a=arguments.length;for(i=0;i<a;i++){if(r="",typeof arguments[i]=="object"){r+=`
[`+i+"] ";for(o in arguments[0])q(arguments[0],o)&&(r+=o+": "+arguments[0][o]+", ");r=r.slice(0,-2)}else r=arguments[i];n.push(r)}Hh(t+`
Arguments: `+Array.prototype.slice.call(n).join("")+`
`+new Error().stack),s=!1}return e.apply(this,arguments)},e)}var Jl={};function Gh(t,e){k.deprecationHandler!=null&&k.deprecationHandler(t,e),Jl[t]||(Hh(e),Jl[t]=!0)}k.suppressDeprecationWarnings=!1;k.deprecationHandler=null;function ut(t){return typeof Function<"u"&&t instanceof Function||Object.prototype.toString.call(t)==="[object Function]"}function zw(t){var e,s;for(s in t)q(t,s)&&(e=t[s],ut(e)?this[s]=e:this["_"+s]=e);this._config=t,this._dayOfMonthOrdinalParseLenient=new RegExp((this._dayOfMonthOrdinalParse.source||this._ordinalParse.source)+"|"+/\d{1,2}/.source)}function vo(t,e){var s=It({},t),n;for(n in e)q(e,n)&&($t(t[n])&&$t(e[n])?(s[n]={},It(s[n],t[n]),It(s[n],e[n])):e[n]!=null?s[n]=e[n]:delete s[n]);for(n in t)q(t,n)&&!q(e,n)&&$t(t[n])&&(s[n]=It({},s[n]));return s}function Da(t){t!=null&&this.set(t)}var bo;Object.keys?bo=Object.keys:bo=function(t){var e,s=[];for(e in t)q(t,e)&&s.push(e);return s};var Yw={sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"};function Bw(t,e,s){var n=this._calendar[t]||this._calendar.sameElse;return ut(n)?n.call(e,s):n}function at(t,e,s){var n=""+Math.abs(t),r=e-n.length,i=t>=0;return(i?s?"+":"":"-")+Math.pow(10,Math.max(0,r)).toString().substr(1)+n}var Ia=/(\[[^\[]*\])|(\\)?([Hh]mm(ss)?|Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Qo?|N{1,5}|YYYYYY|YYYYY|YYYY|YY|y{2,4}|yo?|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|kk?|mm?|ss?|S{1,9}|x|X|zz?|ZZ?|.)/g,Qn=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,Ui={},ds={};function I(t,e,s,n){var r=n;typeof n=="string"&&(r=function(){return this[n]()}),t&&(ds[t]=r),e&&(ds[e[0]]=function(){return at(r.apply(this,arguments),e[1],e[2])}),s&&(ds[s]=function(){return this.localeData().ordinal(r.apply(this,arguments),t)})}function qw(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function Ww(t){var e=t.match(Ia),s,n;for(s=0,n=e.length;s<n;s++)ds[e[s]]?e[s]=ds[e[s]]:e[s]=qw(e[s]);return function(r){var i="",o;for(o=0;o<n;o++)i+=ut(e[o])?e[o].call(r,t):e[o];return i}}function tr(t,e){return t.isValid()?(e=Kh(e,t.localeData()),Ui[e]=Ui[e]||Ww(e),Ui[e](t)):t.localeData().invalidDate()}function Kh(t,e){var s=5;function n(r){return e.longDateFormat(r)||r}for(Qn.lastIndex=0;s>=0&&Qn.test(t);)t=t.replace(Qn,n),Qn.lastIndex=0,s-=1;return t}var $w={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"};function Hw(t){var e=this._longDateFormat[t],s=this._longDateFormat[t.toUpperCase()];return e||!s?e:(this._longDateFormat[t]=s.match(Ia).map(function(n){return n==="MMMM"||n==="MM"||n==="DD"||n==="dddd"?n.slice(1):n}).join(""),this._longDateFormat[t])}var Gw="Invalid date";function Kw(){return this._invalidDate}var Qw="%d",Xw=/\d{1,2}/;function Zw(t){return this._ordinal.replace("%d",t)}var Jw={future:"in %s",past:"%s ago",s:"a few seconds",ss:"%d seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",w:"a week",ww:"%d weeks",M:"a month",MM:"%d months",y:"a year",yy:"%d years"};function ev(t,e,s,n){var r=this._relativeTime[s];return ut(r)?r(t,e,s,n):r.replace(/%d/i,t)}function tv(t,e){var s=this._relativeTime[t>0?"future":"past"];return ut(s)?s(e):s.replace(/%s/i,e)}var Qs={};function Ne(t,e){var s=t.toLowerCase();Qs[s]=Qs[s+"s"]=Qs[e]=t}function qe(t){return typeof t=="string"?Qs[t]||Qs[t.toLowerCase()]:void 0}function xa(t){var e={},s,n;for(n in t)q(t,n)&&(s=qe(n),s&&(e[s]=t[n]));return e}var Qh={};function Oe(t,e){Qh[t]=e}function sv(t){var e=[],s;for(s in t)q(t,s)&&e.push({unit:s,priority:Qh[s]});return e.sort(function(n,r){return n.priority-r.priority}),e}function si(t){return t%4===0&&t%100!==0||t%400===0}function je(t){return t<0?Math.ceil(t)||0:Math.floor(t)}function V(t){var e=+t,s=0;return e!==0&&isFinite(e)&&(s=je(e)),s}function Ms(t,e){return function(s){return s!=null?(Xh(this,t,s),k.updateOffset(this,e),this):Er(this,t)}}function Er(t,e){return t.isValid()?t._d["get"+(t._isUTC?"UTC":"")+e]():NaN}function Xh(t,e,s){t.isValid()&&!isNaN(s)&&(e==="FullYear"&&si(t.year())&&t.month()===1&&t.date()===29?(s=V(s),t._d["set"+(t._isUTC?"UTC":"")+e](s,t.month(),li(s,t.month()))):t._d["set"+(t._isUTC?"UTC":"")+e](s))}function nv(t){return t=qe(t),ut(this[t])?this[t]():this}function rv(t,e){if(typeof t=="object"){t=xa(t);var s=sv(t),n,r=s.length;for(n=0;n<r;n++)this[s[n].unit](t[s[n].unit])}else if(t=qe(t),ut(this[t]))return this[t](e);return this}var Zh=/\d/,Ve=/\d\d/,Jh=/\d{3}/,Ca=/\d{4}/,ni=/[+-]?\d{6}/,ee=/\d\d?/,ed=/\d\d\d\d?/,td=/\d\d\d\d\d\d?/,ri=/\d{1,3}/,Aa=/\d{1,4}/,ii=/[+-]?\d{1,6}/,Ns=/\d+/,oi=/[+-]?\d+/,iv=/Z|[+-]\d\d:?\d\d/gi,ai=/Z|[+-]\d\d(?::?\d\d)?/gi,ov=/[+-]?\d+(\.\d{1,3})?/,Ln=/[0-9]{0,256}['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFF07\uFF10-\uFFEF]{1,256}|[\u0600-\u06FF\/]{1,256}(\s*?[\u0600-\u06FF]{1,256}){1,2}/i,Sr;Sr={};function _(t,e,s){Sr[t]=ut(e)?e:function(n,r){return n&&s?s:e}}function av(t,e){return q(Sr,t)?Sr[t](e._strict,e._locale):new RegExp(lv(t))}function lv(t){return Pe(t.replace("\\","").replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(e,s,n,r,i){return s||n||r||i}))}function Pe(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}var ko={};function K(t,e){var s,n=e,r;for(typeof t=="string"&&(t=[t]),_t(e)&&(n=function(i,o){o[e]=V(i)}),r=t.length,s=0;s<r;s++)ko[t[s]]=n}function Pn(t,e){K(t,function(s,n,r,i){r._w=r._w||{},e(s,r._w,r,i)})}function uv(t,e,s){e!=null&&q(ko,t)&&ko[t](e,s._a,s,t)}var Ae=0,ft=1,nt=2,de=3,Qe=4,mt=5,Bt=6,cv=7,hv=8;function dv(t,e){return(t%e+e)%e}var ae;Array.prototype.indexOf?ae=Array.prototype.indexOf:ae=function(t){var e;for(e=0;e<this.length;++e)if(this[e]===t)return e;return-1};function li(t,e){if(isNaN(t)||isNaN(e))return NaN;var s=dv(e,12);return t+=(e-s)/12,s===1?si(t)?29:28:31-s%7%2}I("M",["MM",2],"Mo",function(){return this.month()+1});I("MMM",0,0,function(t){return this.localeData().monthsShort(this,t)});I("MMMM",0,0,function(t){return this.localeData().months(this,t)});Ne("month","M");Oe("month",8);_("M",ee);_("MM",ee,Ve);_("MMM",function(t,e){return e.monthsShortRegex(t)});_("MMMM",function(t,e){return e.monthsRegex(t)});K(["M","MM"],function(t,e){e[ft]=V(t)-1});K(["MMM","MMMM"],function(t,e,s,n){var r=s._locale.monthsParse(t,n,s._strict);r!=null?e[ft]=r:P(s).invalidMonth=t});var fv="January_February_March_April_May_June_July_August_September_October_November_December".split("_"),sd="Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),nd=/D[oD]?(\[[^\[\]]*\]|\s)+MMMM?/,mv=Ln,pv=Ln;function gv(t,e){return t?Xe(this._months)?this._months[t.month()]:this._months[(this._months.isFormat||nd).test(e)?"format":"standalone"][t.month()]:Xe(this._months)?this._months:this._months.standalone}function yv(t,e){return t?Xe(this._monthsShort)?this._monthsShort[t.month()]:this._monthsShort[nd.test(e)?"format":"standalone"][t.month()]:Xe(this._monthsShort)?this._monthsShort:this._monthsShort.standalone}function wv(t,e,s){var n,r,i,o=t.toLocaleLowerCase();if(!this._monthsParse)for(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[],n=0;n<12;++n)i=lt([2e3,n]),this._shortMonthsParse[n]=this.monthsShort(i,"").toLocaleLowerCase(),this._longMonthsParse[n]=this.months(i,"").toLocaleLowerCase();return s?e==="MMM"?(r=ae.call(this._shortMonthsParse,o),r!==-1?r:null):(r=ae.call(this._longMonthsParse,o),r!==-1?r:null):e==="MMM"?(r=ae.call(this._shortMonthsParse,o),r!==-1?r:(r=ae.call(this._longMonthsParse,o),r!==-1?r:null)):(r=ae.call(this._longMonthsParse,o),r!==-1?r:(r=ae.call(this._shortMonthsParse,o),r!==-1?r:null))}function vv(t,e,s){var n,r,i;if(this._monthsParseExact)return wv.call(this,t,e,s);for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),n=0;n<12;n++){if(r=lt([2e3,n]),s&&!this._longMonthsParse[n]&&(this._longMonthsParse[n]=new RegExp("^"+this.months(r,"").replace(".","")+"$","i"),this._shortMonthsParse[n]=new RegExp("^"+this.monthsShort(r,"").replace(".","")+"$","i")),!s&&!this._monthsParse[n]&&(i="^"+this.months(r,"")+"|^"+this.monthsShort(r,""),this._monthsParse[n]=new RegExp(i.replace(".",""),"i")),s&&e==="MMMM"&&this._longMonthsParse[n].test(t))return n;if(s&&e==="MMM"&&this._shortMonthsParse[n].test(t))return n;if(!s&&this._monthsParse[n].test(t))return n}}function rd(t,e){var s;if(!t.isValid())return t;if(typeof e=="string"){if(/^\d+$/.test(e))e=V(e);else if(e=t.localeData().monthsParse(e),!_t(e))return t}return s=Math.min(t.date(),li(t.year(),e)),t._d["set"+(t._isUTC?"UTC":"")+"Month"](e,s),t}function id(t){return t!=null?(rd(this,t),k.updateOffset(this,!0),this):Er(this,"Month")}function bv(){return li(this.year(),this.month())}function kv(t){return this._monthsParseExact?(q(this,"_monthsRegex")||od.call(this),t?this._monthsShortStrictRegex:this._monthsShortRegex):(q(this,"_monthsShortRegex")||(this._monthsShortRegex=mv),this._monthsShortStrictRegex&&t?this._monthsShortStrictRegex:this._monthsShortRegex)}function _v(t){return this._monthsParseExact?(q(this,"_monthsRegex")||od.call(this),t?this._monthsStrictRegex:this._monthsRegex):(q(this,"_monthsRegex")||(this._monthsRegex=pv),this._monthsStrictRegex&&t?this._monthsStrictRegex:this._monthsRegex)}function od(){function t(o,a){return a.length-o.length}var e=[],s=[],n=[],r,i;for(r=0;r<12;r++)i=lt([2e3,r]),e.push(this.monthsShort(i,"")),s.push(this.months(i,"")),n.push(this.months(i,"")),n.push(this.monthsShort(i,""));for(e.sort(t),s.sort(t),n.sort(t),r=0;r<12;r++)e[r]=Pe(e[r]),s[r]=Pe(s[r]);for(r=0;r<24;r++)n[r]=Pe(n[r]);this._monthsRegex=new RegExp("^("+n.join("|")+")","i"),this._monthsShortRegex=this._monthsRegex,this._monthsStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._monthsShortStrictRegex=new RegExp("^("+e.join("|")+")","i")}I("Y",0,0,function(){var t=this.year();return t<=9999?at(t,4):"+"+t});I(0,["YY",2],0,function(){return this.year()%100});I(0,["YYYY",4],0,"year");I(0,["YYYYY",5],0,"year");I(0,["YYYYYY",6,!0],0,"year");Ne("year","y");Oe("year",1);_("Y",oi);_("YY",ee,Ve);_("YYYY",Aa,Ca);_("YYYYY",ii,ni);_("YYYYYY",ii,ni);K(["YYYYY","YYYYYY"],Ae);K("YYYY",function(t,e){e[Ae]=t.length===2?k.parseTwoDigitYear(t):V(t)});K("YY",function(t,e){e[Ae]=k.parseTwoDigitYear(t)});K("Y",function(t,e){e[Ae]=parseInt(t,10)});function Xs(t){return si(t)?366:365}k.parseTwoDigitYear=function(t){return V(t)+(V(t)>68?1900:2e3)};var ad=Ms("FullYear",!0);function Tv(){return si(this.year())}function Ev(t,e,s,n,r,i,o){var a;return t<100&&t>=0?(a=new Date(t+400,e,s,n,r,i,o),isFinite(a.getFullYear())&&a.setFullYear(t)):a=new Date(t,e,s,n,r,i,o),a}function mn(t){var e,s;return t<100&&t>=0?(s=Array.prototype.slice.call(arguments),s[0]=t+400,e=new Date(Date.UTC.apply(null,s)),isFinite(e.getUTCFullYear())&&e.setUTCFullYear(t)):e=new Date(Date.UTC.apply(null,arguments)),e}function Dr(t,e,s){var n=7+e-s,r=(7+mn(t,0,n).getUTCDay()-e)%7;return-r+n-1}function ld(t,e,s,n,r){var i=(7+s-n)%7,o=Dr(t,n,r),a=1+7*(e-1)+i+o,l,u;return a<=0?(l=t-1,u=Xs(l)+a):a>Xs(t)?(l=t+1,u=a-Xs(t)):(l=t,u=a),{year:l,dayOfYear:u}}function pn(t,e,s){var n=Dr(t.year(),e,s),r=Math.floor((t.dayOfYear()-n-1)/7)+1,i,o;return r<1?(o=t.year()-1,i=r+yt(o,e,s)):r>yt(t.year(),e,s)?(i=r-yt(t.year(),e,s),o=t.year()+1):(o=t.year(),i=r),{week:i,year:o}}function yt(t,e,s){var n=Dr(t,e,s),r=Dr(t+1,e,s);return(Xs(t)-n+r)/7}I("w",["ww",2],"wo","week");I("W",["WW",2],"Wo","isoWeek");Ne("week","w");Ne("isoWeek","W");Oe("week",5);Oe("isoWeek",5);_("w",ee);_("ww",ee,Ve);_("W",ee);_("WW",ee,Ve);Pn(["w","ww","W","WW"],function(t,e,s,n){e[n.substr(0,1)]=V(t)});function Sv(t){return pn(t,this._week.dow,this._week.doy).week}var Dv={dow:0,doy:6};function Iv(){return this._week.dow}function xv(){return this._week.doy}function Cv(t){var e=this.localeData().week(this);return t==null?e:this.add((t-e)*7,"d")}function Av(t){var e=pn(this,1,4).week;return t==null?e:this.add((t-e)*7,"d")}I("d",0,"do","day");I("dd",0,0,function(t){return this.localeData().weekdaysMin(this,t)});I("ddd",0,0,function(t){return this.localeData().weekdaysShort(this,t)});I("dddd",0,0,function(t){return this.localeData().weekdays(this,t)});I("e",0,0,"weekday");I("E",0,0,"isoWeekday");Ne("day","d");Ne("weekday","e");Ne("isoWeekday","E");Oe("day",11);Oe("weekday",11);Oe("isoWeekday",11);_("d",ee);_("e",ee);_("E",ee);_("dd",function(t,e){return e.weekdaysMinRegex(t)});_("ddd",function(t,e){return e.weekdaysShortRegex(t)});_("dddd",function(t,e){return e.weekdaysRegex(t)});Pn(["dd","ddd","dddd"],function(t,e,s,n){var r=s._locale.weekdaysParse(t,n,s._strict);r!=null?e.d=r:P(s).invalidWeekday=t});Pn(["d","e","E"],function(t,e,s,n){e[n]=V(t)});function Mv(t,e){return typeof t!="string"?t:isNaN(t)?(t=e.weekdaysParse(t),typeof t=="number"?t:null):parseInt(t,10)}function Nv(t,e){return typeof t=="string"?e.weekdaysParse(t)%7||7:isNaN(t)?null:t}function Ma(t,e){return t.slice(e,7).concat(t.slice(0,e))}var Ov="Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),ud="Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),Rv="Su_Mo_Tu_We_Th_Fr_Sa".split("_"),Lv=Ln,Pv=Ln,Fv=Ln;function Uv(t,e){var s=Xe(this._weekdays)?this._weekdays:this._weekdays[t&&t!==!0&&this._weekdays.isFormat.test(e)?"format":"standalone"];return t===!0?Ma(s,this._week.dow):t?s[t.day()]:s}function Vv(t){return t===!0?Ma(this._weekdaysShort,this._week.dow):t?this._weekdaysShort[t.day()]:this._weekdaysShort}function jv(t){return t===!0?Ma(this._weekdaysMin,this._week.dow):t?this._weekdaysMin[t.day()]:this._weekdaysMin}function zv(t,e,s){var n,r,i,o=t.toLocaleLowerCase();if(!this._weekdaysParse)for(this._weekdaysParse=[],this._shortWeekdaysParse=[],this._minWeekdaysParse=[],n=0;n<7;++n)i=lt([2e3,1]).day(n),this._minWeekdaysParse[n]=this.weekdaysMin(i,"").toLocaleLowerCase(),this._shortWeekdaysParse[n]=this.weekdaysShort(i,"").toLocaleLowerCase(),this._weekdaysParse[n]=this.weekdays(i,"").toLocaleLowerCase();return s?e==="dddd"?(r=ae.call(this._weekdaysParse,o),r!==-1?r:null):e==="ddd"?(r=ae.call(this._shortWeekdaysParse,o),r!==-1?r:null):(r=ae.call(this._minWeekdaysParse,o),r!==-1?r:null):e==="dddd"?(r=ae.call(this._weekdaysParse,o),r!==-1||(r=ae.call(this._shortWeekdaysParse,o),r!==-1)?r:(r=ae.call(this._minWeekdaysParse,o),r!==-1?r:null)):e==="ddd"?(r=ae.call(this._shortWeekdaysParse,o),r!==-1||(r=ae.call(this._weekdaysParse,o),r!==-1)?r:(r=ae.call(this._minWeekdaysParse,o),r!==-1?r:null)):(r=ae.call(this._minWeekdaysParse,o),r!==-1||(r=ae.call(this._weekdaysParse,o),r!==-1)?r:(r=ae.call(this._shortWeekdaysParse,o),r!==-1?r:null))}function Yv(t,e,s){var n,r,i;if(this._weekdaysParseExact)return zv.call(this,t,e,s);for(this._weekdaysParse||(this._weekdaysParse=[],this._minWeekdaysParse=[],this._shortWeekdaysParse=[],this._fullWeekdaysParse=[]),n=0;n<7;n++){if(r=lt([2e3,1]).day(n),s&&!this._fullWeekdaysParse[n]&&(this._fullWeekdaysParse[n]=new RegExp("^"+this.weekdays(r,"").replace(".","\\.?")+"$","i"),this._shortWeekdaysParse[n]=new RegExp("^"+this.weekdaysShort(r,"").replace(".","\\.?")+"$","i"),this._minWeekdaysParse[n]=new RegExp("^"+this.weekdaysMin(r,"").replace(".","\\.?")+"$","i")),this._weekdaysParse[n]||(i="^"+this.weekdays(r,"")+"|^"+this.weekdaysShort(r,"")+"|^"+this.weekdaysMin(r,""),this._weekdaysParse[n]=new RegExp(i.replace(".",""),"i")),s&&e==="dddd"&&this._fullWeekdaysParse[n].test(t))return n;if(s&&e==="ddd"&&this._shortWeekdaysParse[n].test(t))return n;if(s&&e==="dd"&&this._minWeekdaysParse[n].test(t))return n;if(!s&&this._weekdaysParse[n].test(t))return n}}function Bv(t){if(!this.isValid())return t!=null?this:NaN;var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return t!=null?(t=Mv(t,this.localeData()),this.add(t-e,"d")):e}function qv(t){if(!this.isValid())return t!=null?this:NaN;var e=(this.day()+7-this.localeData()._week.dow)%7;return t==null?e:this.add(t-e,"d")}function Wv(t){if(!this.isValid())return t!=null?this:NaN;if(t!=null){var e=Nv(t,this.localeData());return this.day(this.day()%7?e:e-7)}else return this.day()||7}function $v(t){return this._weekdaysParseExact?(q(this,"_weekdaysRegex")||Na.call(this),t?this._weekdaysStrictRegex:this._weekdaysRegex):(q(this,"_weekdaysRegex")||(this._weekdaysRegex=Lv),this._weekdaysStrictRegex&&t?this._weekdaysStrictRegex:this._weekdaysRegex)}function Hv(t){return this._weekdaysParseExact?(q(this,"_weekdaysRegex")||Na.call(this),t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex):(q(this,"_weekdaysShortRegex")||(this._weekdaysShortRegex=Pv),this._weekdaysShortStrictRegex&&t?this._weekdaysShortStrictRegex:this._weekdaysShortRegex)}function Gv(t){return this._weekdaysParseExact?(q(this,"_weekdaysRegex")||Na.call(this),t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex):(q(this,"_weekdaysMinRegex")||(this._weekdaysMinRegex=Fv),this._weekdaysMinStrictRegex&&t?this._weekdaysMinStrictRegex:this._weekdaysMinRegex)}function Na(){function t(c,p){return p.length-c.length}var e=[],s=[],n=[],r=[],i,o,a,l,u;for(i=0;i<7;i++)o=lt([2e3,1]).day(i),a=Pe(this.weekdaysMin(o,"")),l=Pe(this.weekdaysShort(o,"")),u=Pe(this.weekdays(o,"")),e.push(a),s.push(l),n.push(u),r.push(a),r.push(l),r.push(u);e.sort(t),s.sort(t),n.sort(t),r.sort(t),this._weekdaysRegex=new RegExp("^("+r.join("|")+")","i"),this._weekdaysShortRegex=this._weekdaysRegex,this._weekdaysMinRegex=this._weekdaysRegex,this._weekdaysStrictRegex=new RegExp("^("+n.join("|")+")","i"),this._weekdaysShortStrictRegex=new RegExp("^("+s.join("|")+")","i"),this._weekdaysMinStrictRegex=new RegExp("^("+e.join("|")+")","i")}function Oa(){return this.hours()%12||12}function Kv(){return this.hours()||24}I("H",["HH",2],0,"hour");I("h",["hh",2],0,Oa);I("k",["kk",2],0,Kv);I("hmm",0,0,function(){return""+Oa.apply(this)+at(this.minutes(),2)});I("hmmss",0,0,function(){return""+Oa.apply(this)+at(this.minutes(),2)+at(this.seconds(),2)});I("Hmm",0,0,function(){return""+this.hours()+at(this.minutes(),2)});I("Hmmss",0,0,function(){return""+this.hours()+at(this.minutes(),2)+at(this.seconds(),2)});function cd(t,e){I(t,0,0,function(){return this.localeData().meridiem(this.hours(),this.minutes(),e)})}cd("a",!0);cd("A",!1);Ne("hour","h");Oe("hour",13);function hd(t,e){return e._meridiemParse}_("a",hd);_("A",hd);_("H",ee);_("h",ee);_("k",ee);_("HH",ee,Ve);_("hh",ee,Ve);_("kk",ee,Ve);_("hmm",ed);_("hmmss",td);_("Hmm",ed);_("Hmmss",td);K(["H","HH"],de);K(["k","kk"],function(t,e,s){var n=V(t);e[de]=n===24?0:n});K(["a","A"],function(t,e,s){s._isPm=s._locale.isPM(t),s._meridiem=t});K(["h","hh"],function(t,e,s){e[de]=V(t),P(s).bigHour=!0});K("hmm",function(t,e,s){var n=t.length-2;e[de]=V(t.substr(0,n)),e[Qe]=V(t.substr(n)),P(s).bigHour=!0});K("hmmss",function(t,e,s){var n=t.length-4,r=t.length-2;e[de]=V(t.substr(0,n)),e[Qe]=V(t.substr(n,2)),e[mt]=V(t.substr(r)),P(s).bigHour=!0});K("Hmm",function(t,e,s){var n=t.length-2;e[de]=V(t.substr(0,n)),e[Qe]=V(t.substr(n))});K("Hmmss",function(t,e,s){var n=t.length-4,r=t.length-2;e[de]=V(t.substr(0,n)),e[Qe]=V(t.substr(n,2)),e[mt]=V(t.substr(r))});function Qv(t){return(t+"").toLowerCase().charAt(0)==="p"}var Xv=/[ap]\.?m?\.?/i,Zv=Ms("Hours",!0);function Jv(t,e,s){return t>11?s?"pm":"PM":s?"am":"AM"}var dd={calendar:Yw,longDateFormat:$w,invalidDate:Gw,ordinal:Qw,dayOfMonthOrdinalParse:Xw,relativeTime:Jw,months:fv,monthsShort:sd,week:Dv,weekdays:Ov,weekdaysMin:Rv,weekdaysShort:ud,meridiemParse:Xv},se={},Vs={},gn;function eb(t,e){var s,n=Math.min(t.length,e.length);for(s=0;s<n;s+=1)if(t[s]!==e[s])return s;return n}function eu(t){return t&&t.toLowerCase().replace("_","-")}function tb(t){for(var e=0,s,n,r,i;e<t.length;){for(i=eu(t[e]).split("-"),s=i.length,n=eu(t[e+1]),n=n?n.split("-"):null;s>0;){if(r=ui(i.slice(0,s).join("-")),r)return r;if(n&&n.length>=s&&eb(i,n)>=s-1)break;s--}e++}return gn}function sb(t){return t.match("^[^/\\\\]*$")!=null}function ui(t){var e=null,s;if(se[t]===void 0&&typeof module<"u"&&module&&module.exports&&sb(t))try{e=gn._abbr,s=require,s("./locale/"+t),Nt(e)}catch{se[t]=null}return se[t]}function Nt(t,e){var s;return t&&(Le(e)?s=Tt(t):s=Ra(t,e),s?gn=s:typeof console<"u"&&console.warn&&console.warn("Locale "+t+" not found. Did you forget to load it?")),gn._abbr}function Ra(t,e){if(e!==null){var s,n=dd;if(e.abbr=t,se[t]!=null)Gh("defineLocaleOverride","use moment.updateLocale(localeName, config) to change an existing locale. moment.defineLocale(localeName, config) should only be used for creating a new locale See http://momentjs.com/guides/#/warnings/define-locale/ for more info."),n=se[t]._config;else if(e.parentLocale!=null)if(se[e.parentLocale]!=null)n=se[e.parentLocale]._config;else if(s=ui(e.parentLocale),s!=null)n=s._config;else return Vs[e.parentLocale]||(Vs[e.parentLocale]=[]),Vs[e.parentLocale].push({name:t,config:e}),null;return se[t]=new Da(vo(n,e)),Vs[t]&&Vs[t].forEach(function(r){Ra(r.name,r.config)}),Nt(t),se[t]}else return delete se[t],null}function nb(t,e){if(e!=null){var s,n,r=dd;se[t]!=null&&se[t].parentLocale!=null?se[t].set(vo(se[t]._config,e)):(n=ui(t),n!=null&&(r=n._config),e=vo(r,e),n==null&&(e.abbr=t),s=new Da(e),s.parentLocale=se[t],se[t]=s),Nt(t)}else se[t]!=null&&(se[t].parentLocale!=null?(se[t]=se[t].parentLocale,t===Nt()&&Nt(t)):se[t]!=null&&delete se[t]);return se[t]}function Tt(t){var e;if(t&&t._locale&&t._locale._abbr&&(t=t._locale._abbr),!t)return gn;if(!Xe(t)){if(e=ui(t),e)return e;t=[t]}return tb(t)}function rb(){return bo(se)}function La(t){var e,s=t._a;return s&&P(t).overflow===-2&&(e=s[ft]<0||s[ft]>11?ft:s[nt]<1||s[nt]>li(s[Ae],s[ft])?nt:s[de]<0||s[de]>24||s[de]===24&&(s[Qe]!==0||s[mt]!==0||s[Bt]!==0)?de:s[Qe]<0||s[Qe]>59?Qe:s[mt]<0||s[mt]>59?mt:s[Bt]<0||s[Bt]>999?Bt:-1,P(t)._overflowDayOfYear&&(e<Ae||e>nt)&&(e=nt),P(t)._overflowWeeks&&e===-1&&(e=cv),P(t)._overflowWeekday&&e===-1&&(e=hv),P(t).overflow=e),t}var ib=/^\s*((?:[+-]\d{6}|\d{4})-(?:\d\d-\d\d|W\d\d-\d|W\d\d|\d\d\d|\d\d))(?:(T| )(\d\d(?::\d\d(?::\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ob=/^\s*((?:[+-]\d{6}|\d{4})(?:\d\d\d\d|W\d\d\d|W\d\d|\d\d\d|\d\d|))(?:(T| )(\d\d(?:\d\d(?:\d\d(?:[.,]\d+)?)?)?)([+-]\d\d(?::?\d\d)?|\s*Z)?)?$/,ab=/Z|[+-]\d\d(?::?\d\d)?/,Xn=[["YYYYYY-MM-DD",/[+-]\d{6}-\d\d-\d\d/],["YYYY-MM-DD",/\d{4}-\d\d-\d\d/],["GGGG-[W]WW-E",/\d{4}-W\d\d-\d/],["GGGG-[W]WW",/\d{4}-W\d\d/,!1],["YYYY-DDD",/\d{4}-\d{3}/],["YYYY-MM",/\d{4}-\d\d/,!1],["YYYYYYMMDD",/[+-]\d{10}/],["YYYYMMDD",/\d{8}/],["GGGG[W]WWE",/\d{4}W\d{3}/],["GGGG[W]WW",/\d{4}W\d{2}/,!1],["YYYYDDD",/\d{7}/],["YYYYMM",/\d{6}/,!1],["YYYY",/\d{4}/,!1]],Vi=[["HH:mm:ss.SSSS",/\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss,SSSS",/\d\d:\d\d:\d\d,\d+/],["HH:mm:ss",/\d\d:\d\d:\d\d/],["HH:mm",/\d\d:\d\d/],["HHmmss.SSSS",/\d\d\d\d\d\d\.\d+/],["HHmmss,SSSS",/\d\d\d\d\d\d,\d+/],["HHmmss",/\d\d\d\d\d\d/],["HHmm",/\d\d\d\d/],["HH",/\d\d/]],lb=/^\/?Date\((-?\d+)/i,ub=/^(?:(Mon|Tue|Wed|Thu|Fri|Sat|Sun),?\s)?(\d{1,2})\s(Jan|Feb|Mar|Apr|May|Jun|Jul|Aug|Sep|Oct|Nov|Dec)\s(\d{2,4})\s(\d\d):(\d\d)(?::(\d\d))?\s(?:(UT|GMT|[ECMP][SD]T)|([Zz])|([+-]\d{4}))$/,cb={UT:0,GMT:0,EDT:-4*60,EST:-5*60,CDT:-5*60,CST:-6*60,MDT:-6*60,MST:-7*60,PDT:-7*60,PST:-8*60};function fd(t){var e,s,n=t._i,r=ib.exec(n)||ob.exec(n),i,o,a,l,u=Xn.length,c=Vi.length;if(r){for(P(t).iso=!0,e=0,s=u;e<s;e++)if(Xn[e][1].exec(r[1])){o=Xn[e][0],i=Xn[e][2]!==!1;break}if(o==null){t._isValid=!1;return}if(r[3]){for(e=0,s=c;e<s;e++)if(Vi[e][1].exec(r[3])){a=(r[2]||" ")+Vi[e][0];break}if(a==null){t._isValid=!1;return}}if(!i&&a!=null){t._isValid=!1;return}if(r[4])if(ab.exec(r[4]))l="Z";else{t._isValid=!1;return}t._f=o+(a||"")+(l||""),Fa(t)}else t._isValid=!1}function hb(t,e,s,n,r,i){var o=[db(t),sd.indexOf(e),parseInt(s,10),parseInt(n,10),parseInt(r,10)];return i&&o.push(parseInt(i,10)),o}function db(t){var e=parseInt(t,10);return e<=49?2e3+e:e<=999?1900+e:e}function fb(t){return t.replace(/\([^()]*\)|[\n\t]/g," ").replace(/(\s\s+)/g," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}function mb(t,e,s){if(t){var n=ud.indexOf(t),r=new Date(e[0],e[1],e[2]).getDay();if(n!==r)return P(s).weekdayMismatch=!0,s._isValid=!1,!1}return!0}function pb(t,e,s){if(t)return cb[t];if(e)return 0;var n=parseInt(s,10),r=n%100,i=(n-r)/100;return i*60+r}function md(t){var e=ub.exec(fb(t._i)),s;if(e){if(s=hb(e[4],e[3],e[2],e[5],e[6],e[7]),!mb(e[1],s,t))return;t._a=s,t._tzm=pb(e[8],e[9],e[10]),t._d=mn.apply(null,t._a),t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),P(t).rfc2822=!0}else t._isValid=!1}function gb(t){var e=lb.exec(t._i);if(e!==null){t._d=new Date(+e[1]);return}if(fd(t),t._isValid===!1)delete t._isValid;else return;if(md(t),t._isValid===!1)delete t._isValid;else return;t._strict?t._isValid=!1:k.createFromInputFallback(t)}k.createFromInputFallback=Be("value provided is not in a recognized RFC2822 or ISO format. moment construction falls back to js Date(), which is not reliable across all browsers and versions. Non RFC2822/ISO date formats are discouraged. Please refer to http://momentjs.com/guides/#/warnings/js-date/ for more info.",function(t){t._d=new Date(t._i+(t._useUTC?" UTC":""))});function os(t,e,s){return t??e??s}function yb(t){var e=new Date(k.now());return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function Pa(t){var e,s,n=[],r,i,o;if(!t._d){for(r=yb(t),t._w&&t._a[nt]==null&&t._a[ft]==null&&wb(t),t._dayOfYear!=null&&(o=os(t._a[Ae],r[Ae]),(t._dayOfYear>Xs(o)||t._dayOfYear===0)&&(P(t)._overflowDayOfYear=!0),s=mn(o,0,t._dayOfYear),t._a[ft]=s.getUTCMonth(),t._a[nt]=s.getUTCDate()),e=0;e<3&&t._a[e]==null;++e)t._a[e]=n[e]=r[e];for(;e<7;e++)t._a[e]=n[e]=t._a[e]==null?e===2?1:0:t._a[e];t._a[de]===24&&t._a[Qe]===0&&t._a[mt]===0&&t._a[Bt]===0&&(t._nextDay=!0,t._a[de]=0),t._d=(t._useUTC?mn:Ev).apply(null,n),i=t._useUTC?t._d.getUTCDay():t._d.getDay(),t._tzm!=null&&t._d.setUTCMinutes(t._d.getUTCMinutes()-t._tzm),t._nextDay&&(t._a[de]=24),t._w&&typeof t._w.d<"u"&&t._w.d!==i&&(P(t).weekdayMismatch=!0)}}function wb(t){var e,s,n,r,i,o,a,l,u;e=t._w,e.GG!=null||e.W!=null||e.E!=null?(i=1,o=4,s=os(e.GG,t._a[Ae],pn(J(),1,4).year),n=os(e.W,1),r=os(e.E,1),(r<1||r>7)&&(l=!0)):(i=t._locale._week.dow,o=t._locale._week.doy,u=pn(J(),i,o),s=os(e.gg,t._a[Ae],u.year),n=os(e.w,u.week),e.d!=null?(r=e.d,(r<0||r>6)&&(l=!0)):e.e!=null?(r=e.e+i,(e.e<0||e.e>6)&&(l=!0)):r=i),n<1||n>yt(s,i,o)?P(t)._overflowWeeks=!0:l!=null?P(t)._overflowWeekday=!0:(a=ld(s,n,r,i,o),t._a[Ae]=a.year,t._dayOfYear=a.dayOfYear)}k.ISO_8601=function(){};k.RFC_2822=function(){};function Fa(t){if(t._f===k.ISO_8601){fd(t);return}if(t._f===k.RFC_2822){md(t);return}t._a=[],P(t).empty=!0;var e=""+t._i,s,n,r,i,o,a=e.length,l=0,u,c;for(r=Kh(t._f,t._locale).match(Ia)||[],c=r.length,s=0;s<c;s++)i=r[s],n=(e.match(av(i,t))||[])[0],n&&(o=e.substr(0,e.indexOf(n)),o.length>0&&P(t).unusedInput.push(o),e=e.slice(e.indexOf(n)+n.length),l+=n.length),ds[i]?(n?P(t).empty=!1:P(t).unusedTokens.push(i),uv(i,n,t)):t._strict&&!n&&P(t).unusedTokens.push(i);P(t).charsLeftOver=a-l,e.length>0&&P(t).unusedInput.push(e),t._a[de]<=12&&P(t).bigHour===!0&&t._a[de]>0&&(P(t).bigHour=void 0),P(t).parsedDateParts=t._a.slice(0),P(t).meridiem=t._meridiem,t._a[de]=vb(t._locale,t._a[de],t._meridiem),u=P(t).era,u!==null&&(t._a[Ae]=t._locale.erasConvertYear(u,t._a[Ae])),Pa(t),La(t)}function vb(t,e,s){var n;return s==null?e:t.meridiemHour!=null?t.meridiemHour(e,s):(t.isPM!=null&&(n=t.isPM(s),n&&e<12&&(e+=12),!n&&e===12&&(e=0)),e)}function bb(t){var e,s,n,r,i,o,a=!1,l=t._f.length;if(l===0){P(t).invalidFormat=!0,t._d=new Date(NaN);return}for(r=0;r<l;r++)i=0,o=!1,e=Sa({},t),t._useUTC!=null&&(e._useUTC=t._useUTC),e._f=t._f[r],Fa(e),Ea(e)&&(o=!0),i+=P(e).charsLeftOver,i+=P(e).unusedTokens.length*10,P(e).score=i,a?i<n&&(n=i,s=e):(n==null||i<n||o)&&(n=i,s=e,o&&(a=!0));It(t,s||e)}function kb(t){if(!t._d){var e=xa(t._i),s=e.day===void 0?e.date:e.day;t._a=$h([e.year,e.month,s,e.hour,e.minute,e.second,e.millisecond],function(n){return n&&parseInt(n,10)}),Pa(t)}}function _b(t){var e=new Rn(La(pd(t)));return e._nextDay&&(e.add(1,"d"),e._nextDay=void 0),e}function pd(t){var e=t._i,s=t._f;return t._locale=t._locale||Tt(t._l),e===null||s===void 0&&e===""?ti({nullInput:!0}):(typeof e=="string"&&(t._i=e=t._locale.preparse(e)),Ze(e)?new Rn(La(e)):(On(e)?t._d=e:Xe(s)?bb(t):s?Fa(t):Tb(t),Ea(t)||(t._d=null),t))}function Tb(t){var e=t._i;Le(e)?t._d=new Date(k.now()):On(e)?t._d=new Date(e.valueOf()):typeof e=="string"?gb(t):Xe(e)?(t._a=$h(e.slice(0),function(s){return parseInt(s,10)}),Pa(t)):$t(e)?kb(t):_t(e)?t._d=new Date(e):k.createFromInputFallback(t)}function gd(t,e,s,n,r){var i={};return(e===!0||e===!1)&&(n=e,e=void 0),(s===!0||s===!1)&&(n=s,s=void 0),($t(t)&&Ta(t)||Xe(t)&&t.length===0)&&(t=void 0),i._isAMomentObject=!0,i._useUTC=i._isUTC=r,i._l=s,i._i=t,i._f=e,i._strict=n,_b(i)}function J(t,e,s,n){return gd(t,e,s,n,!1)}var Eb=Be("moment().min is deprecated, use moment.max instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=J.apply(null,arguments);return this.isValid()&&t.isValid()?t<this?this:t:ti()}),Sb=Be("moment().max is deprecated, use moment.min instead. http://momentjs.com/guides/#/warnings/min-max/",function(){var t=J.apply(null,arguments);return this.isValid()&&t.isValid()?t>this?this:t:ti()});function yd(t,e){var s,n;if(e.length===1&&Xe(e[0])&&(e=e[0]),!e.length)return J();for(s=e[0],n=1;n<e.length;++n)(!e[n].isValid()||e[n][t](s))&&(s=e[n]);return s}function Db(){var t=[].slice.call(arguments,0);return yd("isBefore",t)}function Ib(){var t=[].slice.call(arguments,0);return yd("isAfter",t)}var xb=function(){return Date.now?Date.now():+new Date},js=["year","quarter","month","week","day","hour","minute","second","millisecond"];function Cb(t){var e,s=!1,n,r=js.length;for(e in t)if(q(t,e)&&!(ae.call(js,e)!==-1&&(t[e]==null||!isNaN(t[e]))))return!1;for(n=0;n<r;++n)if(t[js[n]]){if(s)return!1;parseFloat(t[js[n]])!==V(t[js[n]])&&(s=!0)}return!0}function Ab(){return this._isValid}function Mb(){return Je(NaN)}function ci(t){var e=xa(t),s=e.year||0,n=e.quarter||0,r=e.month||0,i=e.week||e.isoWeek||0,o=e.day||0,a=e.hour||0,l=e.minute||0,u=e.second||0,c=e.millisecond||0;this._isValid=Cb(e),this._milliseconds=+c+u*1e3+l*6e4+a*1e3*60*60,this._days=+o+i*7,this._months=+r+n*3+s*12,this._data={},this._locale=Tt(),this._bubble()}function sr(t){return t instanceof ci}function _o(t){return t<0?Math.round(-1*t)*-1:Math.round(t)}function Nb(t,e,s){var n=Math.min(t.length,e.length),r=Math.abs(t.length-e.length),i=0,o;for(o=0;o<n;o++)(s&&t[o]!==e[o]||!s&&V(t[o])!==V(e[o]))&&i++;return i+r}function wd(t,e){I(t,0,0,function(){var s=this.utcOffset(),n="+";return s<0&&(s=-s,n="-"),n+at(~~(s/60),2)+e+at(~~s%60,2)})}wd("Z",":");wd("ZZ","");_("Z",ai);_("ZZ",ai);K(["Z","ZZ"],function(t,e,s){s._useUTC=!0,s._tzm=Ua(ai,t)});var Ob=/([\+\-]|\d\d)/gi;function Ua(t,e){var s=(e||"").match(t),n,r,i;return s===null?null:(n=s[s.length-1]||[],r=(n+"").match(Ob)||["-",0,0],i=+(r[1]*60)+V(r[2]),i===0?0:r[0]==="+"?i:-i)}function Va(t,e){var s,n;return e._isUTC?(s=e.clone(),n=(Ze(t)||On(t)?t.valueOf():J(t).valueOf())-s.valueOf(),s._d.setTime(s._d.valueOf()+n),k.updateOffset(s,!1),s):J(t).local()}function To(t){return-Math.round(t._d.getTimezoneOffset())}k.updateOffset=function(){};function Rb(t,e,s){var n=this._offset||0,r;if(!this.isValid())return t!=null?this:NaN;if(t!=null){if(typeof t=="string"){if(t=Ua(ai,t),t===null)return this}else Math.abs(t)<16&&!s&&(t=t*60);return!this._isUTC&&e&&(r=To(this)),this._offset=t,this._isUTC=!0,r!=null&&this.add(r,"m"),n!==t&&(!e||this._changeInProgress?kd(this,Je(t-n,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,k.updateOffset(this,!0),this._changeInProgress=null)),this}else return this._isUTC?n:To(this)}function Lb(t,e){return t!=null?(typeof t!="string"&&(t=-t),this.utcOffset(t,e),this):-this.utcOffset()}function Pb(t){return this.utcOffset(0,t)}function Fb(t){return this._isUTC&&(this.utcOffset(0,t),this._isUTC=!1,t&&this.subtract(To(this),"m")),this}function Ub(){if(this._tzm!=null)this.utcOffset(this._tzm,!1,!0);else if(typeof this._i=="string"){var t=Ua(iv,this._i);t!=null?this.utcOffset(t):this.utcOffset(0,!0)}return this}function Vb(t){return this.isValid()?(t=t?J(t).utcOffset():0,(this.utcOffset()-t)%60===0):!1}function jb(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()}function zb(){if(!Le(this._isDSTShifted))return this._isDSTShifted;var t={},e;return Sa(t,this),t=pd(t),t._a?(e=t._isUTC?lt(t._a):J(t._a),this._isDSTShifted=this.isValid()&&Nb(t._a,e.toArray())>0):this._isDSTShifted=!1,this._isDSTShifted}function Yb(){return this.isValid()?!this._isUTC:!1}function Bb(){return this.isValid()?this._isUTC:!1}function vd(){return this.isValid()?this._isUTC&&this._offset===0:!1}var qb=/^(-|\+)?(?:(\d*)[. ])?(\d+):(\d+)(?::(\d+)(\.\d*)?)?$/,Wb=/^(-|\+)?P(?:([-+]?[0-9,.]*)Y)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)W)?(?:([-+]?[0-9,.]*)D)?(?:T(?:([-+]?[0-9,.]*)H)?(?:([-+]?[0-9,.]*)M)?(?:([-+]?[0-9,.]*)S)?)?$/;function Je(t,e){var s=t,n=null,r,i,o;return sr(t)?s={ms:t._milliseconds,d:t._days,M:t._months}:_t(t)||!isNaN(+t)?(s={},e?s[e]=+t:s.milliseconds=+t):(n=qb.exec(t))?(r=n[1]==="-"?-1:1,s={y:0,d:V(n[nt])*r,h:V(n[de])*r,m:V(n[Qe])*r,s:V(n[mt])*r,ms:V(_o(n[Bt]*1e3))*r}):(n=Wb.exec(t))?(r=n[1]==="-"?-1:1,s={y:Ut(n[2],r),M:Ut(n[3],r),w:Ut(n[4],r),d:Ut(n[5],r),h:Ut(n[6],r),m:Ut(n[7],r),s:Ut(n[8],r)}):s==null?s={}:typeof s=="object"&&("from"in s||"to"in s)&&(o=$b(J(s.from),J(s.to)),s={},s.ms=o.milliseconds,s.M=o.months),i=new ci(s),sr(t)&&q(t,"_locale")&&(i._locale=t._locale),sr(t)&&q(t,"_isValid")&&(i._isValid=t._isValid),i}Je.fn=ci.prototype;Je.invalid=Mb;function Ut(t,e){var s=t&&parseFloat(t.replace(",","."));return(isNaN(s)?0:s)*e}function tu(t,e){var s={};return s.months=e.month()-t.month()+(e.year()-t.year())*12,t.clone().add(s.months,"M").isAfter(e)&&--s.months,s.milliseconds=+e-+t.clone().add(s.months,"M"),s}function $b(t,e){var s;return t.isValid()&&e.isValid()?(e=Va(e,t),t.isBefore(e)?s=tu(t,e):(s=tu(e,t),s.milliseconds=-s.milliseconds,s.months=-s.months),s):{milliseconds:0,months:0}}function bd(t,e){return function(s,n){var r,i;return n!==null&&!isNaN(+n)&&(Gh(e,"moment()."+e+"(period, number) is deprecated. Please use moment()."+e+"(number, period). See http://momentjs.com/guides/#/warnings/add-inverted-param/ for more info."),i=s,s=n,n=i),r=Je(s,n),kd(this,r,t),this}}function kd(t,e,s,n){var r=e._milliseconds,i=_o(e._days),o=_o(e._months);t.isValid()&&(n=n??!0,o&&rd(t,Er(t,"Month")+o*s),i&&Xh(t,"Date",Er(t,"Date")+i*s),r&&t._d.setTime(t._d.valueOf()+r*s),n&&k.updateOffset(t,i||o))}var Hb=bd(1,"add"),Gb=bd(-1,"subtract");function _d(t){return typeof t=="string"||t instanceof String}function Kb(t){return Ze(t)||On(t)||_d(t)||_t(t)||Xb(t)||Qb(t)||t===null||t===void 0}function Qb(t){var e=$t(t)&&!Ta(t),s=!1,n=["years","year","y","months","month","M","days","day","d","dates","date","D","hours","hour","h","minutes","minute","m","seconds","second","s","milliseconds","millisecond","ms"],r,i,o=n.length;for(r=0;r<o;r+=1)i=n[r],s=s||q(t,i);return e&&s}function Xb(t){var e=Xe(t),s=!1;return e&&(s=t.filter(function(n){return!_t(n)&&_d(t)}).length===0),e&&s}function Zb(t){var e=$t(t)&&!Ta(t),s=!1,n=["sameDay","nextDay","lastDay","nextWeek","lastWeek","sameElse"],r,i;for(r=0;r<n.length;r+=1)i=n[r],s=s||q(t,i);return e&&s}function Jb(t,e){var s=t.diff(e,"days",!0);return s<-6?"sameElse":s<-1?"lastWeek":s<0?"lastDay":s<1?"sameDay":s<2?"nextDay":s<7?"nextWeek":"sameElse"}function ek(t,e){arguments.length===1&&(arguments[0]?Kb(arguments[0])?(t=arguments[0],e=void 0):Zb(arguments[0])&&(e=arguments[0],t=void 0):(t=void 0,e=void 0));var s=t||J(),n=Va(s,this).startOf("day"),r=k.calendarFormat(this,n)||"sameElse",i=e&&(ut(e[r])?e[r].call(this,s):e[r]);return this.format(i||this.localeData().calendar(r,this,J(s)))}function tk(){return new Rn(this)}function sk(t,e){var s=Ze(t)?t:J(t);return this.isValid()&&s.isValid()?(e=qe(e)||"millisecond",e==="millisecond"?this.valueOf()>s.valueOf():s.valueOf()<this.clone().startOf(e).valueOf()):!1}function nk(t,e){var s=Ze(t)?t:J(t);return this.isValid()&&s.isValid()?(e=qe(e)||"millisecond",e==="millisecond"?this.valueOf()<s.valueOf():this.clone().endOf(e).valueOf()<s.valueOf()):!1}function rk(t,e,s,n){var r=Ze(t)?t:J(t),i=Ze(e)?e:J(e);return this.isValid()&&r.isValid()&&i.isValid()?(n=n||"()",(n[0]==="("?this.isAfter(r,s):!this.isBefore(r,s))&&(n[1]===")"?this.isBefore(i,s):!this.isAfter(i,s))):!1}function ik(t,e){var s=Ze(t)?t:J(t),n;return this.isValid()&&s.isValid()?(e=qe(e)||"millisecond",e==="millisecond"?this.valueOf()===s.valueOf():(n=s.valueOf(),this.clone().startOf(e).valueOf()<=n&&n<=this.clone().endOf(e).valueOf())):!1}function ok(t,e){return this.isSame(t,e)||this.isAfter(t,e)}function ak(t,e){return this.isSame(t,e)||this.isBefore(t,e)}function lk(t,e,s){var n,r,i;if(!this.isValid())return NaN;if(n=Va(t,this),!n.isValid())return NaN;switch(r=(n.utcOffset()-this.utcOffset())*6e4,e=qe(e),e){case"year":i=nr(this,n)/12;break;case"month":i=nr(this,n);break;case"quarter":i=nr(this,n)/3;break;case"second":i=(this-n)/1e3;break;case"minute":i=(this-n)/6e4;break;case"hour":i=(this-n)/36e5;break;case"day":i=(this-n-r)/864e5;break;case"week":i=(this-n-r)/6048e5;break;default:i=this-n}return s?i:je(i)}function nr(t,e){if(t.date()<e.date())return-nr(e,t);var s=(e.year()-t.year())*12+(e.month()-t.month()),n=t.clone().add(s,"months"),r,i;return e-n<0?(r=t.clone().add(s-1,"months"),i=(e-n)/(n-r)):(r=t.clone().add(s+1,"months"),i=(e-n)/(r-n)),-(s+i)||0}k.defaultFormat="YYYY-MM-DDTHH:mm:ssZ";k.defaultFormatUtc="YYYY-MM-DDTHH:mm:ss[Z]";function uk(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")}function ck(t){if(!this.isValid())return null;var e=t!==!0,s=e?this.clone().utc():this;return s.year()<0||s.year()>9999?tr(s,e?"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYYYY-MM-DD[T]HH:mm:ss.SSSZ"):ut(Date.prototype.toISOString)?e?this.toDate().toISOString():new Date(this.valueOf()+this.utcOffset()*60*1e3).toISOString().replace("Z",tr(s,"Z")):tr(s,e?"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]":"YYYY-MM-DD[T]HH:mm:ss.SSSZ")}function hk(){if(!this.isValid())return"moment.invalid(/* "+this._i+" */)";var t="moment",e="",s,n,r,i;return this.isLocal()||(t=this.utcOffset()===0?"moment.utc":"moment.parseZone",e="Z"),s="["+t+'("]',n=0<=this.year()&&this.year()<=9999?"YYYY":"YYYYYY",r="-MM-DD[T]HH:mm:ss.SSS",i=e+'[")]',this.format(s+n+r+i)}function dk(t){t||(t=this.isUtc()?k.defaultFormatUtc:k.defaultFormat);var e=tr(this,t);return this.localeData().postformat(e)}function fk(t,e){return this.isValid()&&(Ze(t)&&t.isValid()||J(t).isValid())?Je({to:this,from:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function mk(t){return this.from(J(),t)}function pk(t,e){return this.isValid()&&(Ze(t)&&t.isValid()||J(t).isValid())?Je({from:this,to:t}).locale(this.locale()).humanize(!e):this.localeData().invalidDate()}function gk(t){return this.to(J(),t)}function Td(t){var e;return t===void 0?this._locale._abbr:(e=Tt(t),e!=null&&(this._locale=e),this)}var Ed=Be("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(t){return t===void 0?this.localeData():this.locale(t)});function Sd(){return this._locale}var Ir=1e3,fs=60*Ir,xr=60*fs,Dd=(365*400+97)*24*xr;function ms(t,e){return(t%e+e)%e}function Id(t,e,s){return t<100&&t>=0?new Date(t+400,e,s)-Dd:new Date(t,e,s).valueOf()}function xd(t,e,s){return t<100&&t>=0?Date.UTC(t+400,e,s)-Dd:Date.UTC(t,e,s)}function yk(t){var e,s;if(t=qe(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?xd:Id,t){case"year":e=s(this.year(),0,1);break;case"quarter":e=s(this.year(),this.month()-this.month()%3,1);break;case"month":e=s(this.year(),this.month(),1);break;case"week":e=s(this.year(),this.month(),this.date()-this.weekday());break;case"isoWeek":e=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1));break;case"day":case"date":e=s(this.year(),this.month(),this.date());break;case"hour":e=this._d.valueOf(),e-=ms(e+(this._isUTC?0:this.utcOffset()*fs),xr);break;case"minute":e=this._d.valueOf(),e-=ms(e,fs);break;case"second":e=this._d.valueOf(),e-=ms(e,Ir);break}return this._d.setTime(e),k.updateOffset(this,!0),this}function wk(t){var e,s;if(t=qe(t),t===void 0||t==="millisecond"||!this.isValid())return this;switch(s=this._isUTC?xd:Id,t){case"year":e=s(this.year()+1,0,1)-1;break;case"quarter":e=s(this.year(),this.month()-this.month()%3+3,1)-1;break;case"month":e=s(this.year(),this.month()+1,1)-1;break;case"week":e=s(this.year(),this.month(),this.date()-this.weekday()+7)-1;break;case"isoWeek":e=s(this.year(),this.month(),this.date()-(this.isoWeekday()-1)+7)-1;break;case"day":case"date":e=s(this.year(),this.month(),this.date()+1)-1;break;case"hour":e=this._d.valueOf(),e+=xr-ms(e+(this._isUTC?0:this.utcOffset()*fs),xr)-1;break;case"minute":e=this._d.valueOf(),e+=fs-ms(e,fs)-1;break;case"second":e=this._d.valueOf(),e+=Ir-ms(e,Ir)-1;break}return this._d.setTime(e),k.updateOffset(this,!0),this}function vk(){return this._d.valueOf()-(this._offset||0)*6e4}function bk(){return Math.floor(this.valueOf()/1e3)}function kk(){return new Date(this.valueOf())}function _k(){var t=this;return[t.year(),t.month(),t.date(),t.hour(),t.minute(),t.second(),t.millisecond()]}function Tk(){var t=this;return{years:t.year(),months:t.month(),date:t.date(),hours:t.hours(),minutes:t.minutes(),seconds:t.seconds(),milliseconds:t.milliseconds()}}function Ek(){return this.isValid()?this.toISOString():null}function Sk(){return Ea(this)}function Dk(){return It({},P(this))}function Ik(){return P(this).overflow}function xk(){return{input:this._i,format:this._f,locale:this._locale,isUTC:this._isUTC,strict:this._strict}}I("N",0,0,"eraAbbr");I("NN",0,0,"eraAbbr");I("NNN",0,0,"eraAbbr");I("NNNN",0,0,"eraName");I("NNNNN",0,0,"eraNarrow");I("y",["y",1],"yo","eraYear");I("y",["yy",2],0,"eraYear");I("y",["yyy",3],0,"eraYear");I("y",["yyyy",4],0,"eraYear");_("N",ja);_("NN",ja);_("NNN",ja);_("NNNN",Vk);_("NNNNN",jk);K(["N","NN","NNN","NNNN","NNNNN"],function(t,e,s,n){var r=s._locale.erasParse(t,n,s._strict);r?P(s).era=r:P(s).invalidEra=t});_("y",Ns);_("yy",Ns);_("yyy",Ns);_("yyyy",Ns);_("yo",zk);K(["y","yy","yyy","yyyy"],Ae);K(["yo"],function(t,e,s,n){var r;s._locale._eraYearOrdinalRegex&&(r=t.match(s._locale._eraYearOrdinalRegex)),s._locale.eraYearOrdinalParse?e[Ae]=s._locale.eraYearOrdinalParse(t,r):e[Ae]=parseInt(t,10)});function Ck(t,e){var s,n,r,i=this._eras||Tt("en")._eras;for(s=0,n=i.length;s<n;++s){switch(typeof i[s].since){case"string":r=k(i[s].since).startOf("day"),i[s].since=r.valueOf();break}switch(typeof i[s].until){case"undefined":i[s].until=1/0;break;case"string":r=k(i[s].until).startOf("day").valueOf(),i[s].until=r.valueOf();break}}return i}function Ak(t,e,s){var n,r,i=this.eras(),o,a,l;for(t=t.toUpperCase(),n=0,r=i.length;n<r;++n)if(o=i[n].name.toUpperCase(),a=i[n].abbr.toUpperCase(),l=i[n].narrow.toUpperCase(),s)switch(e){case"N":case"NN":case"NNN":if(a===t)return i[n];break;case"NNNN":if(o===t)return i[n];break;case"NNNNN":if(l===t)return i[n];break}else if([o,a,l].indexOf(t)>=0)return i[n]}function Mk(t,e){var s=t.since<=t.until?1:-1;return e===void 0?k(t.since).year():k(t.since).year()+(e-t.offset)*s}function Nk(){var t,e,s,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(s=this.clone().startOf("day").valueOf(),n[t].since<=s&&s<=n[t].until||n[t].until<=s&&s<=n[t].since)return n[t].name;return""}function Ok(){var t,e,s,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(s=this.clone().startOf("day").valueOf(),n[t].since<=s&&s<=n[t].until||n[t].until<=s&&s<=n[t].since)return n[t].narrow;return""}function Rk(){var t,e,s,n=this.localeData().eras();for(t=0,e=n.length;t<e;++t)if(s=this.clone().startOf("day").valueOf(),n[t].since<=s&&s<=n[t].until||n[t].until<=s&&s<=n[t].since)return n[t].abbr;return""}function Lk(){var t,e,s,n,r=this.localeData().eras();for(t=0,e=r.length;t<e;++t)if(s=r[t].since<=r[t].until?1:-1,n=this.clone().startOf("day").valueOf(),r[t].since<=n&&n<=r[t].until||r[t].until<=n&&n<=r[t].since)return(this.year()-k(r[t].since).year())*s+r[t].offset;return this.year()}function Pk(t){return q(this,"_erasNameRegex")||za.call(this),t?this._erasNameRegex:this._erasRegex}function Fk(t){return q(this,"_erasAbbrRegex")||za.call(this),t?this._erasAbbrRegex:this._erasRegex}function Uk(t){return q(this,"_erasNarrowRegex")||za.call(this),t?this._erasNarrowRegex:this._erasRegex}function ja(t,e){return e.erasAbbrRegex(t)}function Vk(t,e){return e.erasNameRegex(t)}function jk(t,e){return e.erasNarrowRegex(t)}function zk(t,e){return e._eraYearOrdinalRegex||Ns}function za(){var t=[],e=[],s=[],n=[],r,i,o=this.eras();for(r=0,i=o.length;r<i;++r)e.push(Pe(o[r].name)),t.push(Pe(o[r].abbr)),s.push(Pe(o[r].narrow)),n.push(Pe(o[r].name)),n.push(Pe(o[r].abbr)),n.push(Pe(o[r].narrow));this._erasRegex=new RegExp("^("+n.join("|")+")","i"),this._erasNameRegex=new RegExp("^("+e.join("|")+")","i"),this._erasAbbrRegex=new RegExp("^("+t.join("|")+")","i"),this._erasNarrowRegex=new RegExp("^("+s.join("|")+")","i")}I(0,["gg",2],0,function(){return this.weekYear()%100});I(0,["GG",2],0,function(){return this.isoWeekYear()%100});function hi(t,e){I(0,[t,t.length],0,e)}hi("gggg","weekYear");hi("ggggg","weekYear");hi("GGGG","isoWeekYear");hi("GGGGG","isoWeekYear");Ne("weekYear","gg");Ne("isoWeekYear","GG");Oe("weekYear",1);Oe("isoWeekYear",1);_("G",oi);_("g",oi);_("GG",ee,Ve);_("gg",ee,Ve);_("GGGG",Aa,Ca);_("gggg",Aa,Ca);_("GGGGG",ii,ni);_("ggggg",ii,ni);Pn(["gggg","ggggg","GGGG","GGGGG"],function(t,e,s,n){e[n.substr(0,2)]=V(t)});Pn(["gg","GG"],function(t,e,s,n){e[n]=k.parseTwoDigitYear(t)});function Yk(t){return Cd.call(this,t,this.week(),this.weekday(),this.localeData()._week.dow,this.localeData()._week.doy)}function Bk(t){return Cd.call(this,t,this.isoWeek(),this.isoWeekday(),1,4)}function qk(){return yt(this.year(),1,4)}function Wk(){return yt(this.isoWeekYear(),1,4)}function $k(){var t=this.localeData()._week;return yt(this.year(),t.dow,t.doy)}function Hk(){var t=this.localeData()._week;return yt(this.weekYear(),t.dow,t.doy)}function Cd(t,e,s,n,r){var i;return t==null?pn(this,n,r).year:(i=yt(t,n,r),e>i&&(e=i),Gk.call(this,t,e,s,n,r))}function Gk(t,e,s,n,r){var i=ld(t,e,s,n,r),o=mn(i.year,0,i.dayOfYear);return this.year(o.getUTCFullYear()),this.month(o.getUTCMonth()),this.date(o.getUTCDate()),this}I("Q",0,"Qo","quarter");Ne("quarter","Q");Oe("quarter",7);_("Q",Zh);K("Q",function(t,e){e[ft]=(V(t)-1)*3});function Kk(t){return t==null?Math.ceil((this.month()+1)/3):this.month((t-1)*3+this.month()%3)}I("D",["DD",2],"Do","date");Ne("date","D");Oe("date",9);_("D",ee);_("DD",ee,Ve);_("Do",function(t,e){return t?e._dayOfMonthOrdinalParse||e._ordinalParse:e._dayOfMonthOrdinalParseLenient});K(["D","DD"],nt);K("Do",function(t,e){e[nt]=V(t.match(ee)[0])});var Ad=Ms("Date",!0);I("DDD",["DDDD",3],"DDDo","dayOfYear");Ne("dayOfYear","DDD");Oe("dayOfYear",4);_("DDD",ri);_("DDDD",Jh);K(["DDD","DDDD"],function(t,e,s){s._dayOfYear=V(t)});function Qk(t){var e=Math.round((this.clone().startOf("day")-this.clone().startOf("year"))/864e5)+1;return t==null?e:this.add(t-e,"d")}I("m",["mm",2],0,"minute");Ne("minute","m");Oe("minute",14);_("m",ee);_("mm",ee,Ve);K(["m","mm"],Qe);var Xk=Ms("Minutes",!1);I("s",["ss",2],0,"second");Ne("second","s");Oe("second",15);_("s",ee);_("ss",ee,Ve);K(["s","ss"],mt);var Zk=Ms("Seconds",!1);I("S",0,0,function(){return~~(this.millisecond()/100)});I(0,["SS",2],0,function(){return~~(this.millisecond()/10)});I(0,["SSS",3],0,"millisecond");I(0,["SSSS",4],0,function(){return this.millisecond()*10});I(0,["SSSSS",5],0,function(){return this.millisecond()*100});I(0,["SSSSSS",6],0,function(){return this.millisecond()*1e3});I(0,["SSSSSSS",7],0,function(){return this.millisecond()*1e4});I(0,["SSSSSSSS",8],0,function(){return this.millisecond()*1e5});I(0,["SSSSSSSSS",9],0,function(){return this.millisecond()*1e6});Ne("millisecond","ms");Oe("millisecond",16);_("S",ri,Zh);_("SS",ri,Ve);_("SSS",ri,Jh);var xt,Md;for(xt="SSSS";xt.length<=9;xt+="S")_(xt,Ns);function Jk(t,e){e[Bt]=V(("0."+t)*1e3)}for(xt="S";xt.length<=9;xt+="S")K(xt,Jk);Md=Ms("Milliseconds",!1);I("z",0,0,"zoneAbbr");I("zz",0,0,"zoneName");function e0(){return this._isUTC?"UTC":""}function t0(){return this._isUTC?"Coordinated Universal Time":""}var y=Rn.prototype;y.add=Hb;y.calendar=ek;y.clone=tk;y.diff=lk;y.endOf=wk;y.format=dk;y.from=fk;y.fromNow=mk;y.to=pk;y.toNow=gk;y.get=nv;y.invalidAt=Ik;y.isAfter=sk;y.isBefore=nk;y.isBetween=rk;y.isSame=ik;y.isSameOrAfter=ok;y.isSameOrBefore=ak;y.isValid=Sk;y.lang=Ed;y.locale=Td;y.localeData=Sd;y.max=Sb;y.min=Eb;y.parsingFlags=Dk;y.set=rv;y.startOf=yk;y.subtract=Gb;y.toArray=_k;y.toObject=Tk;y.toDate=kk;y.toISOString=ck;y.inspect=hk;typeof Symbol<"u"&&Symbol.for!=null&&(y[Symbol.for("nodejs.util.inspect.custom")]=function(){return"Moment<"+this.format()+">"});y.toJSON=Ek;y.toString=uk;y.unix=bk;y.valueOf=vk;y.creationData=xk;y.eraName=Nk;y.eraNarrow=Ok;y.eraAbbr=Rk;y.eraYear=Lk;y.year=ad;y.isLeapYear=Tv;y.weekYear=Yk;y.isoWeekYear=Bk;y.quarter=y.quarters=Kk;y.month=id;y.daysInMonth=bv;y.week=y.weeks=Cv;y.isoWeek=y.isoWeeks=Av;y.weeksInYear=$k;y.weeksInWeekYear=Hk;y.isoWeeksInYear=qk;y.isoWeeksInISOWeekYear=Wk;y.date=Ad;y.day=y.days=Bv;y.weekday=qv;y.isoWeekday=Wv;y.dayOfYear=Qk;y.hour=y.hours=Zv;y.minute=y.minutes=Xk;y.second=y.seconds=Zk;y.millisecond=y.milliseconds=Md;y.utcOffset=Rb;y.utc=Pb;y.local=Fb;y.parseZone=Ub;y.hasAlignedHourOffset=Vb;y.isDST=jb;y.isLocal=Yb;y.isUtcOffset=Bb;y.isUtc=vd;y.isUTC=vd;y.zoneAbbr=e0;y.zoneName=t0;y.dates=Be("dates accessor is deprecated. Use date instead.",Ad);y.months=Be("months accessor is deprecated. Use month instead",id);y.years=Be("years accessor is deprecated. Use year instead",ad);y.zone=Be("moment().zone is deprecated, use moment().utcOffset instead. http://momentjs.com/guides/#/warnings/zone/",Lb);y.isDSTShifted=Be("isDSTShifted is deprecated. See http://momentjs.com/guides/#/warnings/dst-shifted/ for more information",zb);function s0(t){return J(t*1e3)}function n0(){return J.apply(null,arguments).parseZone()}function Nd(t){return t}var W=Da.prototype;W.calendar=Bw;W.longDateFormat=Hw;W.invalidDate=Kw;W.ordinal=Zw;W.preparse=Nd;W.postformat=Nd;W.relativeTime=ev;W.pastFuture=tv;W.set=zw;W.eras=Ck;W.erasParse=Ak;W.erasConvertYear=Mk;W.erasAbbrRegex=Fk;W.erasNameRegex=Pk;W.erasNarrowRegex=Uk;W.months=gv;W.monthsShort=yv;W.monthsParse=vv;W.monthsRegex=_v;W.monthsShortRegex=kv;W.week=Sv;W.firstDayOfYear=xv;W.firstDayOfWeek=Iv;W.weekdays=Uv;W.weekdaysMin=jv;W.weekdaysShort=Vv;W.weekdaysParse=Yv;W.weekdaysRegex=$v;W.weekdaysShortRegex=Hv;W.weekdaysMinRegex=Gv;W.isPM=Qv;W.meridiem=Jv;function Cr(t,e,s,n){var r=Tt(),i=lt().set(n,e);return r[s](i,t)}function Od(t,e,s){if(_t(t)&&(e=t,t=void 0),t=t||"",e!=null)return Cr(t,e,s,"month");var n,r=[];for(n=0;n<12;n++)r[n]=Cr(t,n,s,"month");return r}function Ya(t,e,s,n){typeof t=="boolean"?(_t(e)&&(s=e,e=void 0),e=e||""):(e=t,s=e,t=!1,_t(e)&&(s=e,e=void 0),e=e||"");var r=Tt(),i=t?r._week.dow:0,o,a=[];if(s!=null)return Cr(e,(s+i)%7,n,"day");for(o=0;o<7;o++)a[o]=Cr(e,(o+i)%7,n,"day");return a}function r0(t,e){return Od(t,e,"months")}function i0(t,e){return Od(t,e,"monthsShort")}function o0(t,e,s){return Ya(t,e,s,"weekdays")}function a0(t,e,s){return Ya(t,e,s,"weekdaysShort")}function l0(t,e,s){return Ya(t,e,s,"weekdaysMin")}Nt("en",{eras:[{since:"0001-01-01",until:1/0,offset:1,name:"Anno Domini",narrow:"AD",abbr:"AD"},{since:"0000-12-31",until:-1/0,offset:1,name:"Before Christ",narrow:"BC",abbr:"BC"}],dayOfMonthOrdinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(t){var e=t%10,s=V(t%100/10)===1?"th":e===1?"st":e===2?"nd":e===3?"rd":"th";return t+s}});k.lang=Be("moment.lang is deprecated. Use moment.locale instead.",Nt);k.langData=Be("moment.langData is deprecated. Use moment.localeData instead.",Tt);var ct=Math.abs;function u0(){var t=this._data;return this._milliseconds=ct(this._milliseconds),this._days=ct(this._days),this._months=ct(this._months),t.milliseconds=ct(t.milliseconds),t.seconds=ct(t.seconds),t.minutes=ct(t.minutes),t.hours=ct(t.hours),t.months=ct(t.months),t.years=ct(t.years),this}function Rd(t,e,s,n){var r=Je(e,s);return t._milliseconds+=n*r._milliseconds,t._days+=n*r._days,t._months+=n*r._months,t._bubble()}function c0(t,e){return Rd(this,t,e,1)}function h0(t,e){return Rd(this,t,e,-1)}function su(t){return t<0?Math.floor(t):Math.ceil(t)}function d0(){var t=this._milliseconds,e=this._days,s=this._months,n=this._data,r,i,o,a,l;return t>=0&&e>=0&&s>=0||t<=0&&e<=0&&s<=0||(t+=su(Eo(s)+e)*864e5,e=0,s=0),n.milliseconds=t%1e3,r=je(t/1e3),n.seconds=r%60,i=je(r/60),n.minutes=i%60,o=je(i/60),n.hours=o%24,e+=je(o/24),l=je(Ld(e)),s+=l,e-=su(Eo(l)),a=je(s/12),s%=12,n.days=e,n.months=s,n.years=a,this}function Ld(t){return t*4800/146097}function Eo(t){return t*146097/4800}function f0(t){if(!this.isValid())return NaN;var e,s,n=this._milliseconds;if(t=qe(t),t==="month"||t==="quarter"||t==="year")switch(e=this._days+n/864e5,s=this._months+Ld(e),t){case"month":return s;case"quarter":return s/3;case"year":return s/12}else switch(e=this._days+Math.round(Eo(this._months)),t){case"week":return e/7+n/6048e5;case"day":return e+n/864e5;case"hour":return e*24+n/36e5;case"minute":return e*1440+n/6e4;case"second":return e*86400+n/1e3;case"millisecond":return Math.floor(e*864e5)+n;default:throw new Error("Unknown unit "+t)}}function m0(){return this.isValid()?this._milliseconds+this._days*864e5+this._months%12*2592e6+V(this._months/12)*31536e6:NaN}function Et(t){return function(){return this.as(t)}}var p0=Et("ms"),g0=Et("s"),y0=Et("m"),w0=Et("h"),v0=Et("d"),b0=Et("w"),k0=Et("M"),_0=Et("Q"),T0=Et("y");function E0(){return Je(this)}function S0(t){return t=qe(t),this.isValid()?this[t+"s"]():NaN}function es(t){return function(){return this.isValid()?this._data[t]:NaN}}var D0=es("milliseconds"),I0=es("seconds"),x0=es("minutes"),C0=es("hours"),A0=es("days"),M0=es("months"),N0=es("years");function O0(){return je(this.days()/7)}var ht=Math.round,ls={ss:44,s:45,m:45,h:22,d:26,w:null,M:11};function R0(t,e,s,n,r){return r.relativeTime(e||1,!!s,t,n)}function L0(t,e,s,n){var r=Je(t).abs(),i=ht(r.as("s")),o=ht(r.as("m")),a=ht(r.as("h")),l=ht(r.as("d")),u=ht(r.as("M")),c=ht(r.as("w")),p=ht(r.as("y")),h=i<=s.ss&&["s",i]||i<s.s&&["ss",i]||o<=1&&["m"]||o<s.m&&["mm",o]||a<=1&&["h"]||a<s.h&&["hh",a]||l<=1&&["d"]||l<s.d&&["dd",l];return s.w!=null&&(h=h||c<=1&&["w"]||c<s.w&&["ww",c]),h=h||u<=1&&["M"]||u<s.M&&["MM",u]||p<=1&&["y"]||["yy",p],h[2]=e,h[3]=+t>0,h[4]=n,R0.apply(null,h)}function P0(t){return t===void 0?ht:typeof t=="function"?(ht=t,!0):!1}function F0(t,e){return ls[t]===void 0?!1:e===void 0?ls[t]:(ls[t]=e,t==="s"&&(ls.ss=e-1),!0)}function U0(t,e){if(!this.isValid())return this.localeData().invalidDate();var s=!1,n=ls,r,i;return typeof t=="object"&&(e=t,t=!1),typeof t=="boolean"&&(s=t),typeof e=="object"&&(n=Object.assign({},ls,e),e.s!=null&&e.ss==null&&(n.ss=e.s-1)),r=this.localeData(),i=L0(this,!s,n,r),s&&(i=r.pastFuture(+this,i)),r.postformat(i)}var ji=Math.abs;function ns(t){return(t>0)-(t<0)||+t}function di(){if(!this.isValid())return this.localeData().invalidDate();var t=ji(this._milliseconds)/1e3,e=ji(this._days),s=ji(this._months),n,r,i,o,a=this.asSeconds(),l,u,c,p;return a?(n=je(t/60),r=je(n/60),t%=60,n%=60,i=je(s/12),s%=12,o=t?t.toFixed(3).replace(/\.?0+$/,""):"",l=a<0?"-":"",u=ns(this._months)!==ns(a)?"-":"",c=ns(this._days)!==ns(a)?"-":"",p=ns(this._milliseconds)!==ns(a)?"-":"",l+"P"+(i?u+i+"Y":"")+(s?u+s+"M":"")+(e?c+e+"D":"")+(r||n||t?"T":"")+(r?p+r+"H":"")+(n?p+n+"M":"")+(t?p+o+"S":"")):"P0D"}var B=ci.prototype;B.isValid=Ab;B.abs=u0;B.add=c0;B.subtract=h0;B.as=f0;B.asMilliseconds=p0;B.asSeconds=g0;B.asMinutes=y0;B.asHours=w0;B.asDays=v0;B.asWeeks=b0;B.asMonths=k0;B.asQuarters=_0;B.asYears=T0;B.valueOf=m0;B._bubble=d0;B.clone=E0;B.get=S0;B.milliseconds=D0;B.seconds=I0;B.minutes=x0;B.hours=C0;B.days=A0;B.weeks=O0;B.months=M0;B.years=N0;B.humanize=U0;B.toISOString=di;B.toString=di;B.toJSON=di;B.locale=Td;B.localeData=Sd;B.toIsoString=Be("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",di);B.lang=Ed;I("X",0,0,"unix");I("x",0,0,"valueOf");_("x",oi);_("X",ov);K("X",function(t,e,s){s._d=new Date(parseFloat(t)*1e3)});K("x",function(t,e,s){s._d=new Date(V(t))});//! moment.js
k.version="2.29.4";Vw(J);k.fn=y;k.min=Db;k.max=Ib;k.now=xb;k.utc=lt;k.unix=s0;k.months=r0;k.isDate=On;k.locale=Nt;k.invalid=ti;k.duration=Je;k.isMoment=Ze;k.weekdays=o0;k.parseZone=n0;k.localeData=Tt;k.isDuration=sr;k.monthsShort=i0;k.weekdaysMin=l0;k.defineLocale=Ra;k.updateLocale=nb;k.locales=rb;k.weekdaysShort=a0;k.normalizeUnits=qe;k.relativeTimeRounding=P0;k.relativeTimeThreshold=F0;k.calendarFormat=Jb;k.prototype=y;k.HTML5_FMT={DATETIME_LOCAL:"YYYY-MM-DDTHH:mm",DATETIME_LOCAL_SECONDS:"YYYY-MM-DDTHH:mm:ss",DATETIME_LOCAL_MS:"YYYY-MM-DDTHH:mm:ss.SSS",DATE:"YYYY-MM-DD",TIME:"HH:mm",TIME_SECONDS:"HH:mm:ss",TIME_MS:"HH:mm:ss.SSS",WEEK:"GGGG-[W]WW",MONTH:"YYYY-MM"};const V0=Object.freeze(Object.defineProperty({__proto__:null,default:k},Symbol.toStringTag,{value:"Module"})),j0=Gd(V0);var z0=j0;Object.defineProperty(qh,"__esModule",{value:!0});var Y0=qh.default=z0;function nu(t,e,s){const n=t.slice();return n[7]=e[s],n}function ru(t,e,s){const n=t.slice();return n[10]=e[s],n}function iu(t,e,s){const n=t.slice();return n[7]=e[s],n}function B0(t){let e,s=t[7].letter+"",n;return{c(){e=ge("p"),n=Te(s),this.h()},l(r){e=ye(r,"P",{class:!0});var i=De(e);n=Ee(i,s),i.forEach(U),this.h()},h(){Fe(e,"class","letterPrev svelte-bz9iam")},m(r,i){ne(r,e,i),te(e,n)},p(r,i){i&1&&s!==(s=r[7].letter+"")&&yn(n,s)},d(r){r&&U(e)}}}function q0(t){let e,s=t[7].letter+"",n;return{c(){e=ge("p"),n=Te(s),this.h()},l(r){e=ye(r,"P",{class:!0,style:!0});var i=De(e);n=Ee(i,s),i.forEach(U),this.h()},h(){Fe(e,"class","letterPrev svelte-bz9iam"),Co(e,"color","green")},m(r,i){ne(r,e,i),te(e,n)},p(r,i){i&1&&s!==(s=r[7].letter+"")&&yn(n,s)},d(r){r&&U(e)}}}function W0(t){let e,s=t[7].letter+"",n;return{c(){e=ge("p"),n=Te(s),this.h()},l(r){e=ye(r,"P",{class:!0,style:!0});var i=De(e);n=Ee(i,s),i.forEach(U),this.h()},h(){Fe(e,"class","letterPrev svelte-bz9iam"),Co(e,"color","rgb(209, 141, 31)")},m(r,i){ne(r,e,i),te(e,n)},p(r,i){i&1&&s!==(s=r[7].letter+"")&&yn(n,s)},d(r){r&&U(e)}}}function ou(t){let e;function s(i,o){return i[7].state==1?W0:i[7].state==2?q0:B0}let n=s(t),r=n(t);return{c(){r.c(),e=ps()},l(i){r.l(i),e=ps()},m(i,o){r.m(i,o),ne(i,e,o)},p(i,o){n===(n=s(i))&&r?r.p(i,o):(r.d(1),r=n(i),r&&(r.c(),r.m(e.parentNode,e)))},d(i){r.d(i),i&&U(e)}}}function au(t){let e,s,n=t[10].letters,r=[];for(let i=0;i<n.length;i+=1)r[i]=ou(iu(t,n,i));return{c(){e=ge("div");for(let i=0;i<r.length;i+=1)r[i].c();this.h()},l(i){e=ye(i,"DIV",{id:!0,class:!0});var o=De(e);for(let a=0;a<r.length;a+=1)r[a].l(o);o.forEach(U),this.h()},h(){Fe(e,"id",s=t[10].word),Fe(e,"class","prevGuess svelte-bz9iam")},m(i,o){ne(i,e,o);for(let a=0;a<r.length;a+=1)r[a]&&r[a].m(e,null)},p(i,o){if(o&1){n=i[10].letters;let a;for(a=0;a<n.length;a+=1){const l=iu(i,n,a);r[a]?r[a].p(l,o):(r[a]=ou(l),r[a].c(),r[a].m(e,null))}for(;a<r.length;a+=1)r[a].d(1);r.length=n.length}o&1&&s!==(s=i[10].word)&&Fe(e,"id",s)},d(i){i&&U(e),xo(r,i)}}}function lu(t){let e,s=t[0].currentGuess.letters,n=[];for(let r=0;r<s.length;r+=1)n[r]=uu(nu(t,s,r));return{c(){e=ge("div");for(let r=0;r<n.length;r+=1)n[r].c();this.h()},l(r){e=ye(r,"DIV",{class:!0});var i=De(e);for(let o=0;o<n.length;o+=1)n[o].l(i);i.forEach(U),this.h()},h(){Fe(e,"class","currentGuessBoxes svelte-bz9iam")},m(r,i){ne(r,e,i);for(let o=0;o<n.length;o+=1)n[o]&&n[o].m(e,null)},p(r,i){if(i&1){s=r[0].currentGuess.letters;let o;for(o=0;o<s.length;o+=1){const a=nu(r,s,o);n[o]?n[o].p(a,i):(n[o]=uu(a),n[o].c(),n[o].m(e,null))}for(;o<n.length;o+=1)n[o].d(1);n.length=s.length}},d(r){r&&U(e),xo(n,r)}}}function uu(t){let e,s=t[7].letter+"",n;return{c(){e=ge("div"),n=Te(s),this.h()},l(r){e=ye(r,"DIV",{class:!0});var i=De(e);n=Ee(i,s),i.forEach(U),this.h()},h(){Fe(e,"class","guess-box svelte-bz9iam")},m(r,i){ne(r,e,i),te(e,n)},p(r,i){i&1&&s!==(s=r[7].letter+"")&&yn(n,s)},d(r){r&&U(e)}}}function cu(t){let e,s,n,r,i,o,a=t[0].guesses.length+"",l,u,c,p,h,m,f,d,g,b;return{c(){e=ge("div"),s=ge("h2"),n=Te("You got it!"),r=He(),i=ge("p"),o=Te("You guessed the word in "),l=Te(a),u=Te(" guesses."),c=He(),p=ge("button"),h=Te("copy to clipboard"),m=He(),f=ge("button"),d=Te("play again (different word)"),this.h()},l(M){e=ye(M,"DIV",{class:!0});var S=De(e);s=ye(S,"H2",{});var x=De(s);n=Ee(x,"You got it!"),x.forEach(U),r=Ge(S),i=ye(S,"P",{});var Q=De(i);o=Ee(Q,"You guessed the word in "),l=Ee(Q,a),u=Ee(Q," guesses."),Q.forEach(U),c=Ge(S),p=ye(S,"BUTTON",{});var We=De(p);h=Ee(We,"copy to clipboard"),We.forEach(U),m=Ge(S),f=ye(S,"BUTTON",{});var St=De(f);d=Ee(St,"play again (different word)"),St.forEach(U),S.forEach(U),this.h()},h(){Fe(e,"class","winner svelte-bz9iam")},m(M,S){ne(M,e,S),te(e,s),te(s,n),te(e,r),te(e,i),te(i,o),te(i,l),te(i,u),te(e,c),te(e,p),te(p,h),te(e,m),te(e,f),te(f,d),g||(b=[zi(p,"click",t[4],{once:!0}),zi(f,"click",t[3],{once:!0})],g=!0)},p(M,S){S&1&&a!==(a=M[0].guesses.length+"")&&yn(l,a)},d(M){M&&U(e),g=!1,$d(b)}}}function hu(t){let e,s;return{c(){e=ge("p"),s=Te("Invalid Word!"),this.h()},l(n){e=ye(n,"P",{style:!0});var r=De(e);s=Ee(r,"Invalid Word!"),r.forEach(U),this.h()},h(){Co(e,"color","red")},m(n,r){ne(n,e,r),te(e,s)},d(n){n&&U(e)}}}function du(t){let e,s;return e=new Jd({props:{showInDevice:"mobile",$$slots:{default:[$0]},$$scope:{ctx:t}}}),{c(){pu(e.$$.fragment)},l(n){gu(e.$$.fragment,n)},m(n,r){yu(e,n,r),s=!0},i(n){s||(pt(e.$$.fragment,n),s=!0)},o(n){Ht(e.$$.fragment,n),s=!1},d(n){wu(e,n)}}}function $0(t){let e;return{c(){e=ge("input"),this.h()},l(s){e=ye(s,"INPUT",{id:!0,type:!0,onkeypress:!0}),this.h()},h(){Fe(e,"id","mobiletextfield"),Fe(e,"type","text"),Fe(e,"onkeypress","keyPressed()")},m(s,n){ne(s,e,n)},p:vu,d(s){s&&U(e)}}}function H0(t){let e,s,n,r,i,o,a,l,u=[...t[0].guesses].reverse(),c=[];for(let d=0;d<u.length;d+=1)c[d]=au(ru(t,u,d));let p=!t[0].winner&&lu(t),h=t[0].winner&&cu(t),m=t[1]&&hu(),f=!t[0].winner&&du(t);return{c(){for(let d=0;d<c.length;d+=1)c[d].c();e=He(),p&&p.c(),s=He(),h&&h.c(),n=He(),m&&m.c(),r=He(),f&&f.c(),i=ps()},l(d){for(let g=0;g<c.length;g+=1)c[g].l(d);e=Ge(d),p&&p.l(d),s=Ge(d),h&&h.l(d),n=Ge(d),m&&m.l(d),r=Ge(d),f&&f.l(d),i=ps()},m(d,g){for(let b=0;b<c.length;b+=1)c[b]&&c[b].m(d,g);ne(d,e,g),p&&p.m(d,g),ne(d,s,g),h&&h.m(d,g),ne(d,n,g),m&&m.m(d,g),ne(d,r,g),f&&f.m(d,g),ne(d,i,g),o=!0,a||(l=zi(window,"keydown",Wd(t[2])),a=!0)},p(d,[g]){if(g&1){u=[...d[0].guesses].reverse();let b;for(b=0;b<u.length;b+=1){const M=ru(d,u,b);c[b]?c[b].p(M,g):(c[b]=au(M),c[b].c(),c[b].m(e.parentNode,e))}for(;b<c.length;b+=1)c[b].d(1);c.length=u.length}d[0].winner?p&&(p.d(1),p=null):p?p.p(d,g):(p=lu(d),p.c(),p.m(s.parentNode,s)),d[0].winner?h?h.p(d,g):(h=cu(d),h.c(),h.m(n.parentNode,n)):h&&(h.d(1),h=null),d[1]?m||(m=hu(),m.c(),m.m(r.parentNode,r)):m&&(m.d(1),m=null),d[0].winner?f&&(fu(),Ht(f,1,1,()=>{f=null}),mu()):f?g&1&&pt(f,1):(f=du(d),f.c(),pt(f,1),f.m(i.parentNode,i))},i(d){o||(pt(f),o=!0)},o(d){Ht(f),o=!1},d(d){xo(c,d),d&&U(e),p&&p.d(d),d&&U(s),h&&h.d(d),d&&U(n),m&&m.d(d),d&&U(r),f&&f.d(d),d&&U(i),a=!1,l()}}}function zs(t,e){return Math.floor(Math.random()*(e-t+1))+t}function G0(t,e,s){let n={wordToGuess:"CRANE",guessCount:0,guesses:[],currentGuess:{letters:[{letter:""},{letter:""},{letter:""},{letter:""},{letter:""}],index:0},winner:!1};r();async function r(){const p=Iu({apiKey:"AIzaSyDcl4k6NksjLX0w0r_9EWcLlR7eh15eLWY",authDomain:"lirdle-e46e1.firebaseapp.com",projectId:"lirdle-e46e1",storageBucket:"lirdle-e46e1.appspot.com",messagingSenderId:"643367228094",appId:"1:643367228094:web:a2e113ba9c6cfc551f84ef"}),h=bw(p),m=ww(h,"word","word"),f=await Rw(m);if(Y0().diff(f.data().lastUpdated.toMillis(),"hours")>=24){let g=Fs[zs(0,Fs.length)];Pw(m,{word:g.toUpperCase(),lastUpdated:ce.fromDate(new Date)}),s(0,n.wordToGuess=g.toUpperCase(),n)}else s(0,n.wordToGuess=f.data().word,n)}let i=!1;function o(c){if(!n.winner){if(c.key==="Enter"&&n.currentGuess.index==5&&l(),c.key==="Backspace"&&n.currentGuess.index>=0&&(console.log(n.currentGuess.letters[n.currentGuess.index],n.currentGuess.index),s(0,n.currentGuess.letters[n.currentGuess.index-1]={letter:""},n),!n.currentGuess.index==0&&s(0,n.currentGuess.index--,n)),c.keyCode>=48&&c.keyCode<=57)return;if(c.keyCode>=65&&c.keyCode<=90||c.keyCode>=97&&event.keyCode<=122){if(n.currentGuess.index==5)return;s(0,n.currentGuess.letters[n.currentGuess.index]={letter:c.key},n),s(0,n.currentGuess.index+=1,n)}}}function a(){s(0,n={wordToGuess:Fs[zs(0,Fs.length)].toUpperCase(),guessCount:0,guesses:[],currentGuess:{letters:[{letter:""},{letter:""},{letter:""},{letter:""},{letter:""}],index:0},winner:!1}),console.log(n)}function l(){console.log(n.wordToGuess);let c="",p=[],h=n.wordToGuess.split(""),m=zs(0,1);for(let d=0;d<n.currentGuess.letters.length;d++){let g=n.currentGuess.letters[d].letter.toUpperCase();c+=g;let b;console.log(g,h[d]),g==h[d]?(console.log("correct placement"),b=2):h.includes(g)&&g!=h[d]?(console.log("incorrect placement, but it is in word"),b=1):(console.log("not at all in word"),b=0),p.push({letter:g,placement:d,state:b})}if(m&&c!=n.wordToGuess){const d=zs(0,5),g=zs(0,2);if(console.log(`lying. original: ${p[d].state}. new: ${g}. letter ${p[d].letter}`),p[d].state==g)return;p[d].state=g,p[d].lie=!0}let f=!1;Fs.includes(c.toLowerCase())&&(f=!0);for(let d in n.guesses)n.guesses[d].word.toUpperCase()==c.toUpperCase()&&(f=!1);f?(s(0,n.guesses=[{word:c,letters:p},...n.guesses],n),s(0,n.currentGuess.letters=[{letter:""},{letter:""},{letter:""},{letter:""},{letter:""}],n),s(0,n.currentGuess.index=0,n),c==n.wordToGuess&&s(0,n.winner=!0,n)):(s(1,i=!0),setTimeout(()=>{s(1,i=!1)},3e3))}function u(){let c="";for(let p=0;p<n.guesses.length;p++){let h=[...n.guesses].reverse()[p],m="";for(let f=0;f<h.letters.length;f++){let d=h.letters[f];d.lie?m+="":d.state==0?m+="":d.state==1?m+="":d.state==2&&(m+="")}m+=`
`,c+=m}c+=`${n.guesses.length} guesses`,navigator.clipboard.writeText(c).then(p=>(console.log("success ",p),c)).catch(p=>{console.error("oops! no clipboard access. ",p)})}return[n,i,o,a,u]}class K0 extends So{constructor(e){super(),Do(this,e,G0,H0,Io,{})}}function Q0(t){let e,s,n,r,i,o,a,l,u,c,p,h,m,f,d,g;return r=new K0({}),{c(){e=ge("h1"),s=Te("Lirdle--  Lirdle except it only lies sometimes."),n=He(),pu(r.$$.fragment),i=He(),o=ge("hr"),a=He(),l=ge("h2"),u=Te("What is Lirdle--? What even is Lirdle?"),c=He(),p=ge("p"),h=Te("Lirdle-- is a clone of "),m=ge("a"),f=Te("Lirdle"),d=Te(`, a Wordle clone except it lies once per line. A few friends and I like to play this game, and I thought "you know what would be pretty funny? this, except it only lies sometimes." a couple hours later, I had this. it wasn't as funny as I'd hoped, but eh. it's too late now. Enjoy!`),this.h()},l(b){e=ye(b,"H1",{});var M=De(e);s=Ee(M,"Lirdle--  Lirdle except it only lies sometimes."),M.forEach(U),n=Ge(b),gu(r.$$.fragment,b),i=Ge(b),o=ye(b,"HR",{}),a=Ge(b),l=ye(b,"H2",{});var S=De(l);u=Ee(S,"What is Lirdle--? What even is Lirdle?"),S.forEach(U),c=Ge(b),p=ye(b,"P",{});var x=De(p);h=Ee(x,"Lirdle-- is a clone of "),m=ye(x,"A",{href:!0});var Q=De(m);f=Ee(Q,"Lirdle"),Q.forEach(U),d=Ee(x,`, a Wordle clone except it lies once per line. A few friends and I like to play this game, and I thought "you know what would be pretty funny? this, except it only lies sometimes." a couple hours later, I had this. it wasn't as funny as I'd hoped, but eh. it's too late now. Enjoy!`),x.forEach(U),this.h()},h(){Fe(m,"href","http://lirdle.com")},m(b,M){ne(b,e,M),te(e,s),ne(b,n,M),yu(r,b,M),ne(b,i,M),ne(b,o,M),ne(b,a,M),ne(b,l,M),te(l,u),ne(b,c,M),ne(b,p,M),te(p,h),te(p,m),te(m,f),te(p,d),g=!0},p:vu,i(b){g||(pt(r.$$.fragment,b),g=!0)},o(b){Ht(r.$$.fragment,b),g=!1},d(b){b&&U(e),b&&U(n),wu(r,b),b&&U(i),b&&U(o),b&&U(a),b&&U(l),b&&U(c),b&&U(p)}}}class e_ extends So{constructor(e){super(),Do(this,e,null,Q0,Io,{})}}export{e_ as default};
